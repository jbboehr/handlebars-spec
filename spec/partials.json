[
	{
		"description": "partials",
		"it": "basic partials",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} ({{url}}) "
		},
		"expected": "Dudes: Yehuda (http://yehuda) Alan (http://alan) ",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "basic partials",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} ({{url}}) "
		},
		"expected": "Dudes: Yehuda (http://yehuda) Alan (http://alan) ",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "dynamic partials",
		"template": "Dudes: {{#dudes}}{{> (partial)}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} ({{url}}) "
		},
		"helpers": {
			"partial": {
				"!code": true,
				"javascript": "function () {\n        return 'dude';\n      }",
				"php": "function() {\n        return 'dude';\n      }"
			}
		},
		"expected": "Dudes: Yehuda (http://yehuda) Alan (http://alan) ",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "dynamic partials",
		"template": "Dudes: {{#dudes}}{{> (partial)}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} ({{url}}) "
		},
		"helpers": {
			"partial": {
				"!code": true,
				"javascript": "function () {\n        return 'dude';\n      }",
				"php": "function() {\n        return 'dude';\n      }"
			}
		},
		"expected": "Dudes: Yehuda (http://yehuda) Alan (http://alan) ",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "failing dynamic partials",
		"template": "Dudes: {{#dudes}}{{> (partial)}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"exception": true,
		"partials": {
			"dude": "{{name}} ({{url}}) "
		},
		"helpers": {
			"partial": {
				"!code": true,
				"javascript": "function () {\n        return 'missing';\n      }",
				"php": "function() {\n        return 'missing';\n      }"
			}
		},
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "partials with context",
		"template": "Dudes: {{>dude dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{#this}}{{name}} ({{url}}) {{/this}}"
		},
		"expected": "Dudes: Yehuda (http://yehuda) Alan (http://alan) ",
		"message": "Partials can be passed a context",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "partials with undefined context",
		"template": "Dudes: {{>dude dudes}}",
		"data": {},
		"partials": {
			"dude": "{{foo}} Empty"
		},
		"expected": "Dudes:  Empty",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "partials with duplicate parameters",
		"template": "Dudes: {{>dude dudes foo bar=baz}}",
		"exception": true,
		"message": "Unsupported number of partial arguments: 2 - 1:7"
	},
	{
		"description": "partials",
		"it": "partials with parameters",
		"template": "Dudes: {{#dudes}}{{> dude others=..}}{{/dudes}}",
		"data": {
			"foo": "bar",
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{others.foo}}{{name}} ({{url}}) "
		},
		"expected": "Dudes: barYehuda (http://yehuda) barAlan (http://alan) ",
		"message": "Basic partials output based on current context.",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "partial in a partial",
		"template": "Dudes: {{#dudes}}{{>dude}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} {{> url}} ",
			"url": "<a href=\"{{url}}\">{{url}}</a>"
		},
		"expected": "Dudes: Yehuda <a href=\"http://yehuda\">http://yehuda</a> Alan <a href=\"http://alan\">http://alan</a> ",
		"message": "Partials are rendered inside of other partials",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "rendering undefined partial throws an exception",
		"template": "{{> whatever}}",
		"exception": true,
		"message": "The partial whatever could not be found"
	},
	{
		"description": "partials",
		"it": "registering undefined partial throws an exception",
		"template": "{{> whatever}}",
		"exception": true,
		"message": "Attempting to register a partial as undefined"
	},
	{
		"description": "partials",
		"it": "rendering template partial in vm mode throws an exception",
		"template": "{{> whatever}}",
		"exception": true,
		"message": "The partial whatever could not be found"
	},
	{
		"description": "partials",
		"it": "rendering function partial in vm mode",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": {
				"!code": true,
				"javascript": "function partial(context) {\n      return context.name + ' (' + context.url + ') ';\n    }",
				"php": "function($context) {\n      return $context['name'] . ' (' . $context['url'] . ') ';\n    }"
			}
		},
		"expected": "Dudes: Yehuda (http://yehuda) Alan (http://alan) ",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "GH-14: a partial preceding a selector",
		"template": "Dudes: {{>dude}} {{anotherDude}}",
		"data": {
			"name": "Jeepers",
			"anotherDude": "Creepers"
		},
		"partials": {
			"dude": "{{name}}"
		},
		"expected": "Dudes: Jeepers Creepers",
		"message": "Regular selectors can follow a partial",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "Partials with slash paths",
		"template": "Dudes: {{> shared/dude}}",
		"data": {
			"name": "Jeepers",
			"anotherDude": "Creepers"
		},
		"partials": {
			"shared/dude": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal paths",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "Partials with slash and point paths",
		"template": "Dudes: {{> shared/dude.thing}}",
		"data": {
			"name": "Jeepers",
			"anotherDude": "Creepers"
		},
		"partials": {
			"shared/dude.thing": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal with points in paths",
		"compileOptions": {}
	},
	{
		"description": "partials",
		"it": "Global Partials",
		"template": "Dudes: {{> shared/dude}} {{> globalTest}}",
		"data": {
			"name": "Jeepers",
			"anotherDude": "Creepers"
		},
		"partials": {
			"shared/dude": "{{name}}"
		},
		"expected": "Dudes: Jeepers Creepers",
		"message": "Partials can use globals or passed",
		"compileOptions": {},
		"globalPartials": {
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "partials",
		"it": "Multiple partial registration",
		"template": "Dudes: {{> shared/dude}} {{> globalTest}}",
		"data": {
			"name": "Jeepers",
			"anotherDude": "Creepers"
		},
		"expected": "Dudes: Jeepers Creepers",
		"message": "Partials can use globals or passed",
		"compileOptions": {},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "partials",
		"it": "Partials with integer path",
		"template": "Dudes: {{> 404}}",
		"data": {
			"name": "Jeepers",
			"anotherDude": "Creepers"
		},
		"partials": {
			"404": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal paths",
		"compileOptions": {},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "partials",
		"it": "Partials with complex path",
		"template": "Dudes: {{> 404/asdf?.bar}}",
		"data": {
			"name": "Jeepers",
			"anotherDude": "Creepers"
		},
		"partials": {
			"404/asdf?.bar": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal paths",
		"compileOptions": {},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "partials",
		"it": "Partials with escaped",
		"template": "Dudes: {{> [+404/asdf?.bar]}}",
		"data": {
			"name": "Jeepers",
			"anotherDude": "Creepers"
		},
		"partials": {
			"+404/asdf?.bar": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal paths",
		"compileOptions": {},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "partials",
		"it": "Partials with string",
		"template": "Dudes: {{> '+404/asdf?.bar'}}",
		"data": {
			"name": "Jeepers",
			"anotherDude": "Creepers"
		},
		"partials": {
			"+404/asdf?.bar": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal paths",
		"compileOptions": {},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "partials",
		"it": "should handle empty partial",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": ""
		},
		"expected": "Dudes: ",
		"compileOptions": {},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "standalone partials",
		"it": "indented partials",
		"template": "Dudes:\n{{#dudes}}\n  {{>dude}}\n{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}}\n"
		},
		"expected": "Dudes:\n  Yehuda\n  Alan\n",
		"compileOptions": {},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "standalone partials",
		"it": "nested indented partials",
		"template": "Dudes:\n{{#dudes}}\n  {{>dude}}\n{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}}\n {{> url}}",
			"url": "{{url}}!\n"
		},
		"expected": "Dudes:\n  Yehuda\n   http://yehuda!\n  Alan\n   http://alan!\n",
		"compileOptions": {},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "standalone partials",
		"it": "prevent nested indented partials",
		"template": "Dudes:\n{{#dudes}}\n  {{>dude}}\n{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}}\n {{> url}}",
			"url": "{{url}}!\n"
		},
		"expected": "Dudes:\n  Yehuda\n http://yehuda!\n  Alan\n http://alan!\n",
		"compileOptions": {
			"preventIndent": true
		},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "compat mode",
		"it": "partials can access parents",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"root": "yes",
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} ({{url}}) {{root}} "
		},
		"expected": "Dudes: Yehuda (http://yehuda) yes Alan (http://alan) yes ",
		"compat": true,
		"compileOptions": {
			"compat": true
		},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "compat mode",
		"it": "partials can access parents without data",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"root": "yes",
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} ({{url}}) {{root}} "
		},
		"expected": "Dudes: Yehuda (http://yehuda) yes Alan (http://alan) yes ",
		"compat": true,
		"compileOptions": {
			"compat": true
		},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	},
	{
		"description": "compat mode",
		"it": "partials inherit compat",
		"template": "Dudes: {{> dude}}",
		"data": {
			"root": "yes",
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{#dudes}}{{name}} ({{url}}) {{root}} {{/dudes}}"
		},
		"expected": "Dudes: Yehuda (http://yehuda) yes Alan (http://alan) yes ",
		"compat": true,
		"compileOptions": {
			"compat": true
		},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"globalTest": "{{anotherDude}}"
		}
	}
]