[
	{
		"description": "helpers",
		"it": "helper with complex lookup$",
		"template": "{{#goodbyes}}{{{link ../prefix}}}{{/goodbyes}}",
		"data": {
			"prefix": "/root",
			"goodbyes": [
				{
					"text": "Goodbye",
					"url": "goodbye"
				}
			]
		},
		"helpers": {
			"link": {
				"!code": true,
				"javascript": "function (prefix) {\n      return '<a href=\"' + prefix + '/' + this.url + '\">' + this.text + '</a>';\n    }",
				"php": "function($prefix, $options) { return \"<a href='{$prefix}/\" . $options->scope['url'] . \"'>\" . $options->scope['text'] . \"</a>\"; }"
			}
		},
		"expected": "<a href=\"/root/goodbye\">Goodbye</a>",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 46
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbyes",
						"parts": [
							"goodbyes"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 33
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 13
									},
									"end": {
										"line": 1,
										"column": 33
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 16
										},
										"end": {
											"line": 1,
											"column": 20
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "link",
									"parts": [
										"link"
									],
									"depth": 0
								},
								"params": [
									{
										"loc": {
											"start": {
												"line": 1,
												"column": 21
											},
											"end": {
												"line": 1,
												"column": 30
											}
										},
										"type": "PathExpression",
										"data": false,
										"original": "../prefix",
										"parts": [
											"prefix"
										],
										"depth": 1
									}
								],
								"escaped": false,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								1
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"prefix"
								],
								null,
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"link"
								],
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"link",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"useDepths": true,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"useDepths": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "helper for raw block gets raw content",
		"template": "{{{{raw}}}} {{test}} {{{{/raw}}}}",
		"data": {
			"test": "hello"
		},
		"helpers": {
			"raw": {
				"!code": true,
				"javascript": "function (options) {\n        return options.fn();\n    }",
				"php": "function($options) { return $options->fn(); }"
			}
		},
		"expected": " {{test}} ",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 33
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 4
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "raw",
						"parts": [
							"raw"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 33
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 11
									},
									"end": {
										"line": 1,
										"column": 21
									}
								},
								"type": "ContentStatement",
								"value": " {{test}} ",
								"original": " {{test}} "
							}
						],
						"blockParams": null,
						"strip": {}
					},
					"openStrip": {},
					"inverseStrip": {},
					"closeStrip": {}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"raw"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"raw",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								" {{test}} "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 21
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "helper for raw block gets parameters",
		"template": "{{{{raw 1 2 3}}}} {{test}} {{{{/raw}}}}",
		"data": {
			"test": "hello"
		},
		"helpers": {
			"raw": {
				"!code": true,
				"javascript": "function (a, b, c, options) {\n        return options.fn() + a + b + c;\n    }",
				"php": "function($a, $b, $c, $options) {\n        return $options->fn() . $a . $b . $c;\n    }"
			}
		},
		"expected": " {{test}} 123",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 39
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 4
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "raw",
						"parts": [
							"raw"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 9
								}
							},
							"type": "NumberLiteral",
							"value": 1,
							"original": 1
						},
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 11
								}
							},
							"type": "NumberLiteral",
							"value": 2,
							"original": 2
						},
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 13
								}
							},
							"type": "NumberLiteral",
							"value": 3,
							"original": 3
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 39
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 17
									},
									"end": {
										"line": 1,
										"column": 27
									}
								},
								"type": "ContentStatement",
								"value": " {{test}} ",
								"original": " {{test}} "
							}
						],
						"blockParams": null,
						"strip": {}
					},
					"openStrip": {},
					"inverseStrip": {},
					"closeStrip": {}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushLiteral",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						2
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						3
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"raw"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						3,
						"raw",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								" {{test}} "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "helper block with complex lookup expression",
		"template": "{{#goodbyes}}{{../name}}{{/goodbyes}}",
		"data": {
			"name": "Alan"
		},
		"helpers": {
			"goodbyes": {
				"!code": true,
				"javascript": "function (options) {\n      var out = '';\n      var byes = ['Goodbye', 'goodbye', 'GOODBYE'];\n      for (var i = 0, j = byes.length; i < j; i++) {\n        out += byes[i] + ' ' + options.fn(this) + '! ';\n      }\n      return out;\n    }",
				"php": "function($options) {\n$byes = array('Goodbye', 'goodbye', 'GOODBYE');\n$out = '';\nforeach ($byes as $bye) {\n$out .= $bye.' ';\n$out .= $options->fn($options->scope);\n$out .= '! ';\n}\nreturn $out;\n}"
			}
		},
		"expected": "Goodbye Alan! goodbye Alan! GOODBYE Alan! ",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 37
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 37
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbyes",
						"parts": [
							"goodbyes"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 24
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 13
									},
									"end": {
										"line": 1,
										"column": 24
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 15
										},
										"end": {
											"line": 1,
											"column": 22
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "../name",
									"parts": [
										"name"
									],
									"depth": 1
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								1
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 22
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 22
								}
							}
						},
						{
							"opcode": "resolvePossibleLambda",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"useDepths": true,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"useDepths": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "helper with complex lookup and nested template",
		"template": "{{#goodbyes}}{{#link ../prefix}}{{text}}{{/link}}{{/goodbyes}}",
		"data": {
			"prefix": "/root",
			"goodbyes": [
				{
					"text": "Goodbye",
					"url": "goodbye"
				}
			]
		},
		"helpers": {
			"link": {
				"!code": true,
				"javascript": "function (prefix, options) {\n        return '<a href=\"' + prefix + '/' + this.url + '\">' + options.fn(this) + '</a>';\n    }",
				"php": "function($prefix, $options) { $out = \"<a href='{$prefix}/\" . $options->scope['url'] . \"'>\"; $out .= $options->fn($options->scope); return $out . \"</a>\"; }"
			}
		},
		"expected": "<a href=\"/root/goodbye\">Goodbye</a>",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 62
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbyes",
						"parts": [
							"goodbyes"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 49
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 13
									},
									"end": {
										"line": 1,
										"column": 49
									}
								},
								"type": "BlockStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 16
										},
										"end": {
											"line": 1,
											"column": 20
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "link",
									"parts": [
										"link"
									],
									"depth": 0
								},
								"params": [
									{
										"loc": {
											"start": {
												"line": 1,
												"column": 21
											},
											"end": {
												"line": 1,
												"column": 30
											}
										},
										"type": "PathExpression",
										"data": false,
										"original": "../prefix",
										"parts": [
											"prefix"
										],
										"depth": 1
									}
								],
								"program": {
									"loc": {
										"start": {
											"line": 1,
											"column": 13
										},
										"end": {
											"line": 1,
											"column": 40
										}
									},
									"type": "Program",
									"body": [
										{
											"loc": {
												"start": {
													"line": 1,
													"column": 32
												},
												"end": {
													"line": 1,
													"column": 40
												}
											},
											"type": "MustacheStatement",
											"path": {
												"loc": {
													"start": {
														"line": 1,
														"column": 34
													},
													"end": {
														"line": 1,
														"column": 38
													}
												},
												"type": "PathExpression",
												"data": false,
												"original": "text",
												"parts": [
													"text"
												],
												"depth": 0
											},
											"params": [],
											"escaped": true,
											"strip": {
												"open": false,
												"close": false
											}
										}
									],
									"strip": {}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								1
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"prefix"
								],
								null,
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 49
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 49
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 49
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"link"
								],
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"link",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 49
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 49
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 32
										},
										"end": {
											"line": 1,
											"column": 40
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 32
										},
										"end": {
											"line": 1,
											"column": 40
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 32
										},
										"end": {
											"line": 1,
											"column": 40
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 34
										},
										"end": {
											"line": 1,
											"column": 38
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"text"
										],
										null,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 34
										},
										"end": {
											"line": 1,
											"column": 38
										}
									}
								},
								{
									"opcode": "invokeAmbiguous",
									"args": [
										"text",
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 32
										},
										"end": {
											"line": 1,
											"column": 40
										}
									}
								},
								{
									"opcode": "appendEscaped",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 32
										},
										"end": {
											"line": 1,
											"column": 40
										}
									}
								}
							],
							"children": [],
							"options": {
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"isSimple": true,
							"blockParams": 0
						}
					],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"guid": 1,
					"useDepths": true,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"useDepths": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "helper with complex lookup and nested template in VM+Compiler",
		"template": "{{#goodbyes}}{{#link ../prefix}}{{text}}{{/link}}{{/goodbyes}}",
		"data": {
			"prefix": "/root",
			"goodbyes": [
				{
					"text": "Goodbye",
					"url": "goodbye"
				}
			]
		},
		"helpers": {
			"link": {
				"!code": true,
				"javascript": "function (prefix, options) {\n        return '<a href=\"' + prefix + '/' + this.url + '\">' + options.fn(this) + '</a>';\n    }",
				"php": "function($prefix, $options) { $out = \"<a href='{$prefix}/\" . $options->scope['url'] . \"'>\"; $out .= $options->fn($options->scope); return $out . \"</a>\"; }"
			}
		},
		"expected": "<a href=\"/root/goodbye\">Goodbye</a>",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 62
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbyes",
						"parts": [
							"goodbyes"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 49
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 13
									},
									"end": {
										"line": 1,
										"column": 49
									}
								},
								"type": "BlockStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 16
										},
										"end": {
											"line": 1,
											"column": 20
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "link",
									"parts": [
										"link"
									],
									"depth": 0
								},
								"params": [
									{
										"loc": {
											"start": {
												"line": 1,
												"column": 21
											},
											"end": {
												"line": 1,
												"column": 30
											}
										},
										"type": "PathExpression",
										"data": false,
										"original": "../prefix",
										"parts": [
											"prefix"
										],
										"depth": 1
									}
								],
								"program": {
									"loc": {
										"start": {
											"line": 1,
											"column": 13
										},
										"end": {
											"line": 1,
											"column": 40
										}
									},
									"type": "Program",
									"body": [
										{
											"loc": {
												"start": {
													"line": 1,
													"column": 32
												},
												"end": {
													"line": 1,
													"column": 40
												}
											},
											"type": "MustacheStatement",
											"path": {
												"loc": {
													"start": {
														"line": 1,
														"column": 34
													},
													"end": {
														"line": 1,
														"column": 38
													}
												},
												"type": "PathExpression",
												"data": false,
												"original": "text",
												"parts": [
													"text"
												],
												"depth": 0
											},
											"params": [],
											"escaped": true,
											"strip": {
												"open": false,
												"close": false
											}
										}
									],
									"strip": {}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								1
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"prefix"
								],
								null,
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 49
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 49
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 49
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"link"
								],
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"link",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 49
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 49
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 32
										},
										"end": {
											"line": 1,
											"column": 40
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 32
										},
										"end": {
											"line": 1,
											"column": 40
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 32
										},
										"end": {
											"line": 1,
											"column": 40
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 34
										},
										"end": {
											"line": 1,
											"column": 38
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"text"
										],
										null,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 34
										},
										"end": {
											"line": 1,
											"column": 38
										}
									}
								},
								{
									"opcode": "invokeAmbiguous",
									"args": [
										"text",
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 32
										},
										"end": {
											"line": 1,
											"column": 40
										}
									}
								},
								{
									"opcode": "appendEscaped",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 32
										},
										"end": {
											"line": 1,
											"column": 40
										}
									}
								}
							],
							"children": [],
							"options": {
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"isSimple": true,
							"blockParams": 0
						}
					],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"guid": 1,
					"useDepths": true,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"useDepths": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "helper returning undefined value",
		"template": " {{nothere}}",
		"data": {},
		"helpers": {
			"nothere": {
				"!code": true,
				"javascript": "function () {}",
				"php": "function() {}"
			}
		},
		"expected": " ",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 12
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 1
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 12
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 10
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "nothere",
						"parts": [
							"nothere"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 1
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"nothere"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"nothere",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "helper returning undefined value",
		"template": " {{#nothere}}{{/nothere}}",
		"data": {},
		"helpers": {
			"nothere": {
				"!code": true,
				"javascript": "function () {}",
				"php": "function() {}"
			}
		},
		"expected": " ",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 25
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 1
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 25
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 4
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "nothere",
						"parts": [
							"nothere"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 1
							},
							"end": {
								"line": 1,
								"column": 13
							}
						},
						"type": "Program",
						"body": [],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 1
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"nothere"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"nothere",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 1
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "block helper",
		"template": "{{#goodbyes}}{{text}}! {{/goodbyes}}cruel {{world}}!",
		"data": {
			"world": "world"
		},
		"expected": "GOODBYE! cruel world!",
		"message": "Block helper executed",
		"helpers": {
			"goodbyes": {
				"!code": true,
				"javascript": "function (options) { return options.fn({text: 'GOODBYE'}); }",
				"php": "function($options) { return $options->fn(array('text' => 'GOODBYE')); }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 52
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbyes",
						"parts": [
							"goodbyes"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 23
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 13
									},
									"end": {
										"line": 1,
										"column": 21
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 15
										},
										"end": {
											"line": 1,
											"column": 19
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "text",
									"parts": [
										"text"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 21
									},
									"end": {
										"line": 1,
										"column": 23
									}
								},
								"type": "ContentStatement",
								"value": "! ",
								"original": "! "
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 36
						},
						"end": {
							"line": 1,
							"column": 42
						}
					},
					"type": "ContentStatement",
					"value": "cruel ",
					"original": "cruel "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 51
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 44
							},
							"end": {
								"line": 1,
								"column": 49
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "world",
						"parts": [
							"world"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 51
						},
						"end": {
							"line": 1,
							"column": 52
						}
					},
					"type": "ContentStatement",
					"value": "!",
					"original": "!"
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						"cruel "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 36
						},
						"end": {
							"line": 1,
							"column": 42
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 44
						},
						"end": {
							"line": 1,
							"column": 49
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 44
						},
						"end": {
							"line": 1,
							"column": 49
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"world",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						"!"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 51
						},
						"end": {
							"line": 1,
							"column": 52
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 21
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 21
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 21
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 19
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"text"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 19
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"text",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 21
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 21
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								"! "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 23
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "block helper staying in the same context",
		"template": "{{#form}}<p>{{name}}</p>{{/form}}",
		"data": {
			"name": "Yehuda"
		},
		"expected": "<form><p>Yehuda</p></form>",
		"message": "Block helper executed with current context",
		"helpers": {
			"form": {
				"!code": true,
				"javascript": "function (options) { return '<form>' + options.fn(this) + '</form>'; }",
				"php": "function($options) { $out = '<form>'; $out .= $options->fn($options->scope); return $out . '</form>'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 33
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "form",
						"parts": [
							"form"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 24
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 9
									},
									"end": {
										"line": 1,
										"column": 12
									}
								},
								"type": "ContentStatement",
								"value": "<p>",
								"original": "<p>"
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 12
									},
									"end": {
										"line": 1,
										"column": 20
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 14
										},
										"end": {
											"line": 1,
											"column": 18
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "name",
									"parts": [
										"name"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 20
									},
									"end": {
										"line": 1,
										"column": 24
									}
								},
								"type": "ContentStatement",
								"value": "</p>",
								"original": "</p>"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"form"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"form",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"<p>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 12
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 18
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 18
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"name",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								"</p>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 20
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "block helper should have context in this",
		"template": "<ul>{{#people}}<li>{{#link}}{{name}}{{/link}}</li>{{/people}}</ul>",
		"data": {
			"people": [
				{
					"name": "Alan",
					"id": 1
				},
				{
					"name": "Yehuda",
					"id": 2
				}
			]
		},
		"helpers": {
			"link": {
				"!code": true,
				"javascript": "function link(options) {\n      return '<a href=\"/people/' + this.id + '\">' + options.fn(this) + '</a>';\n    }",
				"php": "function($options) {\n    return '<a href=\"/people/'.$options->scope['id'].'\">' . $options->fn($options->scope) . '</a>';\n}"
			}
		},
		"expected": "<ul><li><a href=\"/people/1\">Alan</a></li><li><a href=\"/people/2\">Yehuda</a></li></ul>",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 66
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 4
						}
					},
					"type": "ContentStatement",
					"value": "<ul>",
					"original": "<ul>"
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 61
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 7
							},
							"end": {
								"line": 1,
								"column": 13
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "people",
						"parts": [
							"people"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 4
							},
							"end": {
								"line": 1,
								"column": 50
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 15
									},
									"end": {
										"line": 1,
										"column": 19
									}
								},
								"type": "ContentStatement",
								"value": "<li>",
								"original": "<li>"
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 19
									},
									"end": {
										"line": 1,
										"column": 45
									}
								},
								"type": "BlockStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 26
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "link",
									"parts": [
										"link"
									],
									"depth": 0
								},
								"params": [],
								"program": {
									"loc": {
										"start": {
											"line": 1,
											"column": 19
										},
										"end": {
											"line": 1,
											"column": 36
										}
									},
									"type": "Program",
									"body": [
										{
											"loc": {
												"start": {
													"line": 1,
													"column": 28
												},
												"end": {
													"line": 1,
													"column": 36
												}
											},
											"type": "MustacheStatement",
											"path": {
												"loc": {
													"start": {
														"line": 1,
														"column": 30
													},
													"end": {
														"line": 1,
														"column": 34
													}
												},
												"type": "PathExpression",
												"data": false,
												"original": "name",
												"parts": [
													"name"
												],
												"depth": 0
											},
											"params": [],
											"escaped": true,
											"strip": {
												"open": false,
												"close": false
											}
										}
									],
									"strip": {}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 45
									},
									"end": {
										"line": 1,
										"column": 50
									}
								},
								"type": "ContentStatement",
								"value": "</li>",
								"original": "</li>"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 61
						},
						"end": {
							"line": 1,
							"column": 66
						}
					},
					"type": "ContentStatement",
					"value": "</ul>",
					"original": "</ul>"
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"<ul>"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 4
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 7
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"people"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 7
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"people",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 4
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						"</ul>"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 61
						},
						"end": {
							"line": 1,
							"column": 66
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"<li>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 19
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 22
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"link"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 22
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"link",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "ambiguousBlockValue",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								"</li>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 45
								},
								"end": {
									"line": 1,
									"column": 50
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 36
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 36
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 36
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 30
										},
										"end": {
											"line": 1,
											"column": 34
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"name"
										],
										null,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 30
										},
										"end": {
											"line": 1,
											"column": 34
										}
									}
								},
								{
									"opcode": "invokeAmbiguous",
									"args": [
										"name",
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 36
										}
									}
								},
								{
									"opcode": "appendEscaped",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 36
										}
									}
								}
							],
							"children": [],
							"options": {
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"isSimple": true,
							"blockParams": 0
						}
					],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"guid": 1,
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "block helper for undefined value",
		"template": "{{#empty}}shouldn't render{{/empty}}",
		"data": {},
		"expected": "",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 36
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 8
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "empty",
						"parts": [
							"empty"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 26
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 10
									},
									"end": {
										"line": 1,
										"column": 26
									}
								},
								"type": "ContentStatement",
								"value": "shouldn't render",
								"original": "shouldn't render"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"empty"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"empty",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"shouldn't render"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "block helper passing a new context",
		"template": "{{#form yehuda}}<p>{{name}}</p>{{/form}}",
		"data": {
			"yehuda": {
				"name": "Yehuda"
			}
		},
		"expected": "<form><p>Yehuda</p></form>",
		"message": "Context variable resolved",
		"helpers": {
			"form": {
				"!code": true,
				"javascript": "function (context, options) { return '<form>' + options.fn(context) + '</form>'; }",
				"php": "function($context, $options) {\n    return '<form>' . $options->fn($context) . '</form>';\n}"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 40
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "form",
						"parts": [
							"form"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 14
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "yehuda",
							"parts": [
								"yehuda"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 31
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 16
									},
									"end": {
										"line": 1,
										"column": 19
									}
								},
								"type": "ContentStatement",
								"value": "<p>",
								"original": "<p>"
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 19
									},
									"end": {
										"line": 1,
										"column": 27
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 21
										},
										"end": {
											"line": 1,
											"column": 25
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "name",
									"parts": [
										"name"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 27
									},
									"end": {
										"line": 1,
										"column": 31
									}
								},
								"type": "ContentStatement",
								"value": "</p>",
								"original": "</p>"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"yehuda"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"form"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"form",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"<p>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 19
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"name",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								"</p>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 27
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "block helper passing a complex path context",
		"template": "{{#form yehuda/cat}}<p>{{name}}</p>{{/form}}",
		"data": {
			"yehuda": {
				"name": "Yehuda",
				"cat": {
					"name": "Harold"
				}
			}
		},
		"expected": "<form><p>Harold</p></form>",
		"message": "Complex path variable resolved",
		"helpers": {
			"form": {
				"!code": true,
				"javascript": "function (context, options) { return '<form>' + options.fn(context) + '</form>'; }",
				"php": "function($context, $options) {\n    return '<form>' . $options->fn($context) . '</form>';\n}"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 44
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 44
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "form",
						"parts": [
							"form"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 18
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "yehuda/cat",
							"parts": [
								"yehuda",
								"cat"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 35
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 20
									},
									"end": {
										"line": 1,
										"column": 23
									}
								},
								"type": "ContentStatement",
								"value": "<p>",
								"original": "<p>"
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 23
									},
									"end": {
										"line": 1,
										"column": 31
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 25
										},
										"end": {
											"line": 1,
											"column": 29
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "name",
									"parts": [
										"name"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 31
									},
									"end": {
										"line": 1,
										"column": 35
									}
								},
								"type": "ContentStatement",
								"value": "</p>",
								"original": "</p>"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 18
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"yehuda",
							"cat"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 18
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 44
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 44
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 44
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"form"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"form",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 44
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 44
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"<p>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 20
								},
								"end": {
									"line": 1,
									"column": 23
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 23
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 23
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 23
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 25
								},
								"end": {
									"line": 1,
									"column": 29
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 25
								},
								"end": {
									"line": 1,
									"column": 29
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"name",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 23
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 23
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								"</p>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 35
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "nested block helpers",
		"template": "{{#form yehuda}}<p>{{name}}</p>{{#link}}Hello{{/link}}{{/form}}",
		"data": {
			"yehuda": {
				"name": "Yehuda"
			}
		},
		"expected": "<form><p>Yehuda</p><a href=\"Yehuda\">Hello</a></form>",
		"message": "Both blocks executed",
		"helpers": {
			"link": {
				"!code": true,
				"javascript": "function (options) { return '<a href=\"' + this.name + '\">' + options.fn(this) + '</a>'; }",
				"php": "function($options) {\n    $out = \"<a href='\".$options->scope['name'].\"'>\";\n    $out .= $options->fn($options->scope);\n    return $out . '</a>';\n}"
			},
			"form": {
				"!code": true,
				"javascript": "function (context, options) { return '<form>' + options.fn(context) + '</form>'; }",
				"php": "function($context, $options) {\n    $out = '<form>';\n    $out .= $options->fn($context);\n    return $out . '</form>';\n}"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 63
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "form",
						"parts": [
							"form"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 14
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "yehuda",
							"parts": [
								"yehuda"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 54
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 16
									},
									"end": {
										"line": 1,
										"column": 19
									}
								},
								"type": "ContentStatement",
								"value": "<p>",
								"original": "<p>"
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 19
									},
									"end": {
										"line": 1,
										"column": 27
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 21
										},
										"end": {
											"line": 1,
											"column": 25
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "name",
									"parts": [
										"name"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 27
									},
									"end": {
										"line": 1,
										"column": 31
									}
								},
								"type": "ContentStatement",
								"value": "</p>",
								"original": "</p>"
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 31
									},
									"end": {
										"line": 1,
										"column": 54
									}
								},
								"type": "BlockStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 34
										},
										"end": {
											"line": 1,
											"column": 38
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "link",
									"parts": [
										"link"
									],
									"depth": 0
								},
								"params": [],
								"program": {
									"loc": {
										"start": {
											"line": 1,
											"column": 31
										},
										"end": {
											"line": 1,
											"column": 45
										}
									},
									"type": "Program",
									"body": [
										{
											"loc": {
												"start": {
													"line": 1,
													"column": 40
												},
												"end": {
													"line": 1,
													"column": 45
												}
											},
											"type": "ContentStatement",
											"value": "Hello",
											"original": "Hello"
										}
									],
									"strip": {}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"yehuda"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"form"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"form",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"<p>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 19
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"name",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								"</p>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 27
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 34
								},
								"end": {
									"line": 1,
									"column": 38
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"link"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 34
								},
								"end": {
									"line": 1,
									"column": 38
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"link",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "ambiguousBlockValue",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "appendContent",
									"args": [
										"Hello"
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 40
										},
										"end": {
											"line": 1,
											"column": 45
										}
									}
								}
							],
							"children": [],
							"options": {
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"isSimple": true,
							"blockParams": 0
						}
					],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"guid": 1,
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "block helper inverted sections",
		"template": "{{#list people}}{{name}}{{^}}<em>Nobody's here</em>{{/list}}",
		"data": {
			"people": [
				{
					"name": "Alan"
				},
				{
					"name": "Yehuda"
				}
			]
		},
		"helpers": {
			"list": {
				"!code": true,
				"javascript": "function list(context, options) {\n      if (context.length > 0) {\n        var out = '<ul>';\n        for (var i = 0, j = context.length; i < j; i++) {\n          out += '<li>';\n          out += options.fn(context[i]);\n          out += '</li>';\n        }\n        out += '</ul>';\n        return out;\n      } else {\n        return '<p>' + options.inverse(this) + '</p>';\n      }\n    }",
				"php": "function($context, $options) {\n    $out = '';\n    if (count($context) > 0) {\n        $out .= '<ul>';\n        foreach ($context as $row) {\n            $out .= '<li>';\n            $out .= $options->fn($row);\n            $out .= '</li>';\n        }\n        $out .= '</ul>';\n    } elseif (isset($options->inverse)) {\n        $out .= '<p>';\n        $out .= $options->inverse($options->scope);\n        $out .= '</p>';\n    }\n    return $out;\n}"
			}
		},
		"expected": "<ul><li>Alan</li><li>Yehuda</li></ul>",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 60
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "list",
						"parts": [
							"list"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 14
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "people",
							"parts": [
								"people"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 24
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 16
									},
									"end": {
										"line": 1,
										"column": 24
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 22
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "name",
									"parts": [
										"name"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"inverse": {
						"loc": {
							"start": {
								"line": 1,
								"column": 24
							},
							"end": {
								"line": 1,
								"column": 51
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 29
									},
									"end": {
										"line": 1,
										"column": 51
									}
								},
								"type": "ContentStatement",
								"value": "<em>Nobody's here</em>",
								"original": "<em>Nobody's here</em>"
							}
						],
						"blockParams": null,
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"inverseStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"people"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"list"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"list",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 18
								},
								"end": {
									"line": 1,
									"column": 22
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 18
								},
								"end": {
									"line": 1,
									"column": 22
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"name",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				},
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"<em>Nobody's here</em>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 29
								},
								"end": {
									"line": 1,
									"column": 51
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 2,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "block helper inverted sections",
		"template": "{{#list people}}{{name}}{{^}}<em>Nobody's here</em>{{/list}}",
		"data": {
			"people": []
		},
		"helpers": {
			"list": {
				"!code": true,
				"javascript": "function list(context, options) {\n      if (context.length > 0) {\n        var out = '<ul>';\n        for (var i = 0, j = context.length; i < j; i++) {\n          out += '<li>';\n          out += options.fn(context[i]);\n          out += '</li>';\n        }\n        out += '</ul>';\n        return out;\n      } else {\n        return '<p>' + options.inverse(this) + '</p>';\n      }\n    }",
				"php": "function($context, $options) {\n    $out = '';\n    if (count($context) > 0) {\n        $out .= '<ul>';\n        foreach ($context as $row) {\n            $out .= '<li>';\n            $out .= $options->fn($row);\n            $out .= '</li>';\n        }\n        $out .= '</ul>';\n    } elseif (isset($options->inverse)) {\n        $out .= '<p>';\n        $out .= $options->inverse($options->scope);\n        $out .= '</p>';\n    }\n    return $out;\n}"
			}
		},
		"expected": "<p><em>Nobody's here</em></p>",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 60
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "list",
						"parts": [
							"list"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 14
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "people",
							"parts": [
								"people"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 24
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 16
									},
									"end": {
										"line": 1,
										"column": 24
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 22
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "name",
									"parts": [
										"name"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"inverse": {
						"loc": {
							"start": {
								"line": 1,
								"column": 24
							},
							"end": {
								"line": 1,
								"column": 51
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 29
									},
									"end": {
										"line": 1,
										"column": 51
									}
								},
								"type": "ContentStatement",
								"value": "<em>Nobody's here</em>",
								"original": "<em>Nobody's here</em>"
							}
						],
						"blockParams": null,
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"inverseStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"people"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"list"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"list",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 60
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 18
								},
								"end": {
									"line": 1,
									"column": 22
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 18
								},
								"end": {
									"line": 1,
									"column": 22
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"name",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				},
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"<em>Nobody's here</em>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 29
								},
								"end": {
									"line": 1,
									"column": 51
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 2,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "block helper inverted sections",
		"template": "{{#list people}}Hello{{^}}{{message}}{{/list}}",
		"data": {
			"people": [],
			"message": "Nobody's here"
		},
		"helpers": {
			"list": {
				"!code": true,
				"javascript": "function list(context, options) {\n      if (context.length > 0) {\n        var out = '<ul>';\n        for (var i = 0, j = context.length; i < j; i++) {\n          out += '<li>';\n          out += options.fn(context[i]);\n          out += '</li>';\n        }\n        out += '</ul>';\n        return out;\n      } else {\n        return '<p>' + options.inverse(this) + '</p>';\n      }\n    }",
				"php": "function($context, $options) {\n    $out = '';\n    if (count($context) > 0) {\n        $out .= '<ul>';\n        foreach ($context as $row) {\n            $out .= '<li>';\n            $out .= $options->fn($row);\n            $out .= '</li>';\n        }\n        $out .= '</ul>';\n    } elseif (isset($options->inverse)) {\n        $out .= '<p>';\n        $out .= $options->inverse($options->scope);\n        $out .= '</p>';\n    }\n    return $out;\n}"
			}
		},
		"expected": "<p>Nobody&#x27;s here</p>",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 46
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "list",
						"parts": [
							"list"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 14
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "people",
							"parts": [
								"people"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 21
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 16
									},
									"end": {
										"line": 1,
										"column": 21
									}
								},
								"type": "ContentStatement",
								"value": "Hello",
								"original": "Hello"
							}
						],
						"strip": {}
					},
					"inverse": {
						"loc": {
							"start": {
								"line": 1,
								"column": 21
							},
							"end": {
								"line": 1,
								"column": 37
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 26
									},
									"end": {
										"line": 1,
										"column": 37
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 35
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "message",
									"parts": [
										"message"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"blockParams": null,
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"inverseStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"people"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"list"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"list",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"Hello"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 21
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				},
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 37
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 37
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 37
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 28
								},
								"end": {
									"line": 1,
									"column": 35
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"message"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 28
								},
								"end": {
									"line": 1,
									"column": 35
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"message",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 37
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 37
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 2,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "pathed lambas with parameters",
		"template": "{{./helper 1}}",
		"data": {
			"helper": {
				"!code": true,
				"javascript": "function () {\n        return 'winning';\n      }",
				"php": "function() {\n        return 'winning';\n      }"
			},
			"hash": {
				"helper": {
					"php": "function() {\n        return 'winning';\n      }",
					"!code": true,
					"javascript": "function () {\n        return 'winning';\n      }"
				}
			}
		},
		"helpers": {
			"./helper": {
				"!code": true,
				"javascript": "function () {\n        return 'fail';\n      }",
				"php": "function() {\n        return 'fail';\n      }"
			}
		},
		"expected": "winning",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 14
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 10
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "./helper",
						"parts": [
							"helper"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 12
								}
							},
							"type": "NumberLiteral",
							"value": 1,
							"original": 1
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushLiteral",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"helper"
						],
						true,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"./helper",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers",
		"it": "pathed lambas with parameters",
		"template": "{{hash/helper 1}}",
		"data": {
			"helper": {
				"!code": true,
				"javascript": "function () {\n        return 'winning';\n      }",
				"php": "function() {\n        return 'winning';\n      }"
			},
			"hash": {
				"helper": {
					"php": "function() {\n        return 'winning';\n      }",
					"!code": true,
					"javascript": "function () {\n        return 'winning';\n      }"
				}
			}
		},
		"helpers": {
			"./helper": {
				"!code": true,
				"javascript": "function () {\n        return 'fail';\n      }",
				"php": "function() {\n        return 'fail';\n      }"
			}
		},
		"expected": "winning",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 17
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 17
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 13
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hash/helper",
						"parts": [
							"hash",
							"helper"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 15
								}
							},
							"type": "NumberLiteral",
							"value": 1,
							"original": 1
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushLiteral",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hash",
							"helper"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"hash/helper",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers hash",
		"it": "providing a helpers hash",
		"template": "Goodbye {{cruel}} {{world}}!",
		"data": {
			"cruel": "cruel"
		},
		"helpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world'; }",
				"php": "function() { return 'world'; }"
			}
		},
		"expected": "Goodbye cruel world!",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 8
						}
					},
					"type": "ContentStatement",
					"value": "Goodbye ",
					"original": "Goodbye "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 17
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 10
							},
							"end": {
								"line": 1,
								"column": 15
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "cruel",
						"parts": [
							"cruel"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 18
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 18
						},
						"end": {
							"line": 1,
							"column": 27
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 20
							},
							"end": {
								"line": 1,
								"column": 25
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "world",
						"parts": [
							"world"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 27
						},
						"end": {
							"line": 1,
							"column": 28
						}
					},
					"type": "ContentStatement",
					"value": "!",
					"original": "!"
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Goodbye "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"cruel",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 18
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 18
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 18
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 18
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 20
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 20
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"world",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 18
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 18
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						"!"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 27
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "helpers hash",
		"it": "providing a helpers hash",
		"template": "Goodbye {{#iter}}{{cruel}} {{world}}{{/iter}}!",
		"data": {
			"iter": [
				{
					"cruel": "cruel"
				}
			]
		},
		"helpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world'; }",
				"php": "function() { return 'world'; }"
			}
		},
		"expected": "Goodbye cruel world!",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 46
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 8
						}
					},
					"type": "ContentStatement",
					"value": "Goodbye ",
					"original": "Goodbye "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 45
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 15
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "iter",
						"parts": [
							"iter"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 8
							},
							"end": {
								"line": 1,
								"column": 36
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 17
									},
									"end": {
										"line": 1,
										"column": 26
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 19
										},
										"end": {
											"line": 1,
											"column": 24
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "cruel",
									"parts": [
										"cruel"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 26
									},
									"end": {
										"line": 1,
										"column": 27
									}
								},
								"type": "ContentStatement",
								"value": " ",
								"original": " "
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 27
									},
									"end": {
										"line": 1,
										"column": 36
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 29
										},
										"end": {
											"line": 1,
											"column": 34
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "world",
									"parts": [
										"world"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 45
						},
						"end": {
							"line": 1,
							"column": 46
						}
					},
					"type": "ContentStatement",
					"value": "!",
					"original": "!"
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Goodbye "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 45
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 45
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 45
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"iter"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"iter",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 45
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 45
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 45
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 45
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 45
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 45
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						"!"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 45
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"cruel"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"cruel",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								" "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 27
								},
								"end": {
									"line": 1,
									"column": 36
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 27
								},
								"end": {
									"line": 1,
									"column": 36
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 27
								},
								"end": {
									"line": 1,
									"column": 36
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 29
								},
								"end": {
									"line": 1,
									"column": 34
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"world"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 29
								},
								"end": {
									"line": 1,
									"column": 34
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"world",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 27
								},
								"end": {
									"line": 1,
									"column": 36
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 27
								},
								"end": {
									"line": 1,
									"column": 36
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "helpers hash",
		"it": "in cases of conflict, helpers win",
		"template": "{{{lookup}}}",
		"data": {
			"lookup": "Explicit"
		},
		"helpers": {
			"lookup": {
				"!code": true,
				"javascript": "function () { return 'helpers'; }",
				"php": "function() { return 'helpers'; }"
			}
		},
		"expected": "helpers",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 12
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 9
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "lookup",
						"parts": [
							"lookup"
						],
						"depth": 0
					},
					"params": [],
					"escaped": false,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						0,
						"lookup"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers hash",
		"it": "in cases of conflict, helpers win",
		"template": "{{lookup}}",
		"data": {
			"lookup": "Explicit"
		},
		"helpers": {
			"lookup": {
				"!code": true,
				"javascript": "function () { return 'helpers'; }",
				"php": "function() { return 'helpers'; }"
			}
		},
		"expected": "helpers",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 10
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "lookup",
						"parts": [
							"lookup"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						0,
						"lookup"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers hash",
		"it": "the helpers hash is available is nested contexts",
		"template": "{{#outer}}{{#inner}}{{helper}}{{/inner}}{{/outer}}",
		"data": {
			"outer": {
				"inner": {
					"unused": []
				}
			}
		},
		"helpers": {
			"helper": {
				"!code": true,
				"javascript": "function () { return 'helper'; }",
				"php": "function() { return 'helper'; }"
			}
		},
		"expected": "helper",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 50
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 8
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "outer",
						"parts": [
							"outer"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 40
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 10
									},
									"end": {
										"line": 1,
										"column": 40
									}
								},
								"type": "BlockStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 13
										},
										"end": {
											"line": 1,
											"column": 18
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "inner",
									"parts": [
										"inner"
									],
									"depth": 0
								},
								"params": [],
								"program": {
									"loc": {
										"start": {
											"line": 1,
											"column": 10
										},
										"end": {
											"line": 1,
											"column": 30
										}
									},
									"type": "Program",
									"body": [
										{
											"loc": {
												"start": {
													"line": 1,
													"column": 20
												},
												"end": {
													"line": 1,
													"column": 30
												}
											},
											"type": "MustacheStatement",
											"path": {
												"loc": {
													"start": {
														"line": 1,
														"column": 22
													},
													"end": {
														"line": 1,
														"column": 28
													}
												},
												"type": "PathExpression",
												"data": false,
												"original": "helper",
												"parts": [
													"helper"
												],
												"depth": 0
											},
											"params": [],
											"escaped": true,
											"strip": {
												"open": false,
												"close": false
											}
										}
									],
									"strip": {}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"outer"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"outer",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 18
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"inner"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 18
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"inner",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						},
						{
							"opcode": "ambiguousBlockValue",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 20
										},
										"end": {
											"line": 1,
											"column": 30
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 20
										},
										"end": {
											"line": 1,
											"column": 30
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 20
										},
										"end": {
											"line": 1,
											"column": 30
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 28
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"helper"
										],
										null,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 28
										}
									}
								},
								{
									"opcode": "invokeAmbiguous",
									"args": [
										"helper",
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 20
										},
										"end": {
											"line": 1,
											"column": 30
										}
									}
								},
								{
									"opcode": "appendEscaped",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 20
										},
										"end": {
											"line": 1,
											"column": 30
										}
									}
								}
							],
							"children": [],
							"options": {
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"isSimple": true,
							"blockParams": 0
						}
					],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"guid": 1,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helpers hash",
		"it": "the helper hash should augment the global hash",
		"template": "{{test_helper}} {{#if cruel}}Goodbye {{cruel}} {{world}}!{{/if}}",
		"data": {
			"cruel": "cruel"
		},
		"helpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return 'world!'; }"
			},
			"test_helper": {
				"!code": true,
				"javascript": "function() { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			}
		},
		"expected": "found it! Goodbye cruel world!!",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"test_helper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"world": {
				"php": "function() { return \"world!\"; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 64
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 13
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "test_helper",
						"parts": [
							"test_helper"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 16
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 64
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 19
							},
							"end": {
								"line": 1,
								"column": 21
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "if",
						"parts": [
							"if"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 22
								},
								"end": {
									"line": 1,
									"column": 27
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "cruel",
							"parts": [
								"cruel"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 16
							},
							"end": {
								"line": 1,
								"column": 57
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 29
									},
									"end": {
										"line": 1,
										"column": 37
									}
								},
								"type": "ContentStatement",
								"value": "Goodbye ",
								"original": "Goodbye "
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 37
									},
									"end": {
										"line": 1,
										"column": 46
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 39
										},
										"end": {
											"line": 1,
											"column": 44
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "cruel",
									"parts": [
										"cruel"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 46
									},
									"end": {
										"line": 1,
										"column": 47
									}
								},
								"type": "ContentStatement",
								"value": " ",
								"original": " "
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 47
									},
									"end": {
										"line": 1,
										"column": 56
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 49
										},
										"end": {
											"line": 1,
											"column": 54
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "world",
									"parts": [
										"world"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 56
									},
									"end": {
										"line": 1,
										"column": 57
									}
								},
								"type": "ContentStatement",
								"value": "!",
								"original": "!"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"test_helper"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"test_helper",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 22
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 22
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 64
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 64
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 64
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"if"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 64
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 64
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"Goodbye "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 29
								},
								"end": {
									"line": 1,
									"column": 37
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 37
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 37
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 37
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 39
								},
								"end": {
									"line": 1,
									"column": 44
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"cruel"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 39
								},
								"end": {
									"line": 1,
									"column": 44
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"cruel",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 37
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 37
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								" "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 47
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 47
								},
								"end": {
									"line": 1,
									"column": 56
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 47
								},
								"end": {
									"line": 1,
									"column": 56
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 47
								},
								"end": {
									"line": 1,
									"column": 56
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 49
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"world"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 49
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"world",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 47
								},
								"end": {
									"line": 1,
									"column": 56
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 47
								},
								"end": {
									"line": 1,
									"column": 56
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								"!"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 56
								},
								"end": {
									"line": 1,
									"column": 57
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "registration",
		"it": "allows multiple globals",
		"template": "{{testHelper}} {{#if cruel}}Goodbye {{cruel}} {{world}}!{{/if}}",
		"data": {
			"cruel": "cruel"
		},
		"expected": "found it! Goodbye cruel world!!",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 63
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 12
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "testHelper",
						"parts": [
							"testHelper"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 15
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 63
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 18
							},
							"end": {
								"line": 1,
								"column": 20
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "if",
						"parts": [
							"if"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 26
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "cruel",
							"parts": [
								"cruel"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 15
							},
							"end": {
								"line": 1,
								"column": 56
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 28
									},
									"end": {
										"line": 1,
										"column": 36
									}
								},
								"type": "ContentStatement",
								"value": "Goodbye ",
								"original": "Goodbye "
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 36
									},
									"end": {
										"line": 1,
										"column": 45
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 38
										},
										"end": {
											"line": 1,
											"column": 43
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "cruel",
									"parts": [
										"cruel"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 45
									},
									"end": {
										"line": 1,
										"column": 46
									}
								},
								"type": "ContentStatement",
								"value": " ",
								"original": " "
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 46
									},
									"end": {
										"line": 1,
										"column": 55
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 48
										},
										"end": {
											"line": 1,
											"column": 53
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "world",
									"parts": [
										"world"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 55
									},
									"end": {
										"line": 1,
										"column": 56
									}
								},
								"type": "ContentStatement",
								"value": "!",
								"original": "!"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"testHelper"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"testHelper",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 21
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 21
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"if"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"Goodbye "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 28
								},
								"end": {
									"line": 1,
									"column": 36
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 36
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 36
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 36
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 38
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"cruel"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 38
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"cruel",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 36
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 36
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								" "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 45
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 55
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 55
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 55
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 48
								},
								"end": {
									"line": 1,
									"column": 53
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"world"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 48
								},
								"end": {
									"line": 1,
									"column": 53
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"world",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 55
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 55
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								"!"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 55
								},
								"end": {
									"line": 1,
									"column": 56
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "registration",
		"it": "fails with multiple and args",
		"template": "{{#form yehuda}}<p>{{name}}</p>{{#link}}Hello{{/link}}{{/form}}",
		"exception": true,
		"message": "Arg not supported with multiple helpers",
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 63
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "form",
						"parts": [
							"form"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 14
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "yehuda",
							"parts": [
								"yehuda"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 54
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 16
									},
									"end": {
										"line": 1,
										"column": 19
									}
								},
								"type": "ContentStatement",
								"value": "<p>",
								"original": "<p>"
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 19
									},
									"end": {
										"line": 1,
										"column": 27
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 21
										},
										"end": {
											"line": 1,
											"column": 25
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "name",
									"parts": [
										"name"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 27
									},
									"end": {
										"line": 1,
										"column": 31
									}
								},
								"type": "ContentStatement",
								"value": "</p>",
								"original": "</p>"
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 31
									},
									"end": {
										"line": 1,
										"column": 54
									}
								},
								"type": "BlockStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 34
										},
										"end": {
											"line": 1,
											"column": 38
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "link",
									"parts": [
										"link"
									],
									"depth": 0
								},
								"params": [],
								"program": {
									"loc": {
										"start": {
											"line": 1,
											"column": 31
										},
										"end": {
											"line": 1,
											"column": 45
										}
									},
									"type": "Program",
									"body": [
										{
											"loc": {
												"start": {
													"line": 1,
													"column": 40
												},
												"end": {
													"line": 1,
													"column": 45
												}
											},
											"type": "ContentStatement",
											"value": "Hello",
											"original": "Hello"
										}
									],
									"strip": {}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"yehuda"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"form"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"form",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 63
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"<p>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 19
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"name",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								"</p>"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 27
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 34
								},
								"end": {
									"line": 1,
									"column": 38
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"link"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 34
								},
								"end": {
									"line": 1,
									"column": 38
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"link",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "ambiguousBlockValue",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "appendContent",
									"args": [
										"Hello"
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 40
										},
										"end": {
											"line": 1,
											"column": 45
										}
									}
								}
							],
							"children": [],
							"options": {
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"isSimple": true,
							"blockParams": 0
						}
					],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"guid": 1,
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "decimal number literals work",
		"it": "decimal number literals work",
		"template": "Message: {{hello -1.2 1.2}}",
		"data": {},
		"helpers": {
			"hello": {
				"!code": true,
				"javascript": "function (times, times2) {\n      if (typeof times !== 'number') { times = 'NaN'; }\n      if (typeof times2 !== 'number') { times2 = 'NaN'; }\n      return 'Hello ' + times + ' ' + times2 + ' times';\n    }",
				"php": "function($times, $times2) {\n    if (!is_numeric($times)) {\n        $times = 'NaN';\n    }\n    if (!is_numeric($times2)) {\n        $times2 = \"NaN\";\n    }\n    return \"Hello $times $times2 times\";\n}"
			}
		},
		"expected": "Message: Hello -1.2 1.2 times",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 27
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "ContentStatement",
					"value": "Message: ",
					"original": "Message: "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 27
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 16
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hello",
						"parts": [
							"hello"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 21
								}
							},
							"type": "NumberLiteral",
							"value": -1.2,
							"original": -1.2
						},
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 22
								},
								"end": {
									"line": 1,
									"column": 25
								}
							},
							"type": "NumberLiteral",
							"value": 1.2,
							"original": 1.2
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Message: "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						-1.2
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						1.2
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 22
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"hello",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "negative number literals work",
		"it": "negative number literals work",
		"template": "Message: {{hello -12}}",
		"data": {},
		"helpers": {
			"hello": {
				"!code": true,
				"javascript": "function (times) {\n      if (typeof times !== 'number') { times = 'NaN'; }\n      return 'Hello ' + times + ' times';\n    }",
				"php": "function($times) {\n    if(!is_numeric($times)) {\n        $times = \"NaN\";\n    }\n    return \"Hello $times times\";\n}"
			}
		},
		"expected": "Message: Hello -12 times",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 22
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "ContentStatement",
					"value": "Message: ",
					"original": "Message: "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 16
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hello",
						"parts": [
							"hello"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 20
								}
							},
							"type": "NumberLiteral",
							"value": -12,
							"original": -12
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Message: "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						-12
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 20
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"hello",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "String literal parameters",
		"it": "simple literals work",
		"template": "Message: {{hello \"world\" 12 true false}}",
		"data": {},
		"helpers": {
			"hello": {
				"!code": true,
				"javascript": "function (param, times, bool1, bool2) {\n        if (typeof times !== 'number') { times = 'NaN'; }\n        if (typeof bool1 !== 'boolean') { bool1 = 'NaB'; }\n        if (typeof bool2 !== 'boolean') { bool2 = 'NaB'; }\n        return 'Hello ' + param + ' ' + times + ' times: ' + bool1 + ' ' + bool2;\n      }",
				"php": "function($param, $times, $bool1, $bool2) {\n    if(!is_numeric($times)) { $times = \"NaN\"; }\n    if(!is_bool($bool1)) {\n        $bool1 = \"NaB\";\n    } else {\n        $bool1 = ($bool1 ? 'true' : 'false');\n    }\n    if(!is_bool($bool2)) {\n        $bool2 = \"NaB\";\n    } else {\n        $bool2 = ($bool2 ? 'true' : 'false');\n    }\n\n    return \"Hello $param $times times: $bool1 $bool2\";\n}"
			}
		},
		"expected": "Message: Hello world 12 times: true false",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 40
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "ContentStatement",
					"value": "Message: ",
					"original": "Message: "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 40
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 16
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hello",
						"parts": [
							"hello"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 24
								}
							},
							"type": "StringLiteral",
							"value": "world",
							"original": "world"
						},
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 25
								},
								"end": {
									"line": 1,
									"column": 27
								}
							},
							"type": "NumberLiteral",
							"value": 12,
							"original": 12
						},
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 28
								},
								"end": {
									"line": 1,
									"column": 32
								}
							},
							"type": "BooleanLiteral",
							"value": true,
							"original": true
						},
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 33
								},
								"end": {
									"line": 1,
									"column": 38
								}
							},
							"type": "BooleanLiteral",
							"value": false,
							"original": false
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Message: "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"world"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						12
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 25
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 28
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 33
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						4,
						"hello",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "String literal parameters",
		"it": "escaping a String is possible",
		"template": "Message: {{{hello \"\\\"world\\\"\"}}}",
		"data": {},
		"helpers": {
			"hello": {
				"!code": true,
				"javascript": "function (param) { return 'Hello ' + param; }",
				"php": "function($param) { return 'Hello '.$param; }"
			}
		},
		"expected": "Message: Hello \"world\"",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 32
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "ContentStatement",
					"value": "Message: ",
					"original": "Message: "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 12
							},
							"end": {
								"line": 1,
								"column": 17
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hello",
						"parts": [
							"hello"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 18
								},
								"end": {
									"line": 1,
									"column": 29
								}
							},
							"type": "StringLiteral",
							"value": "\"world\"",
							"original": "\"world\""
						}
					],
					"escaped": false,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Message: "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"\"world\""
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 18
						},
						"end": {
							"line": 1,
							"column": 29
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"hello",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "String literal parameters",
		"it": "it works with ' marks",
		"template": "Message: {{{hello \"Alan's world\"}}}",
		"data": {},
		"helpers": {
			"hello": {
				"!code": true,
				"javascript": "function (param) { return 'Hello ' + param; }",
				"php": "function($param) { return \"Hello \" . $param; }"
			}
		},
		"expected": "Message: Hello Alan's world",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 35
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "ContentStatement",
					"value": "Message: ",
					"original": "Message: "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 35
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 12
							},
							"end": {
								"line": 1,
								"column": 17
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hello",
						"parts": [
							"hello"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 18
								},
								"end": {
									"line": 1,
									"column": 32
								}
							},
							"type": "StringLiteral",
							"value": "Alan's world",
							"original": "Alan's world"
						}
					],
					"escaped": false,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Message: "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"Alan's world"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 18
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"hello",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "negative number literals work",
		"it": "negative number literals work",
		"template": "Message: {{hello -12}}",
		"data": {},
		"helpers": {
			"hello": {
				"!code": true,
				"javascript": "function (times) {\n      if (typeof times !== 'number') { times = 'NaN'; }\n      return 'Hello ' + times + ' times';\n    }",
				"php": "function($times) {\n    if(!is_numeric($times)) {\n        $times = \"NaN\";\n    }\n    return \"Hello $times times\";\n}"
			}
		},
		"expected": "Message: Hello -12 times",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 22
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "ContentStatement",
					"value": "Message: ",
					"original": "Message: "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 16
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hello",
						"parts": [
							"hello"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 20
								}
							},
							"type": "NumberLiteral",
							"value": -12,
							"original": -12
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Message: "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						-12
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 20
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"hello",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "multiple parameters",
		"it": "simple multi-params work",
		"template": "Message: {{goodbye cruel world}}",
		"data": {
			"cruel": "cruel",
			"world": "world"
		},
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (cruel, world) { return 'Goodbye ' + cruel + ' ' + world; }",
				"php": "function($cruel, $world) { return 'Goodbye ' . $cruel . ' ' . $world; }"
			}
		},
		"expected": "Message: Goodbye cruel world",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 32
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "ContentStatement",
					"value": "Message: ",
					"original": "Message: "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 18
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 24
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "cruel",
							"parts": [
								"cruel"
							],
							"depth": 0
						},
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 25
								},
								"end": {
									"line": 1,
									"column": 30
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "world",
							"parts": [
								"world"
							],
							"depth": 0
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Message: "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 19
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 19
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 25
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 25
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 18
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 18
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "multiple parameters",
		"it": "block multi-params work",
		"template": "Message: {{#goodbye cruel world}}{{greeting}} {{adj}} {{noun}}{{/goodbye}}",
		"data": {
			"cruel": "cruel",
			"world": "world"
		},
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (cruel, world, options) {\n        return options.fn({greeting: 'Goodbye', adj: cruel, noun: world});\n      }",
				"php": "function($cruel, $world, $options) {\n    return $options->fn(array('greeting' => 'Goodbye', 'adj' => 'cruel', 'noun' => 'world'));\n}"
			}
		},
		"expected": "Message: Goodbye cruel world",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 74
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "ContentStatement",
					"value": "Message: ",
					"original": "Message: "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 74
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 12
							},
							"end": {
								"line": 1,
								"column": 19
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 20
								},
								"end": {
									"line": 1,
									"column": 25
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "cruel",
							"parts": [
								"cruel"
							],
							"depth": 0
						},
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 31
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "world",
							"parts": [
								"world"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 9
							},
							"end": {
								"line": 1,
								"column": 62
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 33
									},
									"end": {
										"line": 1,
										"column": 45
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 35
										},
										"end": {
											"line": 1,
											"column": 43
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "greeting",
									"parts": [
										"greeting"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 45
									},
									"end": {
										"line": 1,
										"column": 46
									}
								},
								"type": "ContentStatement",
								"value": " ",
								"original": " "
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 46
									},
									"end": {
										"line": 1,
										"column": 53
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 48
										},
										"end": {
											"line": 1,
											"column": 51
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "adj",
									"parts": [
										"adj"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 53
									},
									"end": {
										"line": 1,
										"column": 54
									}
								},
								"type": "ContentStatement",
								"value": " ",
								"original": " "
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 54
									},
									"end": {
										"line": 1,
										"column": 62
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 56
										},
										"end": {
											"line": 1,
											"column": 60
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "noun",
									"parts": [
										"noun"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Message: "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 20
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 20
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 26
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 26
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 74
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 74
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 74
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 74
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 74
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 33
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 33
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 33
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 35
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"greeting"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 35
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"greeting",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 33
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 33
								},
								"end": {
									"line": 1,
									"column": 45
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								" "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 45
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 53
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 53
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 53
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 48
								},
								"end": {
									"line": 1,
									"column": 51
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"adj"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 48
								},
								"end": {
									"line": 1,
									"column": 51
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"adj",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 53
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 46
								},
								"end": {
									"line": 1,
									"column": 53
								}
							}
						},
						{
							"opcode": "appendContent",
							"args": [
								" "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 53
								},
								"end": {
									"line": 1,
									"column": 54
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 54
								},
								"end": {
									"line": 1,
									"column": 62
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 54
								},
								"end": {
									"line": 1,
									"column": 62
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 54
								},
								"end": {
									"line": 1,
									"column": 62
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 56
								},
								"end": {
									"line": 1,
									"column": 60
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"noun"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 56
								},
								"end": {
									"line": 1,
									"column": 60
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"noun",
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 54
								},
								"end": {
									"line": 1,
									"column": 62
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 54
								},
								"end": {
									"line": 1,
									"column": 62
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "hash",
		"it": "helpers can take an optional hash",
		"template": "{{goodbye cruel=\"CRUEL\" world=\"WORLD\" times=12}}",
		"data": {},
		"expected": "GOODBYE CRUEL WORLD 12 TIMES",
		"message": "Helper output hash",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (options) {\n          return 'GOODBYE ' + options.hash.cruel + ' ' + options.hash.world + ' ' + options.hash.times + ' TIMES';\n        }",
				"php": "function($options) {\n    $r = 'GOODBYE ';\n    $r .= $options['hash']['cruel'].' ';\n    $r .= $options['hash']['world'].' ';\n    $r .= $options['hash']['times'].' TIMES';\n\n    return $r;\n}"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 48
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 9
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"hash": {
						"loc": {
							"start": {
								"line": 1,
								"column": 10
							},
							"end": {
								"line": 1,
								"column": 46
							}
						},
						"type": "Hash",
						"pairs": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 10
									},
									"end": {
										"line": 1,
										"column": 23
									}
								},
								"type": "HashPair",
								"key": "cruel",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 16
										},
										"end": {
											"line": 1,
											"column": 23
										}
									},
									"type": "StringLiteral",
									"value": "CRUEL",
									"original": "CRUEL"
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 24
									},
									"end": {
										"line": 1,
										"column": 37
									}
								},
								"type": "HashPair",
								"key": "world",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 30
										},
										"end": {
											"line": 1,
											"column": 37
										}
									},
									"type": "StringLiteral",
									"value": "WORLD",
									"original": "WORLD"
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 38
									},
									"end": {
										"line": 1,
										"column": 46
									}
								},
								"type": "HashPair",
								"key": "times",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 44
										},
										"end": {
											"line": 1,
											"column": 46
										}
									},
									"type": "NumberLiteral",
									"value": 12,
									"original": 12
								}
							}
						]
					},
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"CRUEL"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 23
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"WORLD"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 30
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						12
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 44
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"times"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"world"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"cruel"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "hash",
		"it": "helpers can take an optional hash with booleans",
		"template": "{{goodbye cruel=\"CRUEL\" world=\"WORLD\" print=true}}",
		"data": {},
		"expected": "GOODBYE CRUEL WORLD",
		"message": "Helper output hash",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (options) {\n          if (options.hash.print === true) {\n            return 'GOODBYE ' + options.hash.cruel + ' ' + options.hash.world;\n          } else if (options.hash.print === false) {\n            return 'NOT PRINTING';\n          } else {\n            return 'THIS SHOULD NOT HAPPEN';\n          }\n        }",
				"php": "function($options) {\n    if ($options['hash']['print'] === true) {\n        return \"GOODBYE {$options['hash']['cruel']} \" . $options->fn($options->scope) . $options['hash']['world'];\n    } elseif ($options['hash']['print'] === false) {\n        return \"NOT PRINTING\";\n    } else {\n        return \"THIS SHOULD NOT HAPPEN\";\n    }\n}"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 50
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 9
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"hash": {
						"loc": {
							"start": {
								"line": 1,
								"column": 10
							},
							"end": {
								"line": 1,
								"column": 48
							}
						},
						"type": "Hash",
						"pairs": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 10
									},
									"end": {
										"line": 1,
										"column": 23
									}
								},
								"type": "HashPair",
								"key": "cruel",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 16
										},
										"end": {
											"line": 1,
											"column": 23
										}
									},
									"type": "StringLiteral",
									"value": "CRUEL",
									"original": "CRUEL"
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 24
									},
									"end": {
										"line": 1,
										"column": 37
									}
								},
								"type": "HashPair",
								"key": "world",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 30
										},
										"end": {
											"line": 1,
											"column": 37
										}
									},
									"type": "StringLiteral",
									"value": "WORLD",
									"original": "WORLD"
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 38
									},
									"end": {
										"line": 1,
										"column": 48
									}
								},
								"type": "HashPair",
								"key": "print",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 44
										},
										"end": {
											"line": 1,
											"column": 48
										}
									},
									"type": "BooleanLiteral",
									"value": true,
									"original": true
								}
							}
						]
					},
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"CRUEL"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 23
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"WORLD"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 30
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 44
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"print"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"world"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"cruel"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 50
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "hash",
		"it": "helpers can take an optional hash with booleans",
		"template": "{{goodbye cruel=\"CRUEL\" world=\"WORLD\" print=false}}",
		"data": {},
		"expected": "NOT PRINTING",
		"message": "Boolean helper parameter honored",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (options) {\n          if (options.hash.print === true) {\n            return 'GOODBYE ' + options.hash.cruel + ' ' + options.hash.world;\n          } else if (options.hash.print === false) {\n            return 'NOT PRINTING';\n          } else {\n            return 'THIS SHOULD NOT HAPPEN';\n          }\n        }",
				"php": "function($options) {\n    if ($options['hash']['print'] === true) {\n        return \"GOODBYE {$options['hash']['cruel']} \" . $options->fn($options->scope) . $options['hash']['world'];\n    } elseif ($options['hash']['print'] === false) {\n        return \"NOT PRINTING\";\n    } else {\n        return \"THIS SHOULD NOT HAPPEN\";\n    }\n}"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 51
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 9
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"hash": {
						"loc": {
							"start": {
								"line": 1,
								"column": 10
							},
							"end": {
								"line": 1,
								"column": 49
							}
						},
						"type": "Hash",
						"pairs": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 10
									},
									"end": {
										"line": 1,
										"column": 23
									}
								},
								"type": "HashPair",
								"key": "cruel",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 16
										},
										"end": {
											"line": 1,
											"column": 23
										}
									},
									"type": "StringLiteral",
									"value": "CRUEL",
									"original": "CRUEL"
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 24
									},
									"end": {
										"line": 1,
										"column": 37
									}
								},
								"type": "HashPair",
								"key": "world",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 30
										},
										"end": {
											"line": 1,
											"column": 37
										}
									},
									"type": "StringLiteral",
									"value": "WORLD",
									"original": "WORLD"
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 38
									},
									"end": {
										"line": 1,
										"column": 49
									}
								},
								"type": "HashPair",
								"key": "print",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 44
										},
										"end": {
											"line": 1,
											"column": 49
										}
									},
									"type": "BooleanLiteral",
									"value": false,
									"original": false
								}
							}
						]
					},
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 49
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"CRUEL"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 23
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"WORLD"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 30
						},
						"end": {
							"line": 1,
							"column": 37
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 44
						},
						"end": {
							"line": 1,
							"column": 49
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"print"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 49
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"world"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 49
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"cruel"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 49
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 49
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "hash",
		"it": "block helpers can take an optional hash",
		"template": "{{#goodbye cruel=\"CRUEL\" times=12}}world{{/goodbye}}",
		"data": {},
		"expected": "GOODBYE CRUEL world 12 TIMES",
		"message": "Hash parameters output",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (options) {\n          return 'GOODBYE ' + options.hash.cruel + ' ' + options.fn(this) + ' ' + options.hash.times + ' TIMES';\n        }",
				"php": "function($options) {\n    return \"GOODBYE {$options['hash']['cruel']} \" . $options->fn($options->scope) . \" {$options['hash']['times']} TIMES\";\n}"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 52
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 52
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 10
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"hash": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 33
							}
						},
						"type": "Hash",
						"pairs": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 11
									},
									"end": {
										"line": 1,
										"column": 24
									}
								},
								"type": "HashPair",
								"key": "cruel",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 17
										},
										"end": {
											"line": 1,
											"column": 24
										}
									},
									"type": "StringLiteral",
									"value": "CRUEL",
									"original": "CRUEL"
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 25
									},
									"end": {
										"line": 1,
										"column": 33
									}
								},
								"type": "HashPair",
								"key": "times",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 31
										},
										"end": {
											"line": 1,
											"column": 33
										}
									},
									"type": "NumberLiteral",
									"value": 12,
									"original": 12
								}
							}
						]
					},
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 40
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 35
									},
									"end": {
										"line": 1,
										"column": 40
									}
								},
								"type": "ContentStatement",
								"value": "world",
								"original": "world"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 52
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 52
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"CRUEL"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						12
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 31
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"times"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"cruel"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 52
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 52
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"world"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 35
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "hash",
		"it": "block helpers can take an optional hash with single quoted stings",
		"template": "{{#goodbye cruel=\"CRUEL\" times=12}}world{{/goodbye}}",
		"data": {},
		"expected": "GOODBYE CRUEL world 12 TIMES",
		"message": "Hash parameters output",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (options) {\n          return 'GOODBYE ' + options.hash.cruel + ' ' + options.fn(this) + ' ' + options.hash.times + ' TIMES';\n        }",
				"php": "function($options) {\n    return \"GOODBYE {$options['hash']['cruel']} \" . $options->fn($options->scope) . \" {$options['hash']['times']} TIMES\";\n}"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 52
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 52
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 10
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"hash": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 33
							}
						},
						"type": "Hash",
						"pairs": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 11
									},
									"end": {
										"line": 1,
										"column": 24
									}
								},
								"type": "HashPair",
								"key": "cruel",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 17
										},
										"end": {
											"line": 1,
											"column": 24
										}
									},
									"type": "StringLiteral",
									"value": "CRUEL",
									"original": "CRUEL"
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 25
									},
									"end": {
										"line": 1,
										"column": 33
									}
								},
								"type": "HashPair",
								"key": "times",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 31
										},
										"end": {
											"line": 1,
											"column": 33
										}
									},
									"type": "NumberLiteral",
									"value": 12,
									"original": 12
								}
							}
						]
					},
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 40
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 35
									},
									"end": {
										"line": 1,
										"column": 40
									}
								},
								"type": "ContentStatement",
								"value": "world",
								"original": "world"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 52
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 52
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"CRUEL"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						12
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 31
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"times"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"cruel"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 52
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 52
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"world"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 35
								},
								"end": {
									"line": 1,
									"column": 40
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "hash",
		"it": "block helpers can take an optional hash with booleans",
		"template": "{{#goodbye cruel=\"CRUEL\" print=true}}world{{/goodbye}}",
		"data": {},
		"expected": "GOODBYE CRUEL world",
		"message": "Boolean hash parameter honored",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (options) {\n          if (options.hash.print === true) {\n            return 'GOODBYE ' + options.hash.cruel + ' ' + options.fn(this);\n          } else if (options.hash.print === false) {\n            return 'NOT PRINTING';\n          } else {\n            return 'THIS SHOULD NOT HAPPEN';\n          }\n        }",
				"php": "function($options) {\n    if ($options['hash']['print'] === true) {\n        return \"GOODBYE {$options['hash']['cruel']} \" . $options->fn($options->scope) . @$options['hash']['world'];\n    } elseif ($options['hash']['print'] === false) {\n        return \"NOT PRINTING\";\n    } else {\n        return \"THIS SHOULD NOT HAPPEN\";\n    }\n}"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 54
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 54
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 10
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"hash": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 35
							}
						},
						"type": "Hash",
						"pairs": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 11
									},
									"end": {
										"line": 1,
										"column": 24
									}
								},
								"type": "HashPair",
								"key": "cruel",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 17
										},
										"end": {
											"line": 1,
											"column": 24
										}
									},
									"type": "StringLiteral",
									"value": "CRUEL",
									"original": "CRUEL"
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 25
									},
									"end": {
										"line": 1,
										"column": 35
									}
								},
								"type": "HashPair",
								"key": "print",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 31
										},
										"end": {
											"line": 1,
											"column": 35
										}
									},
									"type": "BooleanLiteral",
									"value": true,
									"original": true
								}
							}
						]
					},
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 42
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 37
									},
									"end": {
										"line": 1,
										"column": 42
									}
								},
								"type": "ContentStatement",
								"value": "world",
								"original": "world"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 54
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 54
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"CRUEL"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 31
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"print"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"cruel"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 54
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 54
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"world"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 37
								},
								"end": {
									"line": 1,
									"column": 42
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "hash",
		"it": "block helpers can take an optional hash with booleans",
		"template": "{{#goodbye cruel=\"CRUEL\" print=false}}world{{/goodbye}}",
		"data": {},
		"expected": "NOT PRINTING",
		"message": "Boolean hash parameter honored",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (options) {\n          if (options.hash.print === true) {\n            return 'GOODBYE ' + options.hash.cruel + ' ' + options.fn(this);\n          } else if (options.hash.print === false) {\n            return 'NOT PRINTING';\n          } else {\n            return 'THIS SHOULD NOT HAPPEN';\n          }\n        }",
				"php": "function($options) {\n    if ($options['hash']['print'] === true) {\n        return \"GOODBYE {$options['hash']['cruel']} \" . $options->fn($options->scope) . @$options['hash']['world'];\n    } elseif ($options['hash']['print'] === false) {\n        return \"NOT PRINTING\";\n    } else {\n        return \"THIS SHOULD NOT HAPPEN\";\n    }\n}"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 55
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 10
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"hash": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 36
							}
						},
						"type": "Hash",
						"pairs": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 11
									},
									"end": {
										"line": 1,
										"column": 24
									}
								},
								"type": "HashPair",
								"key": "cruel",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 17
										},
										"end": {
											"line": 1,
											"column": 24
										}
									},
									"type": "StringLiteral",
									"value": "CRUEL",
									"original": "CRUEL"
								}
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 25
									},
									"end": {
										"line": 1,
										"column": 36
									}
								},
								"type": "HashPair",
								"key": "print",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 31
										},
										"end": {
											"line": 1,
											"column": 36
										}
									},
									"type": "BooleanLiteral",
									"value": false,
									"original": false
								}
							}
						]
					},
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 43
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 38
									},
									"end": {
										"line": 1,
										"column": 43
									}
								},
								"type": "ContentStatement",
								"value": "world",
								"original": "world"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"CRUEL"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 31
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"print"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"cruel"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"world"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 38
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "helperMissing",
		"it": "if a context is not found, helperMissing is used",
		"template": "{{hello}} {{link_to world}}",
		"exception": true,
		"message": "/Missing helper: \"link_to\"/",
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 27
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hello",
						"parts": [
							"hello"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 12
							},
							"end": {
								"line": 1,
								"column": 19
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "link_to",
						"parts": [
							"link_to"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 20
								},
								"end": {
									"line": 1,
									"column": 25
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "world",
							"parts": [
								"world"
							],
							"depth": 0
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"hello",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 20
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 20
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"link_to"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"link_to",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "helperMissing",
		"it": "if a context is not found, custom helperMissing is used",
		"template": "{{hello}} {{link_to world}}",
		"data": {
			"hello": "Hello",
			"world": "world"
		},
		"helpers": {
			"helperMissing": {
				"!code": true,
				"javascript": "function (mesg, options) {\n          if (options.name === 'link_to') {\n            return new Handlebars.SafeString('<a>' + mesg + '</a>');\n          }\n        }",
				"php": "function($mesg, $options = null) {\n          if($options && $options['name'] === \"link_to\") {\n            return new SafeString(\"<a>\" . $mesg . \"</a>\");\n          }\n        }"
			}
		},
		"expected": "Hello <a>world</a>",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 27
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hello",
						"parts": [
							"hello"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 12
							},
							"end": {
								"line": 1,
								"column": 19
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "link_to",
						"parts": [
							"link_to"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 20
								},
								"end": {
									"line": 1,
									"column": 25
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "world",
							"parts": [
								"world"
							],
							"depth": 0
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"hello",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 20
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 20
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"link_to"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"link_to",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "helperMissing",
		"it": "if a value is not found, custom helperMissing is used",
		"template": "{{hello}} {{link_to}}",
		"data": {
			"hello": "Hello",
			"world": "world"
		},
		"helpers": {
			"helperMissing": {
				"!code": true,
				"javascript": "function (options) {\n          if (options.name === 'link_to') {\n            return new Handlebars.SafeString('<a>winning</a>');\n          }\n        }",
				"php": "function($options) {\n          if($options['name'] === \"link_to\") {\n            return new SafeString(\"<a>winning</a>\");\n          }\n        }"
			}
		},
		"expected": "Hello <a>winning</a>",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 21
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hello",
						"parts": [
							"hello"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 21
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 12
							},
							"end": {
								"line": 1,
								"column": 19
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "link_to",
						"parts": [
							"link_to"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"hello",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"link_to"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"link_to",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "knownHelpers",
		"it": "Known helper should render helper",
		"template": "{{hello}}",
		"data": {},
		"expected": "foo",
		"message": "'foo' should === 'foo",
		"compileOptions": {
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true,
				"hello": true
			},
			"data": true,
			"blockParams": []
		},
		"helpers": {
			"hello": {
				"!code": true,
				"javascript": "function () { return 'foo'; }",
				"php": "function() { return \"foo\"; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 9
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 7
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "hello",
						"parts": [
							"hello"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						0,
						"hello"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				}
			],
			"children": [],
			"options": {
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true,
					"hello": true
				},
				"data": true,
				"blockParams": []
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "knownHelpers",
		"it": "Unknown helper in knownHelpers only mode should be passed as undefined",
		"template": "{{typeof hello}}",
		"data": {},
		"expected": "undefined",
		"message": "'undefined' should === 'undefined",
		"compileOptions": {
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true,
				"typeof": true
			},
			"knownHelpersOnly": true,
			"data": true,
			"blockParams": []
		},
		"helpers": {
			"typeof": {
				"!code": true,
				"javascript": "function (arg) { return typeof arg; }",
				"php": "function($arg) { return $arg === null ? 'undefined' : gettype($arg); }"
			},
			"hello": {
				"!code": true,
				"javascript": "function () { return 'foo'; }",
				"php": "function() { return \"foo\"; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 16
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "typeof",
						"parts": [
							"typeof"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 14
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "hello",
							"parts": [
								"hello"
							],
							"depth": 0
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"typeof"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				}
			],
			"children": [],
			"options": {
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true,
					"typeof": true
				},
				"knownHelpersOnly": true,
				"data": true,
				"blockParams": []
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "knownHelpers",
		"it": "Builtin helpers available in knownHelpers only mode",
		"template": "{{#unless foo}}bar{{/unless}}",
		"data": {},
		"expected": "bar",
		"message": "'bar' should === 'bar",
		"compileOptions": {
			"knownHelpersOnly": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 29
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 29
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 9
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "unless",
						"parts": [
							"unless"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 13
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "foo",
							"parts": [
								"foo"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 18
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 15
									},
									"end": {
										"line": 1,
										"column": 18
									}
								},
								"type": "ContentStatement",
								"value": "bar",
								"original": "bar"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 29
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 29
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 29
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"unless"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 29
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 29
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"bar"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 18
								}
							}
						}
					],
					"children": [],
					"options": {
						"knownHelpersOnly": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"knownHelpersOnly": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "knownHelpers",
		"it": "Field lookup works in knownHelpers only mode",
		"template": "{{foo}}",
		"data": {
			"foo": "bar"
		},
		"expected": "bar",
		"message": "'bar' should === 'bar",
		"compileOptions": {
			"knownHelpersOnly": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 7
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 7
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 5
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "foo",
						"parts": [
							"foo"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 5
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 5
						}
					}
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				}
			],
			"children": [],
			"options": {
				"knownHelpersOnly": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "knownHelpers",
		"it": "Conditional blocks work in knownHelpers only mode",
		"template": "{{#foo}}bar{{/foo}}",
		"data": {
			"foo": "baz"
		},
		"expected": "bar",
		"message": "'bar' should === 'bar",
		"compileOptions": {
			"knownHelpersOnly": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 19
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 6
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "foo",
						"parts": [
							"foo"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 8
									},
									"end": {
										"line": 1,
										"column": 11
									}
								},
								"type": "ContentStatement",
								"value": "bar",
								"original": "bar"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 6
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 6
						}
					}
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "blockValue",
					"args": [
						"foo"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"bar"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 11
								}
							}
						}
					],
					"children": [],
					"options": {
						"knownHelpersOnly": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"knownHelpersOnly": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "knownHelpers",
		"it": "Invert blocks work in knownHelpers only mode",
		"template": "{{^foo}}bar{{/foo}}",
		"data": {
			"foo": false
		},
		"expected": "bar",
		"message": "'bar' should === 'bar",
		"compileOptions": {
			"knownHelpersOnly": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 19
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 6
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "foo",
						"parts": [
							"foo"
						],
						"depth": 0
					},
					"params": [],
					"inverse": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 8
									},
									"end": {
										"line": 1,
										"column": 11
									}
								},
								"type": "ContentStatement",
								"value": "bar",
								"original": "bar"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 6
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 6
						}
					}
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "blockValue",
					"args": [
						"foo"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"bar"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 11
								}
							}
						}
					],
					"children": [],
					"options": {
						"knownHelpersOnly": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"knownHelpersOnly": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "knownHelpers",
		"it": "Functions are bound to the context in knownHelpers only mode",
		"template": "{{foo}}",
		"data": {
			"foo": {
				"!code": true,
				"javascript": "function () { return this.bar; }",
				"php": "function($context) { return $context['bar']; }"
			},
			"bar": "bar"
		},
		"expected": "bar",
		"message": "'bar' should === 'bar",
		"compileOptions": {
			"knownHelpersOnly": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 7
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 7
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 5
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "foo",
						"parts": [
							"foo"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 5
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 5
						}
					}
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				}
			],
			"children": [],
			"options": {
				"knownHelpersOnly": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "knownHelpers",
		"it": "Unknown helper call in knownHelpers only mode should throw",
		"template": "{{typeof hello}}",
		"exception": true,
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 16
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "typeof",
						"parts": [
							"typeof"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 14
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "hello",
							"parts": [
								"hello"
							],
							"depth": 0
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hello"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"typeof"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"typeof",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "blockHelperMissing",
		"it": "lambdas are resolved by blockHelperMissing, not handlebars proper",
		"template": "{{#truthy}}yep{{/truthy}}",
		"data": {
			"truthy": {
				"!code": true,
				"javascript": "function () { return true; }",
				"php": "function() { return true; }"
			}
		},
		"expected": "yep",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 25
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 9
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "truthy",
						"parts": [
							"truthy"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 14
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 11
									},
									"end": {
										"line": 1,
										"column": 14
									}
								},
								"type": "ContentStatement",
								"value": "yep",
								"original": "yep"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"truthy"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"truthy",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"yep"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 14
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "blockHelperMissing",
		"it": "lambdas resolved by blockHelperMissing are bound to the context",
		"template": "{{#truthy}}yep{{/truthy}}",
		"data": {
			"truthy": {
				"!code": true,
				"javascript": "function () { return this.truthiness(); }",
				"php": "function($options) { return $options->scope['truthiness'](); }"
			},
			"truthiness": {
				"!code": true,
				"javascript": "function () { return false; }",
				"php": "function() { return false; }"
			}
		},
		"expected": "",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"note": "Check original spec. Needs other tests, possibly implementation dependant.",
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 25
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 9
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "truthy",
						"parts": [
							"truthy"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 14
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 11
									},
									"end": {
										"line": 1,
										"column": 14
									}
								},
								"type": "ContentStatement",
								"value": "yep",
								"original": "yep"
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"truthy"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"truthy",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"yep"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 14
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "name field",
		"it": "should include in ambiguous mustache calls",
		"template": "{{helper}}",
		"data": {},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'helper missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'helper missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helper": {
				"!code": true,
				"javascript": "function () {\n        return 'ran: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'ran: ' . $arguments[count($arguments)-1]['name'];\n      }"
			}
		},
		"expected": "ran: helper",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 10
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "helper",
						"parts": [
							"helper"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"helper"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"helper",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "name field",
		"it": "should include in helper mustache calls",
		"template": "{{helper 1}}",
		"data": {},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'helper missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'helper missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helper": {
				"!code": true,
				"javascript": "function () {\n        return 'ran: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'ran: ' . $arguments[count($arguments)-1]['name'];\n      }"
			}
		},
		"expected": "ran: helper",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 12
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "helper",
						"parts": [
							"helper"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 10
								}
							},
							"type": "NumberLiteral",
							"value": 1,
							"original": 1
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushLiteral",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"helper"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"helper",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "name field",
		"it": "should include in ambiguous block calls",
		"template": "{{#helper}}{{/helper}}",
		"data": {},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'helper missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'helper missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helper": {
				"!code": true,
				"javascript": "function () {\n        return 'ran: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'ran: ' . $arguments[count($arguments)-1]['name'];\n      }"
			}
		},
		"expected": "ran: helper",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 22
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 22
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 9
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "helper",
						"parts": [
							"helper"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "Program",
						"body": [],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"helper"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"helper",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 22
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "name field",
		"it": "should include in simple block calls",
		"template": "{{#./helper}}{{/./helper}}",
		"data": {},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'helper missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'helper missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helper": {
				"!code": true,
				"javascript": "function () {\n        return 'ran: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'ran: ' . $arguments[count($arguments)-1]['name'];\n      }"
			}
		},
		"expected": "missing: ./helper",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 26
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 26
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "./helper",
						"parts": [
							"helper"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 13
							}
						},
						"type": "Program",
						"body": [],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"helper"
						],
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "blockValue",
					"args": [
						"./helper"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "name field",
		"it": "should include in helper block calls",
		"template": "{{#helper 1}}{{/helper}}",
		"data": {},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'helper missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'helper missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helper": {
				"!code": true,
				"javascript": "function () {\n        return 'ran: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'ran: ' . $arguments[count($arguments)-1]['name'];\n      }"
			}
		},
		"expected": "ran: helper",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 24
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 24
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 9
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "helper",
						"parts": [
							"helper"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 11
								}
							},
							"type": "NumberLiteral",
							"value": 1,
							"original": 1
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 13
							}
						},
						"type": "Program",
						"body": [],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushLiteral",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"helper"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"helper",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "name field",
		"it": "should include in known helper calls",
		"template": "{{helper}}",
		"data": {},
		"expected": "ran: helper",
		"compileOptions": {
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true,
				"helper": true
			},
			"knownHelpersOnly": true,
			"data": true,
			"blockParams": []
		},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'helper missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'helper missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helper": {
				"!code": true,
				"javascript": "function () {\n        return 'ran: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'ran: ' . $arguments[count($arguments)-1]['name'];\n      }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 10
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "helper",
						"parts": [
							"helper"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						0,
						"helper"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				}
			],
			"children": [],
			"options": {
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true,
					"helper": true
				},
				"knownHelpersOnly": true,
				"data": true,
				"blockParams": []
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "name field",
		"it": "should include full id",
		"template": "{{#foo.helper}}{{/foo.helper}}",
		"data": {
			"foo": {}
		},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'helper missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'helper missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helper": {
				"!code": true,
				"javascript": "function () {\n        return 'ran: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'ran: ' . $arguments[count($arguments)-1]['name'];\n      }"
			}
		},
		"expected": "missing: foo.helper",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 30
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 13
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "foo.helper",
						"parts": [
							"foo",
							"helper"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 15
							}
						},
						"type": "Program",
						"body": [],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo",
							"helper"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "blockValue",
					"args": [
						"foo.helper"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "name field",
		"it": "should include full id if a hash is passed",
		"template": "{{#foo.helper bar=baz}}{{/foo.helper}}",
		"data": {
			"foo": {}
		},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () {\n        return 'helper missing: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'helper missing: ' . $arguments[count($arguments)-1]['name'];\n      }"
			},
			"helper": {
				"!code": true,
				"javascript": "function () {\n        return 'ran: ' + arguments[arguments.length - 1].name;\n      }",
				"php": "function() {\n        $arguments = func_get_args();\n        return 'ran: ' . $arguments[count($arguments)-1]['name'];\n      }"
			}
		},
		"expected": "helper missing: foo.helper",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return \"world!\"; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			},
			"test_helper": {
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 38
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 13
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "foo.helper",
						"parts": [
							"foo",
							"helper"
						],
						"depth": 0
					},
					"params": [],
					"hash": {
						"loc": {
							"start": {
								"line": 1,
								"column": 14
							},
							"end": {
								"line": 1,
								"column": 21
							}
						},
						"type": "Hash",
						"pairs": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 14
									},
									"end": {
										"line": 1,
										"column": 21
									}
								},
								"type": "HashPair",
								"key": "bar",
								"value": {
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 21
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "baz",
									"parts": [
										"baz"
									],
									"depth": 0
								}
							}
						]
					},
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 23
							}
						},
						"type": "Program",
						"body": [],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 18
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"baz"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 18
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"bar"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 21
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo",
							"helper"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"foo.helper",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "name conflicts",
		"it": "helpers take precedence over same-named context properties",
		"template": "{{goodbye}} {{cruel world}}",
		"data": {
			"goodbye": "goodbye",
			"world": "world"
		},
		"expected": "GOODBYE cruel WORLD",
		"message": "Helper executed",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function () {\n          return this.goodbye.toUpperCase();\n        }",
				"php": "function($options) {\n          return strtoupper($options->scope['goodbye']) . $options->fn($options->scope);\n        }"
			},
			"cruel": {
				"!code": true,
				"javascript": "function (world) {\n          return 'cruel ' + world.toUpperCase();\n        }",
				"php": "function($world) {\n          return \"cruel \" . strtoupper($world);\n        }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 27
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 11
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 9
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 12
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 27
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 14
							},
							"end": {
								"line": 1,
								"column": 19
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "cruel",
						"parts": [
							"cruel"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 20
								},
								"end": {
									"line": 1,
									"column": 25
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "world",
							"parts": [
								"world"
							],
							"depth": 0
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbye",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 20
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 20
						},
						"end": {
							"line": 1,
							"column": 25
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 19
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"cruel",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 12
						},
						"end": {
							"line": 1,
							"column": 27
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "name conflicts",
		"it": "helpers take precedence over same-named context properties$",
		"template": "{{#goodbye}} {{cruel world}}{{/goodbye}}",
		"data": {
			"goodbye": "goodbye",
			"world": "world"
		},
		"expected": "GOODBYE cruel WORLD",
		"message": "Helper executed",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (options) {\n          return this.goodbye.toUpperCase() + options.fn(this);\n        }",
				"php": "function($options) {\n          return strtoupper($options->scope['goodbye']) . $options->fn($options->scope);\n        }"
			},
			"cruel": {
				"!code": true,
				"javascript": "function (world) {\n          return 'cruel ' + world.toUpperCase();\n        }",
				"php": "function($world) {\n          return \"cruel \" . strtoupper($world);\n        }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 40
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 10
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 28
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 12
									},
									"end": {
										"line": 1,
										"column": 13
									}
								},
								"type": "ContentStatement",
								"value": " ",
								"original": " "
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 13
									},
									"end": {
										"line": 1,
										"column": 28
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 15
										},
										"end": {
											"line": 1,
											"column": 20
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "cruel",
									"parts": [
										"cruel"
									],
									"depth": 0
								},
								"params": [
									{
										"loc": {
											"start": {
												"line": 1,
												"column": 21
											},
											"end": {
												"line": 1,
												"column": 26
											}
										},
										"type": "PathExpression",
										"data": false,
										"original": "world",
										"parts": [
											"world"
										],
										"depth": 0
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								" "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"world"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"cruel"
								],
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"cruel",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "name conflicts",
		"it": "Scoped names take precedence over helpers",
		"template": "{{this.goodbye}} {{cruel world}} {{cruel this.goodbye}}",
		"data": {
			"goodbye": "goodbye",
			"world": "world"
		},
		"expected": "goodbye cruel WORLD cruel GOODBYE",
		"message": "Helper not executed",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function () {\n          return this.goodbye.toUpperCase();\n        }",
				"php": "function($options, $scope) {\n          return strtoupper($scope['goodbye']);\n        }"
			},
			"cruel": {
				"!code": true,
				"javascript": "function (world) {\n          return 'cruel ' + world.toUpperCase();\n        }",
				"php": "function($world) {\n          return \"cruel \" . strtoupper($world);\n        }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 55
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 14
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "this.goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 17
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 32
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 19
							},
							"end": {
								"line": 1,
								"column": 24
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "cruel",
						"parts": [
							"cruel"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 25
								},
								"end": {
									"line": 1,
									"column": 30
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "world",
							"parts": [
								"world"
							],
							"depth": 0
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 33
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 33
						},
						"end": {
							"line": 1,
							"column": 55
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 35
							},
							"end": {
								"line": 1,
								"column": 40
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "cruel",
						"parts": [
							"cruel"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 41
								},
								"end": {
									"line": 1,
									"column": 53
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "this.goodbye",
							"parts": [
								"goodbye"
							],
							"depth": 0
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 25
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 25
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 19
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 19
						},
						"end": {
							"line": 1,
							"column": 24
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"cruel",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 32
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 33
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 41
						},
						"end": {
							"line": 1,
							"column": 53
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 41
						},
						"end": {
							"line": 1,
							"column": 53
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 33
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 33
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 33
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 35
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 35
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"cruel",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 33
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 33
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "name conflicts",
		"it": "Scoped names take precedence over block helpers",
		"template": "{{#goodbye}} {{cruel world}}{{/goodbye}} {{this.goodbye}}",
		"data": {
			"goodbye": "goodbye",
			"world": "world"
		},
		"expected": "GOODBYE cruel WORLD goodbye",
		"message": "Helper executed",
		"helpers": {
			"goodbye": {
				"!code": true,
				"javascript": "function (options) {\n          return this.goodbye.toUpperCase() + options.fn(this);\n        }",
				"php": "function($options) {\n          return strtoupper($options->scope['goodbye']) . $options->fn($options->scope);\n        }"
			},
			"cruel": {
				"!code": true,
				"javascript": "function (world) {\n          return 'cruel ' + world.toUpperCase();\n        }",
				"php": "function($world) {\n          return \"cruel \" . strtoupper($world);\n        }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 57
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 10
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 28
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 12
									},
									"end": {
										"line": 1,
										"column": 13
									}
								},
								"type": "ContentStatement",
								"value": " ",
								"original": " "
							},
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 13
									},
									"end": {
										"line": 1,
										"column": 28
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 15
										},
										"end": {
											"line": 1,
											"column": 20
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "cruel",
									"parts": [
										"cruel"
									],
									"depth": 0
								},
								"params": [
									{
										"loc": {
											"start": {
												"line": 1,
												"column": 21
											},
											"end": {
												"line": 1,
												"column": 26
											}
										},
										"type": "PathExpression",
										"data": false,
										"original": "world",
										"parts": [
											"world"
										],
										"depth": 0
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 40
						},
						"end": {
							"line": 1,
							"column": 41
						}
					},
					"type": "ContentStatement",
					"value": " ",
					"original": " "
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 41
						},
						"end": {
							"line": 1,
							"column": 57
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 43
							},
							"end": {
								"line": 1,
								"column": 55
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "this.goodbye",
						"parts": [
							"goodbye"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbye",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 40
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 43
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 43
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 41
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 41
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								" "
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"world"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"cruel"
								],
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"cruel",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "block params",
		"it": "should take presedence over context values",
		"template": "{{#goodbyes as |value|}}{{value}}{{/goodbyes}}{{value}}",
		"data": {
			"value": "foo"
		},
		"helpers": {
			"goodbyes": {
				"!code": true,
				"javascript": "function (options) {\n          equals(options.fn.blockParams, 1);\n          return options.fn({value: 'bar'}, {blockParams: [1, 2]});\n        }",
				"php": "function($options) {\n          return $options->fn(array('value' => 'bar'), array('blockParams' => array(1, 2)));\n        }"
			}
		},
		"expected": "1foo",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return 'world!'; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 55
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbyes",
						"parts": [
							"goodbyes"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 33
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 24
									},
									"end": {
										"line": 1,
										"column": 33
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 26
										},
										"end": {
											"line": 1,
											"column": 31
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "value",
									"parts": [
										"value"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"blockParams": [
							"value"
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 48
							},
							"end": {
								"line": 1,
								"column": 53
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "value",
						"parts": [
							"value"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 48
						},
						"end": {
							"line": 1,
							"column": 53
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"value"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 48
						},
						"end": {
							"line": 1,
							"column": 53
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"value",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"value"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "resolvePossibleLambda",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 1
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "block params",
		"it": "should take presedence over helper values",
		"template": "{{#goodbyes as |value|}}{{value}}{{/goodbyes}}{{value}}",
		"data": {},
		"helpers": {
			"value": {
				"!code": true,
				"javascript": "function () {\n          return 'foo';\n        }",
				"php": "function() {\n          return 'foo';\n        }"
			},
			"goodbyes": {
				"!code": true,
				"javascript": "function (options) {\n          equals(options.fn.blockParams, 1);\n          return options.fn({}, {blockParams: [1, 2]});\n        }",
				"php": "function($options) {\n          return $options->fn(array(), array('blockParams' => array(1, 2)));\n        }"
			}
		},
		"expected": "1foo",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return 'world!'; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 55
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbyes",
						"parts": [
							"goodbyes"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 33
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 24
									},
									"end": {
										"line": 1,
										"column": 33
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 26
										},
										"end": {
											"line": 1,
											"column": 31
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "value",
									"parts": [
										"value"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"blockParams": [
							"value"
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 48
							},
							"end": {
								"line": 1,
								"column": 53
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "value",
						"parts": [
							"value"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 48
						},
						"end": {
							"line": 1,
							"column": 53
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"value"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 48
						},
						"end": {
							"line": 1,
							"column": 53
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"value",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 46
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"value"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "resolvePossibleLambda",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 1
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "block params",
		"it": "should not take presedence over pathed values",
		"template": "{{#goodbyes as |value|}}{{./value}}{{/goodbyes}}{{value}}",
		"data": {
			"value": "bar"
		},
		"helpers": {
			"value": {
				"!code": true,
				"javascript": "function () {\n          return 'foo';\n        }",
				"php": "function() {\n          return 'foo';\n        }"
			},
			"goodbyes": {
				"!code": true,
				"javascript": "function (options) {\n          equals(options.fn.blockParams, 1);\n          return options.fn(this, {blockParams: [1, 2]});\n        }",
				"php": "function($options) {\n          return $options->fn($options->scope, array('blockParams' => array(1, 2)));\n        }"
			}
		},
		"expected": "barfoo",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return 'world!'; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 57
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbyes",
						"parts": [
							"goodbyes"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 35
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 24
									},
									"end": {
										"line": 1,
										"column": 35
									}
								},
								"type": "MustacheStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 26
										},
										"end": {
											"line": 1,
											"column": 33
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "./value",
									"parts": [
										"value"
									],
									"depth": 0
								},
								"params": [],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								}
							}
						],
						"blockParams": [
							"value"
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 48
						},
						"end": {
							"line": 1,
							"column": 57
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 50
							},
							"end": {
								"line": 1,
								"column": 55
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "value",
						"parts": [
							"value"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 48
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 48
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 48
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 50
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"value"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 50
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"value",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 48
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 48
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"value"
								],
								null,
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 33
								}
							}
						},
						{
							"opcode": "resolvePossibleLambda",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 35
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 35
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 1
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "block params",
		"it": "should take presednece over parent block params",
		"template": "{{#goodbyes as |value|}}{{#goodbyes}}{{value}}{{#goodbyes as |value|}}{{value}}{{/goodbyes}}{{/goodbyes}}{{/goodbyes}}{{value}}",
		"data": {
			"value": "foo"
		},
		"helpers": {
			"goodbyes": {
				"!code": true,
				"javascript": "function (options) {\n          if( typeof value === 'undefined' ) { value = 1; } return options.fn({value: 'bar'}, {blockParams: options.fn.blockParams === 1 ? [value++, value++] : undefined});\n        }",
				"php": "function($options) {\n          if( $value === null ) { $value = 1; } return $options->fn(array('value' => 'bar'), array('blockParams' => $options->blockParams === 1 ? array($value++, $value++) : null));\n        }"
			}
		},
		"expected": "13foo",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return 'world!'; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 127
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 118
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "goodbyes",
						"parts": [
							"goodbyes"
						],
						"depth": 0
					},
					"params": [],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 105
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 24
									},
									"end": {
										"line": 1,
										"column": 105
									}
								},
								"type": "BlockStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 27
										},
										"end": {
											"line": 1,
											"column": 35
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "goodbyes",
									"parts": [
										"goodbyes"
									],
									"depth": 0
								},
								"params": [],
								"program": {
									"loc": {
										"start": {
											"line": 1,
											"column": 24
										},
										"end": {
											"line": 1,
											"column": 92
										}
									},
									"type": "Program",
									"body": [
										{
											"loc": {
												"start": {
													"line": 1,
													"column": 37
												},
												"end": {
													"line": 1,
													"column": 46
												}
											},
											"type": "MustacheStatement",
											"path": {
												"loc": {
													"start": {
														"line": 1,
														"column": 39
													},
													"end": {
														"line": 1,
														"column": 44
													}
												},
												"type": "PathExpression",
												"data": false,
												"original": "value",
												"parts": [
													"value"
												],
												"depth": 0
											},
											"params": [],
											"escaped": true,
											"strip": {
												"open": false,
												"close": false
											}
										},
										{
											"loc": {
												"start": {
													"line": 1,
													"column": 46
												},
												"end": {
													"line": 1,
													"column": 92
												}
											},
											"type": "BlockStatement",
											"path": {
												"loc": {
													"start": {
														"line": 1,
														"column": 49
													},
													"end": {
														"line": 1,
														"column": 57
													}
												},
												"type": "PathExpression",
												"data": false,
												"original": "goodbyes",
												"parts": [
													"goodbyes"
												],
												"depth": 0
											},
											"params": [],
											"program": {
												"loc": {
													"start": {
														"line": 1,
														"column": 46
													},
													"end": {
														"line": 1,
														"column": 79
													}
												},
												"type": "Program",
												"body": [
													{
														"loc": {
															"start": {
																"line": 1,
																"column": 70
															},
															"end": {
																"line": 1,
																"column": 79
															}
														},
														"type": "MustacheStatement",
														"path": {
															"loc": {
																"start": {
																	"line": 1,
																	"column": 72
																},
																"end": {
																	"line": 1,
																	"column": 77
																}
															},
															"type": "PathExpression",
															"data": false,
															"original": "value",
															"parts": [
																"value"
															],
															"depth": 0
														},
														"params": [],
														"escaped": true,
														"strip": {
															"open": false,
															"close": false
														}
													}
												],
												"blockParams": [
													"value"
												],
												"strip": {}
											},
											"openStrip": {
												"open": false,
												"close": false
											},
											"closeStrip": {
												"open": false,
												"close": false
											}
										}
									],
									"strip": {}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								}
							}
						],
						"blockParams": [
							"value"
						],
						"strip": {}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 118
						},
						"end": {
							"line": 1,
							"column": 127
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 120
							},
							"end": {
								"line": 1,
								"column": 125
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "value",
						"parts": [
							"value"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 118
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 118
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 118
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 118
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 118
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 118
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 118
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 118
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 118
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 118
						},
						"end": {
							"line": 1,
							"column": 127
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 118
						},
						"end": {
							"line": 1,
							"column": 127
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 118
						},
						"end": {
							"line": 1,
							"column": 127
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 120
						},
						"end": {
							"line": 1,
							"column": 125
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"value"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 120
						},
						"end": {
							"line": 1,
							"column": 125
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"value",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 118
						},
						"end": {
							"line": 1,
							"column": 127
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 118
						},
						"end": {
							"line": 1,
							"column": 127
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 105
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 105
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 105
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 27
								},
								"end": {
									"line": 1,
									"column": 35
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"goodbyes"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 27
								},
								"end": {
									"line": 1,
									"column": 35
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"goodbyes",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 105
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 105
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 105
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 105
								}
							}
						},
						{
							"opcode": "ambiguousBlockValue",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 105
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 105
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 39
										},
										"end": {
											"line": 1,
											"column": 44
										}
									}
								},
								{
									"opcode": "lookupBlockParam",
									"args": [
										[
											1,
											0
										],
										[
											"value"
										]
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 39
										},
										"end": {
											"line": 1,
											"column": 44
										}
									}
								},
								{
									"opcode": "resolvePossibleLambda",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 37
										},
										"end": {
											"line": 1,
											"column": 46
										}
									}
								},
								{
									"opcode": "appendEscaped",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 37
										},
										"end": {
											"line": 1,
											"column": 46
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 46
										},
										"end": {
											"line": 1,
											"column": 92
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 46
										},
										"end": {
											"line": 1,
											"column": 92
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 46
										},
										"end": {
											"line": 1,
											"column": 92
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 49
										},
										"end": {
											"line": 1,
											"column": 57
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"goodbyes"
										],
										null,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 49
										},
										"end": {
											"line": 1,
											"column": 57
										}
									}
								},
								{
									"opcode": "invokeAmbiguous",
									"args": [
										"goodbyes",
										true
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 46
										},
										"end": {
											"line": 1,
											"column": 92
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 46
										},
										"end": {
											"line": 1,
											"column": 92
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 46
										},
										"end": {
											"line": 1,
											"column": 92
										}
									}
								},
								{
									"opcode": "emptyHash",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 46
										},
										"end": {
											"line": 1,
											"column": 92
										}
									}
								},
								{
									"opcode": "ambiguousBlockValue",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 46
										},
										"end": {
											"line": 1,
											"column": 92
										}
									}
								},
								{
									"opcode": "append",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 46
										},
										"end": {
											"line": 1,
											"column": 92
										}
									}
								}
							],
							"children": [
								{
									"sourceNode": [],
									"opcodes": [
										{
											"opcode": "getContext",
											"args": [
												0
											],
											"loc": {
												"start": {
													"line": 1,
													"column": 72
												},
												"end": {
													"line": 1,
													"column": 77
												}
											}
										},
										{
											"opcode": "lookupBlockParam",
											"args": [
												[
													0,
													0
												],
												[
													"value"
												]
											],
											"loc": {
												"start": {
													"line": 1,
													"column": 72
												},
												"end": {
													"line": 1,
													"column": 77
												}
											}
										},
										{
											"opcode": "resolvePossibleLambda",
											"args": [],
											"loc": {
												"start": {
													"line": 1,
													"column": 70
												},
												"end": {
													"line": 1,
													"column": 79
												}
											}
										},
										{
											"opcode": "appendEscaped",
											"args": [],
											"loc": {
												"start": {
													"line": 1,
													"column": 70
												},
												"end": {
													"line": 1,
													"column": 79
												}
											}
										}
									],
									"children": [],
									"options": {
										"data": true,
										"blockParams": [],
										"knownHelpers": {
											"helperMissing": true,
											"blockHelperMissing": true,
											"each": true,
											"if": true,
											"unless": true,
											"with": true,
											"log": true,
											"lookup": true
										}
									},
									"isSimple": true,
									"blockParams": 1
								}
							],
							"options": {
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"guid": 1,
							"isSimple": false,
							"blockParams": 0
						}
					],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"guid": 1,
					"isSimple": true,
					"blockParams": 1
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false,
			"blockParams": 0
		}
	},
	{
		"description": "block params",
		"it": "should allow block params on chained helpers",
		"template": "{{#if bar}}{{else goodbyes as |value|}}{{value}}{{/if}}{{value}}",
		"data": {
			"value": "foo"
		},
		"helpers": {
			"goodbyes": {
				"!code": true,
				"javascript": "function (options) {\n          equals(options.fn.blockParams, 1);\n          return options.fn({value: 'bar'}, {blockParams: [1, 2]});\n        }",
				"php": "function($options) {\n          return $options->fn(array('value' => 'bar'), array('blockParams' => array(1, 2)));\n        }"
			}
		},
		"expected": "1foo",
		"compileOptions": {
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalHelpers": {
			"world": {
				"!code": true,
				"javascript": "function () { return 'world!'; }",
				"php": "function() { return 'world!'; }"
			},
			"testHelper": {
				"!code": true,
				"javascript": "function () { return 'found it!'; }",
				"php": "function() { return 'found it!'; }"
			}
		},
		"ast": {
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 64
				}
			},
			"type": "Program",
			"body": [
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					},
					"type": "BlockStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 5
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "if",
						"parts": [
							"if"
						],
						"depth": 0
					},
					"params": [
						{
							"loc": {
								"start": {
									"line": 1,
									"column": 6
								},
								"end": {
									"line": 1,
									"column": 9
								}
							},
							"type": "PathExpression",
							"data": false,
							"original": "bar",
							"parts": [
								"bar"
							],
							"depth": 0
						}
					],
					"program": {
						"loc": {
							"start": {
								"line": 1,
								"column": 0
							},
							"end": {
								"line": 1,
								"column": 11
							}
						},
						"type": "Program",
						"body": [],
						"strip": {}
					},
					"inverse": {
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 48
							}
						},
						"type": "Program",
						"body": [
							{
								"loc": {
									"start": {
										"line": 1,
										"column": 11
									},
									"end": {
										"line": 1,
										"column": 48
									}
								},
								"type": "BlockStatement",
								"path": {
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 26
										}
									},
									"type": "PathExpression",
									"data": false,
									"original": "goodbyes",
									"parts": [
										"goodbyes"
									],
									"depth": 0
								},
								"params": [],
								"program": {
									"loc": {
										"start": {
											"line": 1,
											"column": 11
										},
										"end": {
											"line": 1,
											"column": 48
										}
									},
									"type": "Program",
									"body": [
										{
											"loc": {
												"start": {
													"line": 1,
													"column": 39
												},
												"end": {
													"line": 1,
													"column": 48
												}
											},
											"type": "MustacheStatement",
											"path": {
												"loc": {
													"start": {
														"line": 1,
														"column": 41
													},
													"end": {
														"line": 1,
														"column": 46
													}
												},
												"type": "PathExpression",
												"data": false,
												"original": "value",
												"parts": [
													"value"
												],
												"depth": 0
											},
											"params": [],
											"escaped": true,
											"strip": {
												"open": false,
												"close": false
											}
										}
									],
									"blockParams": [
										"value"
									],
									"strip": {}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								}
							}
						],
						"blockParams": null,
						"strip": {},
						"chained": true
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"inverseStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					}
				},
				{
					"loc": {
						"start": {
							"line": 1,
							"column": 55
						},
						"end": {
							"line": 1,
							"column": 64
						}
					},
					"type": "MustacheStatement",
					"path": {
						"loc": {
							"start": {
								"line": 1,
								"column": 57
							},
							"end": {
								"line": 1,
								"column": 62
							}
						},
						"type": "PathExpression",
						"data": false,
						"original": "value",
						"parts": [
							"value"
						],
						"depth": 0
					},
					"params": [],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					}
				}
			],
			"blockParams": null,
			"strip": {}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 6
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"bar"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 6
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"if"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 55
						},
						"end": {
							"line": 1,
							"column": 64
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 55
						},
						"end": {
							"line": 1,
							"column": 64
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 55
						},
						"end": {
							"line": 1,
							"column": 64
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 57
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"value"
						],
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 57
						},
						"end": {
							"line": 1,
							"column": 62
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"value",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 55
						},
						"end": {
							"line": 1,
							"column": 64
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 55
						},
						"end": {
							"line": 1,
							"column": 64
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false,
					"blockParams": 0
				},
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 18
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"goodbyes"
								],
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 18
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"goodbyes",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "ambiguousBlockValue",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 41
										},
										"end": {
											"line": 1,
											"column": 46
										}
									}
								},
								{
									"opcode": "lookupBlockParam",
									"args": [
										[
											0,
											0
										],
										[
											"value"
										]
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 41
										},
										"end": {
											"line": 1,
											"column": 46
										}
									}
								},
								{
									"opcode": "resolvePossibleLambda",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 39
										},
										"end": {
											"line": 1,
											"column": 48
										}
									}
								},
								{
									"opcode": "appendEscaped",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 39
										},
										"end": {
											"line": 1,
											"column": 48
										}
									}
								}
							],
							"children": [],
							"options": {
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"isSimple": true,
							"blockParams": 1
						}
					],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"guid": 1,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 2,
			"isSimple": false,
			"blockParams": 0
		}
	}
]