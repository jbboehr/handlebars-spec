[
	{
		"description": "partials",
		"it": "basic partials",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} ({{url}}) "
		},
		"expected": "Dudes: Yehuda (http://yehuda) Alan (http://alan) ",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 37,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 37,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 10,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "dudes",
								"parts": [
									"dudes"
								],
								"string": "dudes",
								"depth": 0,
								"idName": "dudes",
								"isSimple": true,
								"stringModeValue": "dudes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "dudes",
							"parts": [
								"dudes"
							],
							"string": "dudes",
							"depth": 0,
							"idName": "dudes",
							"isSimple": true,
							"stringModeValue": "dudes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 27,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 17,
								"lastColumn": 27,
								"lastLine": 1,
								"type": "partial",
								"partialName": {
									"firstLine": 1,
									"firstColumn": 21,
									"lastColumn": 25,
									"lastLine": 1,
									"type": "PARTIAL_NAME",
									"name": "dude"
								},
								"strip": {
									"left": false,
									"right": false,
									"inlineStandalone": true
								}
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"dudes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "push",
							"args": [
								"undefined"
							]
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "invokePartial",
							"args": [
								"dude",
								""
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"usePartial": true,
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 19,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 10,
						"lastLine": 1,
						"type": "content",
						"string": " (",
						"original": " ("
					},
					{
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 12,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 12,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "url",
								"parts": [
									"url"
								],
								"string": "url",
								"depth": 0,
								"idName": "url",
								"isSimple": true,
								"stringModeValue": "url"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 12,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "url",
							"parts": [
								"url"
							],
							"string": "url",
							"depth": 0,
							"idName": "url",
							"isSimple": true,
							"stringModeValue": "url"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 17,
						"lastColumn": 19,
						"lastLine": 1,
						"type": "content",
						"string": ") ",
						"original": ") "
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							" ("
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"url"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"url",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							") "
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": false
			}
		}
	},
	{
		"description": "partials",
		"it": "basic partials",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} ({{url}}) "
		},
		"expected": "Dudes: Yehuda (http://yehuda) Alan (http://alan) ",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 37,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 37,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 10,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "dudes",
								"parts": [
									"dudes"
								],
								"string": "dudes",
								"depth": 0,
								"idName": "dudes",
								"isSimple": true,
								"stringModeValue": "dudes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "dudes",
							"parts": [
								"dudes"
							],
							"string": "dudes",
							"depth": 0,
							"idName": "dudes",
							"isSimple": true,
							"stringModeValue": "dudes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 27,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 17,
								"lastColumn": 27,
								"lastLine": 1,
								"type": "partial",
								"partialName": {
									"firstLine": 1,
									"firstColumn": 21,
									"lastColumn": 25,
									"lastLine": 1,
									"type": "PARTIAL_NAME",
									"name": "dude"
								},
								"strip": {
									"left": false,
									"right": false,
									"inlineStandalone": true
								}
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"dudes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "push",
							"args": [
								"undefined"
							]
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "invokePartial",
							"args": [
								"dude",
								""
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"usePartial": true,
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 19,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 10,
						"lastLine": 1,
						"type": "content",
						"string": " (",
						"original": " ("
					},
					{
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 12,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 12,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "url",
								"parts": [
									"url"
								],
								"string": "url",
								"depth": 0,
								"idName": "url",
								"isSimple": true,
								"stringModeValue": "url"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 12,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "url",
							"parts": [
								"url"
							],
							"string": "url",
							"depth": 0,
							"idName": "url",
							"isSimple": true,
							"stringModeValue": "url"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 17,
						"lastColumn": 19,
						"lastLine": 1,
						"type": "content",
						"string": ") ",
						"original": ") "
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							" ("
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"url"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"url",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							") "
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": false
			}
		}
	},
	{
		"description": "partials",
		"it": "partials with context",
		"template": "Dudes: {{>dude dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{#this}}{{name}} ({{url}}) {{/this}}"
		},
		"expected": "Dudes: Yehuda (http://yehuda) Alan (http://alan) ",
		"message": "Partials can be passed a context",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 22,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 22,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 14,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "dude"
					},
					"context": {
						"firstLine": 1,
						"firstColumn": 15,
						"lastColumn": 20,
						"lastLine": 1,
						"type": "ID",
						"original": "dudes",
						"parts": [
							"dudes"
						],
						"string": "dudes",
						"depth": 0,
						"idName": "dudes",
						"isSimple": true,
						"stringModeValue": "dudes"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokePartial",
					"args": [
						"dude",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 37,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 37,
						"lastLine": 1,
						"type": "block",
						"mustache": {
							"firstLine": 1,
							"firstColumn": 0,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "mustache",
							"strip": {
								"left": false,
								"right": false
							},
							"escaped": true,
							"sexpr": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 7,
								"lastLine": 1,
								"type": "sexpr",
								"id": {
									"firstLine": 1,
									"firstColumn": 3,
									"lastColumn": 7,
									"lastLine": 1,
									"type": "ID",
									"isScoped": true,
									"original": "this",
									"parts": [],
									"string": "",
									"depth": 0,
									"idName": "",
									"isSimple": false,
									"stringModeValue": ""
								},
								"params": [],
								"isHelper": false,
								"eligibleHelper": false
							},
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 7,
								"lastLine": 1,
								"type": "ID",
								"isScoped": true,
								"original": "this",
								"parts": [],
								"string": "",
								"depth": 0,
								"idName": "",
								"isSimple": false,
								"stringModeValue": ""
							},
							"params": [],
							"eligibleHelper": false,
							"isHelper": false
						},
						"program": {
							"firstLine": 1,
							"firstColumn": 0,
							"lastColumn": 28,
							"lastLine": 1,
							"type": "program",
							"statements": [
								{
									"firstLine": 1,
									"firstColumn": 9,
									"lastColumn": 17,
									"lastLine": 1,
									"type": "mustache",
									"strip": {
										"left": false,
										"right": false
									},
									"escaped": true,
									"sexpr": {
										"firstLine": 1,
										"firstColumn": 11,
										"lastColumn": 15,
										"lastLine": 1,
										"type": "sexpr",
										"id": {
											"firstLine": 1,
											"firstColumn": 11,
											"lastColumn": 15,
											"lastLine": 1,
											"type": "ID",
											"original": "name",
											"parts": [
												"name"
											],
											"string": "name",
											"depth": 0,
											"idName": "name",
											"isSimple": true,
											"stringModeValue": "name"
										},
										"params": [],
										"isHelper": false,
										"eligibleHelper": true
									},
									"id": {
										"firstLine": 1,
										"firstColumn": 11,
										"lastColumn": 15,
										"lastLine": 1,
										"type": "ID",
										"original": "name",
										"parts": [
											"name"
										],
										"string": "name",
										"depth": 0,
										"idName": "name",
										"isSimple": true,
										"stringModeValue": "name"
									},
									"params": [],
									"eligibleHelper": true,
									"isHelper": false
								},
								{
									"firstLine": 1,
									"firstColumn": 17,
									"lastColumn": 19,
									"lastLine": 1,
									"type": "content",
									"string": " (",
									"original": " ("
								},
								{
									"firstLine": 1,
									"firstColumn": 19,
									"lastColumn": 26,
									"lastLine": 1,
									"type": "mustache",
									"strip": {
										"left": false,
										"right": false
									},
									"escaped": true,
									"sexpr": {
										"firstLine": 1,
										"firstColumn": 21,
										"lastColumn": 24,
										"lastLine": 1,
										"type": "sexpr",
										"id": {
											"firstLine": 1,
											"firstColumn": 21,
											"lastColumn": 24,
											"lastLine": 1,
											"type": "ID",
											"original": "url",
											"parts": [
												"url"
											],
											"string": "url",
											"depth": 0,
											"idName": "url",
											"isSimple": true,
											"stringModeValue": "url"
										},
										"params": [],
										"isHelper": false,
										"eligibleHelper": true
									},
									"id": {
										"firstLine": 1,
										"firstColumn": 21,
										"lastColumn": 24,
										"lastLine": 1,
										"type": "ID",
										"original": "url",
										"parts": [
											"url"
										],
										"string": "url",
										"depth": 0,
										"idName": "url",
										"isSimple": true,
										"stringModeValue": "url"
									},
									"params": [],
									"eligibleHelper": true,
									"isHelper": false
								},
								{
									"firstLine": 1,
									"firstColumn": 26,
									"lastColumn": 28,
									"lastLine": 1,
									"type": "content",
									"string": ") ",
									"original": ") "
								}
							],
							"strip": {}
						},
						"strip": {
							"left": false,
							"right": false,
							"closeStandalone": false
						}
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushContext",
						"args": []
					},
					{
						"opcode": "resolvePossibleLambda",
						"args": []
					},
					{
						"opcode": "pushProgram",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "emptyHash",
						"args": []
					},
					{
						"opcode": "blockValue",
						"args": [
							"this"
						]
					},
					{
						"opcode": "append",
						"args": []
					}
				],
				"children": [
					{
						"opcodes": [
							{
								"opcode": "getContext",
								"args": [
									0
								]
							},
							{
								"opcode": "pushProgram",
								"args": [
									null
								]
							},
							{
								"opcode": "pushProgram",
								"args": [
									null
								]
							},
							{
								"opcode": "getContext",
								"args": [
									0
								]
							},
							{
								"opcode": "lookupOnContext",
								"args": [
									[
										"name"
									],
									null,
									null
								]
							},
							{
								"opcode": "invokeAmbiguous",
								"args": [
									"name",
									false
								]
							},
							{
								"opcode": "appendEscaped",
								"args": []
							},
							{
								"opcode": "appendContent",
								"args": [
									" ("
								]
							},
							{
								"opcode": "getContext",
								"args": [
									0
								]
							},
							{
								"opcode": "pushProgram",
								"args": [
									null
								]
							},
							{
								"opcode": "pushProgram",
								"args": [
									null
								]
							},
							{
								"opcode": "getContext",
								"args": [
									0
								]
							},
							{
								"opcode": "lookupOnContext",
								"args": [
									[
										"url"
									],
									null,
									null
								]
							},
							{
								"opcode": "invokeAmbiguous",
								"args": [
									"url",
									false
								]
							},
							{
								"opcode": "appendEscaped",
								"args": []
							},
							{
								"opcode": "appendContent",
								"args": [
									") "
								]
							}
						],
						"children": [],
						"depths": {
							"list": []
						},
						"options": {
							"data": true,
							"knownHelpers": {
								"helperMissing": true,
								"blockHelperMissing": true,
								"each": true,
								"if": true,
								"unless": true,
								"with": true,
								"log": true,
								"lookup": true
							}
						},
						"isSimple": false
					}
				],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"guid": 1,
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "partials with undefined context",
		"template": "Dudes: {{>dude dudes}}",
		"data": {},
		"partials": {
			"dude": "{{foo}} Empty"
		},
		"expected": "Dudes:  Empty",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 22,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 22,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 14,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "dude"
					},
					"context": {
						"firstLine": 1,
						"firstColumn": 15,
						"lastColumn": 20,
						"lastLine": 1,
						"type": "ID",
						"original": "dudes",
						"parts": [
							"dudes"
						],
						"string": "dudes",
						"depth": 0,
						"idName": "dudes",
						"isSimple": true,
						"stringModeValue": "dudes"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokePartial",
					"args": [
						"dude",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 13,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 7,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 5,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 5,
								"lastLine": 1,
								"type": "ID",
								"original": "foo",
								"parts": [
									"foo"
								],
								"string": "foo",
								"depth": 0,
								"idName": "foo",
								"isSimple": true,
								"stringModeValue": "foo"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 5,
							"lastLine": 1,
							"type": "ID",
							"original": "foo",
							"parts": [
								"foo"
							],
							"string": "foo",
							"depth": 0,
							"idName": "foo",
							"isSimple": true,
							"stringModeValue": "foo"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "content",
						"string": " Empty",
						"original": " Empty"
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"foo"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"foo",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							" Empty"
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": false
			}
		}
	},
	{
		"description": "partials",
		"it": "partials with parameters",
		"template": "Dudes: {{#dudes}}{{> dude others=..}}{{/dudes}}",
		"data": {
			"foo": "bar",
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{others.foo}}{{name}} ({{url}}) "
		},
		"expected": "Dudes: barYehuda (http://yehuda) barAlan (http://alan) ",
		"message": "Basic partials output based on current context.",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 47,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 47,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 10,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "dudes",
								"parts": [
									"dudes"
								],
								"string": "dudes",
								"depth": 0,
								"idName": "dudes",
								"isSimple": true,
								"stringModeValue": "dudes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "dudes",
							"parts": [
								"dudes"
							],
							"string": "dudes",
							"depth": 0,
							"idName": "dudes",
							"isSimple": true,
							"stringModeValue": "dudes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 37,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 17,
								"lastColumn": 37,
								"lastLine": 1,
								"type": "partial",
								"partialName": {
									"firstLine": 1,
									"firstColumn": 21,
									"lastColumn": 25,
									"lastLine": 1,
									"type": "PARTIAL_NAME",
									"name": "dude"
								},
								"hash": {
									"firstLine": 1,
									"firstColumn": 26,
									"lastColumn": 35,
									"lastLine": 1,
									"type": "hash",
									"pairs": [
										[
											"others",
											{
												"firstLine": 1,
												"firstColumn": 33,
												"lastColumn": 35,
												"lastLine": 1,
												"type": "ID",
												"original": "..",
												"parts": [],
												"string": "",
												"depth": 1,
												"idName": "../",
												"isSimple": false,
												"stringModeValue": ""
											}
										]
									]
								},
								"strip": {
									"left": false,
									"right": false,
									"inlineStandalone": true
								}
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"dudes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "pushHash",
							"args": []
						},
						{
							"opcode": "getContext",
							"args": [
								1
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "assignToHash",
							"args": [
								"others"
							]
						},
						{
							"opcode": "popHash",
							"args": []
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "invokePartial",
							"args": [
								"dude",
								""
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"1": true,
						"list": [
							1
						]
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"usePartial": true,
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 33,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 14,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 12,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 12,
								"lastLine": 1,
								"type": "ID",
								"original": "others.foo",
								"parts": [
									"others",
									"foo"
								],
								"string": "others.foo",
								"depth": 0,
								"idName": "others.foo",
								"isSimple": false,
								"stringModeValue": "others.foo"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": false
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 12,
							"lastLine": 1,
							"type": "ID",
							"original": "others.foo",
							"parts": [
								"others",
								"foo"
							],
							"string": "others.foo",
							"depth": 0,
							"idName": "others.foo",
							"isSimple": false,
							"stringModeValue": "others.foo"
						},
						"params": [],
						"eligibleHelper": false,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 14,
						"lastColumn": 22,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 16,
							"lastColumn": 20,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 16,
								"lastColumn": 20,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 16,
							"lastColumn": 20,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 22,
						"lastColumn": 24,
						"lastLine": 1,
						"type": "content",
						"string": " (",
						"original": " ("
					},
					{
						"firstLine": 1,
						"firstColumn": 24,
						"lastColumn": 31,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 26,
							"lastColumn": 29,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 26,
								"lastColumn": 29,
								"lastLine": 1,
								"type": "ID",
								"original": "url",
								"parts": [
									"url"
								],
								"string": "url",
								"depth": 0,
								"idName": "url",
								"isSimple": true,
								"stringModeValue": "url"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 26,
							"lastColumn": 29,
							"lastLine": 1,
							"type": "ID",
							"original": "url",
							"parts": [
								"url"
							],
							"string": "url",
							"depth": 0,
							"idName": "url",
							"isSimple": true,
							"stringModeValue": "url"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 31,
						"lastColumn": 33,
						"lastLine": 1,
						"type": "content",
						"string": ") ",
						"original": ") "
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"others",
								"foo"
							],
							null,
							null
						]
					},
					{
						"opcode": "resolvePossibleLambda",
						"args": []
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							" ("
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"url"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"url",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							") "
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": false
			}
		}
	},
	{
		"description": "partials",
		"it": "partial in a partial",
		"template": "Dudes: {{#dudes}}{{>dude}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} {{> url}} ",
			"url": "<a href='{{url}}'>{{url}}</a>"
		},
		"expected": "Dudes: Yehuda <a href='http://yehuda'>http://yehuda</a> Alan <a href='http://alan'>http://alan</a> ",
		"message": "Partials are rendered inside of other partials",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 36,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 36,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 10,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "dudes",
								"parts": [
									"dudes"
								],
								"string": "dudes",
								"depth": 0,
								"idName": "dudes",
								"isSimple": true,
								"stringModeValue": "dudes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "dudes",
							"parts": [
								"dudes"
							],
							"string": "dudes",
							"depth": 0,
							"idName": "dudes",
							"isSimple": true,
							"stringModeValue": "dudes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 26,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 17,
								"lastColumn": 26,
								"lastLine": 1,
								"type": "partial",
								"partialName": {
									"firstLine": 1,
									"firstColumn": 20,
									"lastColumn": 24,
									"lastLine": 1,
									"type": "PARTIAL_NAME",
									"name": "dude"
								},
								"strip": {
									"left": false,
									"right": false,
									"inlineStandalone": true
								}
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"dudes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "push",
							"args": [
								"undefined"
							]
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "invokePartial",
							"args": [
								"dude",
								""
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"usePartial": true,
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 19,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "content",
						"string": " ",
						"original": " "
					},
					{
						"firstLine": 1,
						"firstColumn": 9,
						"lastColumn": 18,
						"lastLine": 1,
						"type": "partial",
						"partialName": {
							"firstLine": 1,
							"firstColumn": 13,
							"lastColumn": 16,
							"lastLine": 1,
							"type": "PARTIAL_NAME",
							"name": "url"
						},
						"strip": {
							"left": false,
							"right": false,
							"inlineStandalone": true
						}
					},
					{
						"firstLine": 1,
						"firstColumn": 18,
						"lastColumn": 19,
						"lastLine": 1,
						"type": "content",
						"string": " ",
						"original": " "
					}
				],
				"strip": {}
			},
			"url": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 29,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "content",
						"string": "<a href='",
						"original": "<a href='"
					},
					{
						"firstLine": 1,
						"firstColumn": 9,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 11,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 11,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "url",
								"parts": [
									"url"
								],
								"string": "url",
								"depth": 0,
								"idName": "url",
								"isSimple": true,
								"stringModeValue": "url"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 11,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "url",
							"parts": [
								"url"
							],
							"string": "url",
							"depth": 0,
							"idName": "url",
							"isSimple": true,
							"stringModeValue": "url"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 16,
						"lastColumn": 18,
						"lastLine": 1,
						"type": "content",
						"string": "'>",
						"original": "'>"
					},
					{
						"firstLine": 1,
						"firstColumn": 18,
						"lastColumn": 25,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 20,
							"lastColumn": 23,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 20,
								"lastColumn": 23,
								"lastLine": 1,
								"type": "ID",
								"original": "url",
								"parts": [
									"url"
								],
								"string": "url",
								"depth": 0,
								"idName": "url",
								"isSimple": true,
								"stringModeValue": "url"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 20,
							"lastColumn": 23,
							"lastLine": 1,
							"type": "ID",
							"original": "url",
							"parts": [
								"url"
							],
							"string": "url",
							"depth": 0,
							"idName": "url",
							"isSimple": true,
							"stringModeValue": "url"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 25,
						"lastColumn": 29,
						"lastLine": 1,
						"type": "content",
						"string": "</a>",
						"original": "</a>"
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							" "
						]
					},
					{
						"opcode": "push",
						"args": [
							"undefined"
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushContext",
						"args": []
					},
					{
						"opcode": "invokePartial",
						"args": [
							"url",
							""
						]
					},
					{
						"opcode": "append",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							" "
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"usePartial": true,
				"isSimple": false
			},
			"url": {
				"opcodes": [
					{
						"opcode": "appendContent",
						"args": [
							"<a href='"
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"url"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"url",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							"'>"
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"url"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"url",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							"</a>"
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": false
			}
		}
	},
	{
		"description": "partials",
		"it": "rendering undefined partial throws an exception",
		"template": "{{> whatever}}",
		"exception": true,
		"message": "The partial whatever could not be found",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 14,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 14,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 4,
						"lastColumn": 12,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "whatever"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"whatever",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": true
		}
	},
	{
		"description": "partials",
		"it": "rendering template partial in vm mode throws an exception",
		"template": "{{> whatever}}",
		"exception": true,
		"message": "The partial whatever could not be found",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 14,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 14,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 4,
						"lastColumn": 12,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "whatever"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"whatever",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": true
		}
	},
	{
		"description": "partials",
		"it": "GH-14: a partial preceding a selector",
		"template": "Dudes: {{>dude}} {{another_dude}}",
		"data": {
			"name": "Jeepers",
			"another_dude": "Creepers"
		},
		"partials": {
			"dude": "{{name}}"
		},
		"expected": "Dudes: Jeepers Creepers",
		"message": "Regular selectors can follow a partial",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 33,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 16,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 14,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "dude"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				},
				{
					"firstLine": 1,
					"firstColumn": 16,
					"lastColumn": 17,
					"lastLine": 1,
					"type": "content",
					"string": " ",
					"original": " "
				},
				{
					"firstLine": 1,
					"firstColumn": 17,
					"lastColumn": 33,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 19,
						"lastColumn": 31,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 19,
							"lastColumn": 31,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 19,
						"lastColumn": 31,
						"lastLine": 1,
						"type": "ID",
						"original": "another_dude",
						"parts": [
							"another_dude"
						],
						"string": "another_dude",
						"depth": 0,
						"idName": "another_dude",
						"isSimple": true,
						"stringModeValue": "another_dude"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"dude",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"another_dude"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"another_dude",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "Partials with slash paths",
		"template": "Dudes: {{> shared/dude}}",
		"data": {
			"name": "Jeepers",
			"another_dude": "Creepers"
		},
		"partials": {
			"shared/dude": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal paths",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 24,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 24,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 11,
						"lastColumn": 22,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "shared/dude"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"shared/dude",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "Partials with slash and point paths",
		"template": "Dudes: {{> shared/dude.thing}}",
		"data": {
			"name": "Jeepers",
			"another_dude": "Creepers"
		},
		"partials": {
			"shared/dude.thing": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal with points in paths",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 30,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 30,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 11,
						"lastColumn": 28,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "shared/dude.thing"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"shared/dude.thing",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"shared/dude.thing": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"shared/dude.thing": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "Global Partials",
		"template": "Dudes: {{> shared/dude}} {{> global_test}}",
		"data": {
			"name": "Jeepers",
			"another_dude": "Creepers"
		},
		"partials": {
			"shared/dude": "{{name}}"
		},
		"expected": "Dudes: Jeepers Creepers",
		"message": "Partials can use globals or passed",
		"globalPartials": {
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 42,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 24,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 11,
						"lastColumn": 22,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "shared/dude"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				},
				{
					"firstLine": 1,
					"firstColumn": 24,
					"lastColumn": 25,
					"lastLine": 1,
					"type": "content",
					"string": " ",
					"original": " "
				},
				{
					"firstLine": 1,
					"firstColumn": 25,
					"lastColumn": 42,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 29,
						"lastColumn": 40,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "global_test"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"shared/dude",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"global_test",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		},
		"globalPartialAsts": {
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "Multiple partial registration",
		"template": "Dudes: {{> shared/dude}} {{> global_test}}",
		"data": {
			"name": "Jeepers",
			"another_dude": "Creepers"
		},
		"expected": "Dudes: Jeepers Creepers",
		"message": "Partials can use globals or passed",
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 42,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 24,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 11,
						"lastColumn": 22,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "shared/dude"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				},
				{
					"firstLine": 1,
					"firstColumn": 24,
					"lastColumn": 25,
					"lastLine": 1,
					"type": "content",
					"string": " ",
					"original": " "
				},
				{
					"firstLine": 1,
					"firstColumn": 25,
					"lastColumn": 42,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 29,
						"lastColumn": 40,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "global_test"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"shared/dude",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						" "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"global_test",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "Partials with integer path",
		"template": "Dudes: {{> 404}}",
		"data": {
			"name": "Jeepers",
			"another_dude": "Creepers"
		},
		"partials": {
			"404": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal paths",
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 16,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 16,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"type": "PARTIAL_NAME",
						"name": "404"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"404",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"404": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"404": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "Partials with complex path",
		"template": "Dudes: {{> 404/asdf?.bar}}",
		"data": {
			"name": "Jeepers",
			"another_dude": "Creepers"
		},
		"partials": {
			"404/asdf?.bar": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal paths",
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 26,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 26,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 11,
						"lastColumn": 24,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "404/asdf?.bar"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"404/asdf?.bar",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"404/asdf?.bar": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"404/asdf?.bar": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "Partials with escaped",
		"template": "Dudes: {{> [+404/asdf?.bar]}}",
		"data": {
			"name": "Jeepers",
			"another_dude": "Creepers"
		},
		"partials": {
			"+404/asdf?.bar": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal paths",
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 29,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 29,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 11,
						"lastColumn": 27,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "+404/asdf?.bar"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"+404/asdf?.bar",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"+404/asdf?.bar": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"+404/asdf?.bar": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "Partials with string",
		"template": "Dudes: {{> \"+404/asdf?.bar\"}}",
		"data": {
			"name": "Jeepers",
			"another_dude": "Creepers"
		},
		"partials": {
			"+404/asdf?.bar": "{{name}}"
		},
		"expected": "Dudes: Jeepers",
		"message": "Partials can use literal paths",
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 29,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 29,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 11,
						"lastColumn": 27,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "+404/asdf?.bar"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"+404/asdf?.bar",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"+404/asdf?.bar": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"+404/asdf?.bar": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "should handle empty partial",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": ""
		},
		"expected": "Dudes: ",
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 37,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 37,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 10,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "dudes",
								"parts": [
									"dudes"
								],
								"string": "dudes",
								"depth": 0,
								"idName": "dudes",
								"isSimple": true,
								"stringModeValue": "dudes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "dudes",
							"parts": [
								"dudes"
							],
							"string": "dudes",
							"depth": 0,
							"idName": "dudes",
							"isSimple": true,
							"stringModeValue": "dudes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 27,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 17,
								"lastColumn": 27,
								"lastLine": 1,
								"type": "partial",
								"partialName": {
									"firstLine": 1,
									"firstColumn": 21,
									"lastColumn": 25,
									"lastLine": 1,
									"type": "PARTIAL_NAME",
									"name": "dude"
								},
								"strip": {
									"left": false,
									"right": false,
									"inlineStandalone": true
								}
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"dudes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "push",
							"args": [
								"undefined"
							]
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "invokePartial",
							"args": [
								"dude",
								""
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"usePartial": true,
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 0,
				"lastLine": 1,
				"type": "program",
				"statements": [],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": false
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "throw on missing partial",
		"template": "{{> dude}}",
		"data": {},
		"exception": true,
		"partials": {
			"dude": "fail"
		},
		"expected": "",
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 10,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 10,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 4,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "dude"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"dude",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": true
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 4,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 4,
						"lastLine": 1,
						"type": "content",
						"string": "fail",
						"original": "fail"
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "appendContent",
						"args": [
							"fail"
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "partials",
		"it": "throw on missing partial",
		"template": "{{> whatever}}",
		"exception": true,
		"message": "/The partial dude could not be compiled/",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 14,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 14,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 4,
						"lastColumn": 12,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "whatever"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"whatever",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": true
		}
	},
	{
		"description": "standalone partials",
		"it": "indented partials",
		"template": "Dudes:\n{{#dudes}}\n  {{>dude}}\n{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}}\n"
		},
		"expected": "Dudes:\n  Yehuda\n  Alan\n",
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 10,
			"lastLine": 4,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 0,
					"lastLine": 2,
					"type": "content",
					"string": "Dudes:\n",
					"original": "Dudes:\n",
					"leftStripped": false
				},
				{
					"firstLine": 2,
					"firstColumn": 0,
					"lastColumn": 10,
					"lastLine": 4,
					"type": "block",
					"mustache": {
						"firstLine": 2,
						"firstColumn": 0,
						"lastColumn": 10,
						"lastLine": 2,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 2,
							"firstColumn": 3,
							"lastColumn": 8,
							"lastLine": 2,
							"type": "sexpr",
							"id": {
								"firstLine": 2,
								"firstColumn": 3,
								"lastColumn": 8,
								"lastLine": 2,
								"type": "ID",
								"original": "dudes",
								"parts": [
									"dudes"
								],
								"string": "dudes",
								"depth": 0,
								"idName": "dudes",
								"isSimple": true,
								"stringModeValue": "dudes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 2,
							"firstColumn": 3,
							"lastColumn": 8,
							"lastLine": 2,
							"type": "ID",
							"original": "dudes",
							"parts": [
								"dudes"
							],
							"string": "dudes",
							"depth": 0,
							"idName": "dudes",
							"isSimple": true,
							"stringModeValue": "dudes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 2,
						"firstColumn": 0,
						"lastColumn": 0,
						"lastLine": 4,
						"type": "program",
						"statements": [
							{
								"firstLine": 2,
								"firstColumn": 10,
								"lastColumn": 2,
								"lastLine": 3,
								"type": "content",
								"string": "",
								"original": "\n  ",
								"leftStripped": true,
								"rightStripped": true
							},
							{
								"firstLine": 3,
								"firstColumn": 2,
								"lastColumn": 11,
								"lastLine": 3,
								"type": "partial",
								"partialName": {
									"firstLine": 3,
									"firstColumn": 5,
									"lastColumn": 9,
									"lastLine": 3,
									"type": "PARTIAL_NAME",
									"name": "dude"
								},
								"strip": {
									"left": false,
									"right": false,
									"inlineStandalone": true
								},
								"indent": "  "
							},
							{
								"firstLine": 3,
								"firstColumn": 11,
								"lastColumn": 0,
								"lastLine": 4,
								"type": "content",
								"string": "",
								"original": "\n",
								"rightStripped": true,
								"leftStripped": false
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false,
						"openStandalone": true,
						"closeStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes:\n"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"dudes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "push",
							"args": [
								"undefined"
							]
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "invokePartial",
							"args": [
								"dude",
								"  "
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"usePartial": true,
					"isSimple": false
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 0,
				"lastLine": 2,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 0,
						"lastLine": 2,
						"type": "content",
						"string": "\n",
						"original": "\n"
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							"\n"
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": false
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "standalone partials",
		"it": "nested indented partials",
		"template": "Dudes:\n{{#dudes}}\n  {{>dude}}\n{{/dudes}}",
		"data": {
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}}\n {{> url}}",
			"url": "{{url}}!\n"
		},
		"expected": "Dudes:\n  Yehuda\n   http://yehuda!\n  Alan\n   http://alan!\n",
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 10,
			"lastLine": 4,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 0,
					"lastLine": 2,
					"type": "content",
					"string": "Dudes:\n",
					"original": "Dudes:\n",
					"leftStripped": false
				},
				{
					"firstLine": 2,
					"firstColumn": 0,
					"lastColumn": 10,
					"lastLine": 4,
					"type": "block",
					"mustache": {
						"firstLine": 2,
						"firstColumn": 0,
						"lastColumn": 10,
						"lastLine": 2,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 2,
							"firstColumn": 3,
							"lastColumn": 8,
							"lastLine": 2,
							"type": "sexpr",
							"id": {
								"firstLine": 2,
								"firstColumn": 3,
								"lastColumn": 8,
								"lastLine": 2,
								"type": "ID",
								"original": "dudes",
								"parts": [
									"dudes"
								],
								"string": "dudes",
								"depth": 0,
								"idName": "dudes",
								"isSimple": true,
								"stringModeValue": "dudes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 2,
							"firstColumn": 3,
							"lastColumn": 8,
							"lastLine": 2,
							"type": "ID",
							"original": "dudes",
							"parts": [
								"dudes"
							],
							"string": "dudes",
							"depth": 0,
							"idName": "dudes",
							"isSimple": true,
							"stringModeValue": "dudes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 2,
						"firstColumn": 0,
						"lastColumn": 0,
						"lastLine": 4,
						"type": "program",
						"statements": [
							{
								"firstLine": 2,
								"firstColumn": 10,
								"lastColumn": 2,
								"lastLine": 3,
								"type": "content",
								"string": "",
								"original": "\n  ",
								"leftStripped": true,
								"rightStripped": true
							},
							{
								"firstLine": 3,
								"firstColumn": 2,
								"lastColumn": 11,
								"lastLine": 3,
								"type": "partial",
								"partialName": {
									"firstLine": 3,
									"firstColumn": 5,
									"lastColumn": 9,
									"lastLine": 3,
									"type": "PARTIAL_NAME",
									"name": "dude"
								},
								"strip": {
									"left": false,
									"right": false,
									"inlineStandalone": true
								},
								"indent": "  "
							},
							{
								"firstLine": 3,
								"firstColumn": 11,
								"lastColumn": 0,
								"lastLine": 4,
								"type": "content",
								"string": "",
								"original": "\n",
								"rightStripped": true,
								"leftStripped": false
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false,
						"openStandalone": true,
						"closeStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes:\n"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"dudes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "push",
							"args": [
								"undefined"
							]
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "invokePartial",
							"args": [
								"dude",
								"  "
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"usePartial": true,
					"isSimple": false
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 10,
				"lastLine": 2,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 1,
						"lastLine": 2,
						"type": "content",
						"string": "\n",
						"original": "\n ",
						"leftStripped": true
					},
					{
						"firstLine": 2,
						"firstColumn": 1,
						"lastColumn": 10,
						"lastLine": 2,
						"type": "partial",
						"partialName": {
							"firstLine": 2,
							"firstColumn": 5,
							"lastColumn": 8,
							"lastLine": 2,
							"type": "PARTIAL_NAME",
							"name": "url"
						},
						"strip": {
							"left": false,
							"right": false,
							"inlineStandalone": true
						},
						"indent": " "
					}
				],
				"strip": {}
			},
			"url": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 0,
				"lastLine": 2,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 7,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 5,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 5,
								"lastLine": 1,
								"type": "ID",
								"original": "url",
								"parts": [
									"url"
								],
								"string": "url",
								"depth": 0,
								"idName": "url",
								"isSimple": true,
								"stringModeValue": "url"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 5,
							"lastLine": 1,
							"type": "ID",
							"original": "url",
							"parts": [
								"url"
							],
							"string": "url",
							"depth": 0,
							"idName": "url",
							"isSimple": true,
							"stringModeValue": "url"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 0,
						"lastLine": 2,
						"type": "content",
						"string": "!\n",
						"original": "!\n"
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							"\n"
						]
					},
					{
						"opcode": "push",
						"args": [
							"undefined"
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushContext",
						"args": []
					},
					{
						"opcode": "invokePartial",
						"args": [
							"url",
							" "
						]
					},
					{
						"opcode": "append",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"usePartial": true,
				"isSimple": false
			},
			"url": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"url"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"url",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							"!\n"
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": false
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"data": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "compat mode",
		"it": "partials can access parents",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"root": "yes",
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} ({{url}}) {{root}} "
		},
		"expected": "Dudes: Yehuda (http://yehuda) yes Alan (http://alan) yes ",
		"compat": true,
		"compileOptions": {
			"compat": true,
			"data": true,
			"useDepths": true,
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 37,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 37,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 10,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "dudes",
								"parts": [
									"dudes"
								],
								"string": "dudes",
								"depth": 0,
								"idName": "dudes",
								"isSimple": true,
								"stringModeValue": "dudes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "dudes",
							"parts": [
								"dudes"
							],
							"string": "dudes",
							"depth": 0,
							"idName": "dudes",
							"isSimple": true,
							"stringModeValue": "dudes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 27,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 17,
								"lastColumn": 27,
								"lastLine": 1,
								"type": "partial",
								"partialName": {
									"firstLine": 1,
									"firstColumn": 21,
									"lastColumn": 25,
									"lastLine": 1,
									"type": "PARTIAL_NAME",
									"name": "dude"
								},
								"strip": {
									"left": false,
									"right": false,
									"inlineStandalone": true
								}
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"dudes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "push",
							"args": [
								"undefined"
							]
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "invokePartial",
							"args": [
								"dude",
								""
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"compat": true,
						"data": true,
						"useDepths": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"usePartial": true,
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"compat": true,
				"data": true,
				"useDepths": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 28,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 10,
						"lastLine": 1,
						"type": "content",
						"string": " (",
						"original": " ("
					},
					{
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 12,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 12,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "url",
								"parts": [
									"url"
								],
								"string": "url",
								"depth": 0,
								"idName": "url",
								"isSimple": true,
								"stringModeValue": "url"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 12,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "url",
							"parts": [
								"url"
							],
							"string": "url",
							"depth": 0,
							"idName": "url",
							"isSimple": true,
							"stringModeValue": "url"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 17,
						"lastColumn": 19,
						"lastLine": 1,
						"type": "content",
						"string": ") ",
						"original": ") "
					},
					{
						"firstLine": 1,
						"firstColumn": 19,
						"lastColumn": 27,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 21,
							"lastColumn": 25,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 21,
								"lastColumn": 25,
								"lastLine": 1,
								"type": "ID",
								"original": "root",
								"parts": [
									"root"
								],
								"string": "root",
								"depth": 0,
								"idName": "root",
								"isSimple": true,
								"stringModeValue": "root"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 21,
							"lastColumn": 25,
							"lastLine": 1,
							"type": "ID",
							"original": "root",
							"parts": [
								"root"
							],
							"string": "root",
							"depth": 0,
							"idName": "root",
							"isSimple": true,
							"stringModeValue": "root"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 27,
						"lastColumn": 28,
						"lastLine": 1,
						"type": "content",
						"string": " ",
						"original": " "
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							" ("
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"url"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"url",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							") "
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"root"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"root",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							" "
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"compat": true,
					"data": true,
					"useDepths": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": false
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"compat": true,
					"data": true,
					"useDepths": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"compat": true,
					"data": true,
					"useDepths": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "compat mode",
		"it": "partials can access parents without data",
		"template": "Dudes: {{#dudes}}{{> dude}}{{/dudes}}",
		"data": {
			"root": "yes",
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{name}} ({{url}}) {{root}} "
		},
		"expected": "Dudes: Yehuda (http://yehuda) yes Alan (http://alan) yes ",
		"compat": true,
		"compileOptions": {
			"compat": true,
			"data": true,
			"useDepths": true,
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 37,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 37,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 10,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "dudes",
								"parts": [
									"dudes"
								],
								"string": "dudes",
								"depth": 0,
								"idName": "dudes",
								"isSimple": true,
								"stringModeValue": "dudes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "dudes",
							"parts": [
								"dudes"
							],
							"string": "dudes",
							"depth": 0,
							"idName": "dudes",
							"isSimple": true,
							"stringModeValue": "dudes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 27,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 17,
								"lastColumn": 27,
								"lastLine": 1,
								"type": "partial",
								"partialName": {
									"firstLine": 1,
									"firstColumn": 21,
									"lastColumn": 25,
									"lastLine": 1,
									"type": "PARTIAL_NAME",
									"name": "dude"
								},
								"strip": {
									"left": false,
									"right": false,
									"inlineStandalone": true
								}
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"dudes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"dudes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "push",
							"args": [
								"undefined"
							]
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "invokePartial",
							"args": [
								"dude",
								""
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"compat": true,
						"data": true,
						"useDepths": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"usePartial": true,
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"compat": true,
				"data": true,
				"useDepths": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 28,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 10,
						"lastLine": 1,
						"type": "content",
						"string": " (",
						"original": " ("
					},
					{
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 12,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 12,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "url",
								"parts": [
									"url"
								],
								"string": "url",
								"depth": 0,
								"idName": "url",
								"isSimple": true,
								"stringModeValue": "url"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 12,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "url",
							"parts": [
								"url"
							],
							"string": "url",
							"depth": 0,
							"idName": "url",
							"isSimple": true,
							"stringModeValue": "url"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 17,
						"lastColumn": 19,
						"lastLine": 1,
						"type": "content",
						"string": ") ",
						"original": ") "
					},
					{
						"firstLine": 1,
						"firstColumn": 19,
						"lastColumn": 27,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 21,
							"lastColumn": 25,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 21,
								"lastColumn": 25,
								"lastLine": 1,
								"type": "ID",
								"original": "root",
								"parts": [
									"root"
								],
								"string": "root",
								"depth": 0,
								"idName": "root",
								"isSimple": true,
								"stringModeValue": "root"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 21,
							"lastColumn": 25,
							"lastLine": 1,
							"type": "ID",
							"original": "root",
							"parts": [
								"root"
							],
							"string": "root",
							"depth": 0,
							"idName": "root",
							"isSimple": true,
							"stringModeValue": "root"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					{
						"firstLine": 1,
						"firstColumn": 27,
						"lastColumn": 28,
						"lastLine": 1,
						"type": "content",
						"string": " ",
						"original": " "
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							" ("
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"url"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"url",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							") "
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"root"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"root",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					},
					{
						"opcode": "appendContent",
						"args": [
							" "
						]
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"compat": true,
					"data": true,
					"useDepths": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": false
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"compat": true,
					"data": true,
					"useDepths": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"compat": true,
					"data": true,
					"useDepths": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	},
	{
		"description": "compat mode",
		"it": "partials inherit compat",
		"template": "Dudes: {{> dude}}",
		"data": {
			"root": "yes",
			"dudes": [
				{
					"name": "Yehuda",
					"url": "http://yehuda"
				},
				{
					"name": "Alan",
					"url": "http://alan"
				}
			]
		},
		"partials": {
			"dude": "{{#dudes}}{{name}} ({{url}}) {{root}} {{/dudes}}"
		},
		"expected": "Dudes: Yehuda (http://yehuda) yes Alan (http://alan) yes ",
		"compat": true,
		"compileOptions": {
			"compat": true,
			"data": true,
			"useDepths": true,
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"globalPartials": {
			"shared/dude": "{{name}}",
			"global_test": "{{another_dude}}"
		},
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 17,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "content",
					"string": "Dudes: ",
					"original": "Dudes: "
				},
				{
					"firstLine": 1,
					"firstColumn": 7,
					"lastColumn": 17,
					"lastLine": 1,
					"type": "partial",
					"partialName": {
						"firstLine": 1,
						"firstColumn": 11,
						"lastColumn": 15,
						"lastLine": 1,
						"type": "PARTIAL_NAME",
						"name": "dude"
					},
					"strip": {
						"left": false,
						"right": false,
						"inlineStandalone": true
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Dudes: "
					]
				},
				{
					"opcode": "push",
					"args": [
						"undefined"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "invokePartial",
					"args": [
						"dude",
						""
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"compat": true,
				"data": true,
				"useDepths": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"usePartial": true,
			"isSimple": false
		},
		"partialAsts": {
			"dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 48,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 48,
						"lastLine": 1,
						"type": "block",
						"mustache": {
							"firstLine": 1,
							"firstColumn": 0,
							"lastColumn": 10,
							"lastLine": 1,
							"type": "mustache",
							"strip": {
								"left": false,
								"right": false
							},
							"escaped": true,
							"sexpr": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 8,
								"lastLine": 1,
								"type": "sexpr",
								"id": {
									"firstLine": 1,
									"firstColumn": 3,
									"lastColumn": 8,
									"lastLine": 1,
									"type": "ID",
									"original": "dudes",
									"parts": [
										"dudes"
									],
									"string": "dudes",
									"depth": 0,
									"idName": "dudes",
									"isSimple": true,
									"stringModeValue": "dudes"
								},
								"params": [],
								"isHelper": false,
								"eligibleHelper": true
							},
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 8,
								"lastLine": 1,
								"type": "ID",
								"original": "dudes",
								"parts": [
									"dudes"
								],
								"string": "dudes",
								"depth": 0,
								"idName": "dudes",
								"isSimple": true,
								"stringModeValue": "dudes"
							},
							"params": [],
							"eligibleHelper": true,
							"isHelper": false
						},
						"program": {
							"firstLine": 1,
							"firstColumn": 0,
							"lastColumn": 38,
							"lastLine": 1,
							"type": "program",
							"statements": [
								{
									"firstLine": 1,
									"firstColumn": 10,
									"lastColumn": 18,
									"lastLine": 1,
									"type": "mustache",
									"strip": {
										"left": false,
										"right": false
									},
									"escaped": true,
									"sexpr": {
										"firstLine": 1,
										"firstColumn": 12,
										"lastColumn": 16,
										"lastLine": 1,
										"type": "sexpr",
										"id": {
											"firstLine": 1,
											"firstColumn": 12,
											"lastColumn": 16,
											"lastLine": 1,
											"type": "ID",
											"original": "name",
											"parts": [
												"name"
											],
											"string": "name",
											"depth": 0,
											"idName": "name",
											"isSimple": true,
											"stringModeValue": "name"
										},
										"params": [],
										"isHelper": false,
										"eligibleHelper": true
									},
									"id": {
										"firstLine": 1,
										"firstColumn": 12,
										"lastColumn": 16,
										"lastLine": 1,
										"type": "ID",
										"original": "name",
										"parts": [
											"name"
										],
										"string": "name",
										"depth": 0,
										"idName": "name",
										"isSimple": true,
										"stringModeValue": "name"
									},
									"params": [],
									"eligibleHelper": true,
									"isHelper": false
								},
								{
									"firstLine": 1,
									"firstColumn": 18,
									"lastColumn": 20,
									"lastLine": 1,
									"type": "content",
									"string": " (",
									"original": " ("
								},
								{
									"firstLine": 1,
									"firstColumn": 20,
									"lastColumn": 27,
									"lastLine": 1,
									"type": "mustache",
									"strip": {
										"left": false,
										"right": false
									},
									"escaped": true,
									"sexpr": {
										"firstLine": 1,
										"firstColumn": 22,
										"lastColumn": 25,
										"lastLine": 1,
										"type": "sexpr",
										"id": {
											"firstLine": 1,
											"firstColumn": 22,
											"lastColumn": 25,
											"lastLine": 1,
											"type": "ID",
											"original": "url",
											"parts": [
												"url"
											],
											"string": "url",
											"depth": 0,
											"idName": "url",
											"isSimple": true,
											"stringModeValue": "url"
										},
										"params": [],
										"isHelper": false,
										"eligibleHelper": true
									},
									"id": {
										"firstLine": 1,
										"firstColumn": 22,
										"lastColumn": 25,
										"lastLine": 1,
										"type": "ID",
										"original": "url",
										"parts": [
											"url"
										],
										"string": "url",
										"depth": 0,
										"idName": "url",
										"isSimple": true,
										"stringModeValue": "url"
									},
									"params": [],
									"eligibleHelper": true,
									"isHelper": false
								},
								{
									"firstLine": 1,
									"firstColumn": 27,
									"lastColumn": 29,
									"lastLine": 1,
									"type": "content",
									"string": ") ",
									"original": ") "
								},
								{
									"firstLine": 1,
									"firstColumn": 29,
									"lastColumn": 37,
									"lastLine": 1,
									"type": "mustache",
									"strip": {
										"left": false,
										"right": false
									},
									"escaped": true,
									"sexpr": {
										"firstLine": 1,
										"firstColumn": 31,
										"lastColumn": 35,
										"lastLine": 1,
										"type": "sexpr",
										"id": {
											"firstLine": 1,
											"firstColumn": 31,
											"lastColumn": 35,
											"lastLine": 1,
											"type": "ID",
											"original": "root",
											"parts": [
												"root"
											],
											"string": "root",
											"depth": 0,
											"idName": "root",
											"isSimple": true,
											"stringModeValue": "root"
										},
										"params": [],
										"isHelper": false,
										"eligibleHelper": true
									},
									"id": {
										"firstLine": 1,
										"firstColumn": 31,
										"lastColumn": 35,
										"lastLine": 1,
										"type": "ID",
										"original": "root",
										"parts": [
											"root"
										],
										"string": "root",
										"depth": 0,
										"idName": "root",
										"isSimple": true,
										"stringModeValue": "root"
									},
									"params": [],
									"eligibleHelper": true,
									"isHelper": false
								},
								{
									"firstLine": 1,
									"firstColumn": 37,
									"lastColumn": 38,
									"lastLine": 1,
									"type": "content",
									"string": " ",
									"original": " "
								}
							],
							"strip": {}
						},
						"strip": {
							"left": false,
							"right": false,
							"closeStandalone": false
						}
					}
				],
				"strip": {}
			}
		},
		"partialOpcodes": {
			"dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"dudes"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"dudes",
							true
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "emptyHash",
						"args": []
					},
					{
						"opcode": "ambiguousBlockValue",
						"args": []
					},
					{
						"opcode": "append",
						"args": []
					}
				],
				"children": [
					{
						"opcodes": [
							{
								"opcode": "getContext",
								"args": [
									0
								]
							},
							{
								"opcode": "pushProgram",
								"args": [
									null
								]
							},
							{
								"opcode": "pushProgram",
								"args": [
									null
								]
							},
							{
								"opcode": "getContext",
								"args": [
									0
								]
							},
							{
								"opcode": "lookupOnContext",
								"args": [
									[
										"name"
									],
									null,
									null
								]
							},
							{
								"opcode": "invokeAmbiguous",
								"args": [
									"name",
									false
								]
							},
							{
								"opcode": "appendEscaped",
								"args": []
							},
							{
								"opcode": "appendContent",
								"args": [
									" ("
								]
							},
							{
								"opcode": "getContext",
								"args": [
									0
								]
							},
							{
								"opcode": "pushProgram",
								"args": [
									null
								]
							},
							{
								"opcode": "pushProgram",
								"args": [
									null
								]
							},
							{
								"opcode": "getContext",
								"args": [
									0
								]
							},
							{
								"opcode": "lookupOnContext",
								"args": [
									[
										"url"
									],
									null,
									null
								]
							},
							{
								"opcode": "invokeAmbiguous",
								"args": [
									"url",
									false
								]
							},
							{
								"opcode": "appendEscaped",
								"args": []
							},
							{
								"opcode": "appendContent",
								"args": [
									") "
								]
							},
							{
								"opcode": "getContext",
								"args": [
									0
								]
							},
							{
								"opcode": "pushProgram",
								"args": [
									null
								]
							},
							{
								"opcode": "pushProgram",
								"args": [
									null
								]
							},
							{
								"opcode": "getContext",
								"args": [
									0
								]
							},
							{
								"opcode": "lookupOnContext",
								"args": [
									[
										"root"
									],
									null,
									null
								]
							},
							{
								"opcode": "invokeAmbiguous",
								"args": [
									"root",
									false
								]
							},
							{
								"opcode": "appendEscaped",
								"args": []
							},
							{
								"opcode": "appendContent",
								"args": [
									" "
								]
							}
						],
						"children": [],
						"depths": {
							"list": []
						},
						"options": {
							"compat": true,
							"data": true,
							"useDepths": true,
							"knownHelpers": {
								"helperMissing": true,
								"blockHelperMissing": true,
								"each": true,
								"if": true,
								"unless": true,
								"with": true,
								"log": true,
								"lookup": true
							}
						},
						"isSimple": false
					}
				],
				"depths": {
					"list": []
				},
				"options": {
					"compat": true,
					"data": true,
					"useDepths": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"guid": 1,
				"isSimple": true
			}
		},
		"globalPartialAsts": {
			"shared/dude": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 8,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 6,
								"lastLine": 1,
								"type": "ID",
								"original": "name",
								"parts": [
									"name"
								],
								"string": "name",
								"depth": 0,
								"idName": "name",
								"isSimple": true,
								"stringModeValue": "name"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 6,
							"lastLine": 1,
							"type": "ID",
							"original": "name",
							"parts": [
								"name"
							],
							"string": "name",
							"depth": 0,
							"idName": "name",
							"isSimple": true,
							"stringModeValue": "name"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			},
			"global_test": {
				"firstLine": 1,
				"firstColumn": 0,
				"lastColumn": 16,
				"lastLine": 1,
				"type": "program",
				"statements": [
					{
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 2,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "another_dude",
								"parts": [
									"another_dude"
								],
								"string": "another_dude",
								"depth": 0,
								"idName": "another_dude",
								"isSimple": true,
								"stringModeValue": "another_dude"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "another_dude",
							"parts": [
								"another_dude"
							],
							"string": "another_dude",
							"depth": 0,
							"idName": "another_dude",
							"isSimple": true,
							"stringModeValue": "another_dude"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					}
				],
				"strip": {}
			}
		},
		"globalPartialOpcodes": {
			"shared/dude": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"name"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"name",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"compat": true,
					"data": true,
					"useDepths": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			},
			"global_test": {
				"opcodes": [
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "pushProgram",
						"args": [
							null
						]
					},
					{
						"opcode": "getContext",
						"args": [
							0
						]
					},
					{
						"opcode": "lookupOnContext",
						"args": [
							[
								"another_dude"
							],
							null,
							null
						]
					},
					{
						"opcode": "invokeAmbiguous",
						"args": [
							"another_dude",
							false
						]
					},
					{
						"opcode": "appendEscaped",
						"args": []
					}
				],
				"children": [],
				"depths": {
					"list": []
				},
				"options": {
					"compat": true,
					"data": true,
					"useDepths": true,
					"knownHelpers": {
						"helperMissing": true,
						"blockHelperMissing": true,
						"each": true,
						"if": true,
						"unless": true,
						"with": true,
						"log": true,
						"lookup": true
					}
				},
				"isSimple": true
			}
		}
	}
]