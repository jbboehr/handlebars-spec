[
	{
		"description": "basic context",
		"it": "most basic",
		"template": "{{foo}}",
		"data": {
			"foo": "foo"
		},
		"expected": "foo",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 7,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 7,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 5,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 5,
							"lastLine": 1,
							"type": "ID",
							"original": "foo",
							"parts": [
								"foo"
							],
							"string": "foo",
							"depth": 0,
							"idName": "foo",
							"isSimple": true,
							"stringModeValue": "foo"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 5,
						"lastLine": 1,
						"type": "ID",
						"original": "foo",
						"parts": [
							"foo"
						],
						"string": "foo",
						"depth": 0,
						"idName": "foo",
						"isSimple": true,
						"stringModeValue": "foo"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"foo",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "escaping",
		"template": "\\{{foo}}",
		"data": {
			"foo": "food"
		},
		"expected": "{{foo}}",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 8,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 1,
					"lastColumn": 8,
					"lastLine": 1,
					"type": "content",
					"string": "{{foo}}",
					"original": "{{foo}}"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"{{foo}}"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "escaping",
		"template": "content \\{{foo}}",
		"data": {
			"foo": "food"
		},
		"expected": "content {{foo}}",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 16,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 9,
					"lastLine": 1,
					"type": "content",
					"string": "content ",
					"original": "content "
				},
				{
					"firstLine": 1,
					"firstColumn": 9,
					"lastColumn": 16,
					"lastLine": 1,
					"type": "content",
					"string": "{{foo}}",
					"original": "{{foo}}"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"content "
					]
				},
				{
					"opcode": "appendContent",
					"args": [
						"{{foo}}"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "escaping",
		"template": "\\\\{{foo}}",
		"data": {
			"foo": "food"
		},
		"expected": "\\food",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 9,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 2,
					"lastLine": 1,
					"type": "content",
					"string": "\\",
					"original": "\\"
				},
				{
					"firstLine": 1,
					"firstColumn": 2,
					"lastColumn": 9,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 4,
						"lastColumn": 7,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 4,
							"lastColumn": 7,
							"lastLine": 1,
							"type": "ID",
							"original": "foo",
							"parts": [
								"foo"
							],
							"string": "foo",
							"depth": 0,
							"idName": "foo",
							"isSimple": true,
							"stringModeValue": "foo"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 4,
						"lastColumn": 7,
						"lastLine": 1,
						"type": "ID",
						"original": "foo",
						"parts": [
							"foo"
						],
						"string": "foo",
						"depth": 0,
						"idName": "foo",
						"isSimple": true,
						"stringModeValue": "foo"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"\\"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"foo",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "escaping",
		"template": "content \\\\{{foo}}",
		"data": {
			"foo": "food"
		},
		"expected": "content \\food",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 17,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 10,
					"lastLine": 1,
					"type": "content",
					"string": "content \\",
					"original": "content \\"
				},
				{
					"firstLine": 1,
					"firstColumn": 10,
					"lastColumn": 17,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 12,
						"lastColumn": 15,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 12,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "foo",
							"parts": [
								"foo"
							],
							"string": "foo",
							"depth": 0,
							"idName": "foo",
							"isSimple": true,
							"stringModeValue": "foo"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 12,
						"lastColumn": 15,
						"lastLine": 1,
						"type": "ID",
						"original": "foo",
						"parts": [
							"foo"
						],
						"string": "foo",
						"depth": 0,
						"idName": "foo",
						"isSimple": true,
						"stringModeValue": "foo"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"content \\"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"foo",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "escaping",
		"template": "\\\\ {{foo}}",
		"data": {
			"foo": "food"
		},
		"expected": "\\\\ food",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 10,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 3,
					"lastLine": 1,
					"type": "content",
					"string": "\\\\ ",
					"original": "\\\\ "
				},
				{
					"firstLine": 1,
					"firstColumn": 3,
					"lastColumn": 10,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 5,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 5,
							"lastColumn": 8,
							"lastLine": 1,
							"type": "ID",
							"original": "foo",
							"parts": [
								"foo"
							],
							"string": "foo",
							"depth": 0,
							"idName": "foo",
							"isSimple": true,
							"stringModeValue": "foo"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 5,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "ID",
						"original": "foo",
						"parts": [
							"foo"
						],
						"string": "foo",
						"depth": 0,
						"idName": "foo",
						"isSimple": true,
						"stringModeValue": "foo"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"\\\\ "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"foo",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "compiling with a basic context",
		"template": "Goodbye\n{{cruel}}\n{{world}}!",
		"data": {
			"cruel": "cruel",
			"world": "world"
		},
		"expected": "Goodbye\ncruel\nworld!",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 10,
			"lastLine": 3,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 0,
					"lastLine": 2,
					"type": "content",
					"string": "Goodbye\n",
					"original": "Goodbye\n"
				},
				{
					"firstLine": 2,
					"firstColumn": 0,
					"lastColumn": 9,
					"lastLine": 2,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 2,
						"firstColumn": 2,
						"lastColumn": 7,
						"lastLine": 2,
						"type": "sexpr",
						"id": {
							"firstLine": 2,
							"firstColumn": 2,
							"lastColumn": 7,
							"lastLine": 2,
							"type": "ID",
							"original": "cruel",
							"parts": [
								"cruel"
							],
							"string": "cruel",
							"depth": 0,
							"idName": "cruel",
							"isSimple": true,
							"stringModeValue": "cruel"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 2,
						"firstColumn": 2,
						"lastColumn": 7,
						"lastLine": 2,
						"type": "ID",
						"original": "cruel",
						"parts": [
							"cruel"
						],
						"string": "cruel",
						"depth": 0,
						"idName": "cruel",
						"isSimple": true,
						"stringModeValue": "cruel"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 2,
					"firstColumn": 9,
					"lastColumn": 0,
					"lastLine": 3,
					"type": "content",
					"string": "\n",
					"original": "\n"
				},
				{
					"firstLine": 3,
					"firstColumn": 0,
					"lastColumn": 9,
					"lastLine": 3,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 3,
						"firstColumn": 2,
						"lastColumn": 7,
						"lastLine": 3,
						"type": "sexpr",
						"id": {
							"firstLine": 3,
							"firstColumn": 2,
							"lastColumn": 7,
							"lastLine": 3,
							"type": "ID",
							"original": "world",
							"parts": [
								"world"
							],
							"string": "world",
							"depth": 0,
							"idName": "world",
							"isSimple": true,
							"stringModeValue": "world"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 3,
						"firstColumn": 2,
						"lastColumn": 7,
						"lastLine": 3,
						"type": "ID",
						"original": "world",
						"parts": [
							"world"
						],
						"string": "world",
						"depth": 0,
						"idName": "world",
						"isSimple": true,
						"stringModeValue": "world"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 3,
					"firstColumn": 9,
					"lastColumn": 10,
					"lastLine": 3,
					"type": "content",
					"string": "!",
					"original": "!"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Goodbye\n"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"cruel",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						"\n"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"world",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						"!"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "compiling with an undefined context",
		"template": "Goodbye\n{{cruel}}\n{{world.bar}}!",
		"expected": "Goodbye\n\n!",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 14,
			"lastLine": 3,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 0,
					"lastLine": 2,
					"type": "content",
					"string": "Goodbye\n",
					"original": "Goodbye\n"
				},
				{
					"firstLine": 2,
					"firstColumn": 0,
					"lastColumn": 9,
					"lastLine": 2,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 2,
						"firstColumn": 2,
						"lastColumn": 7,
						"lastLine": 2,
						"type": "sexpr",
						"id": {
							"firstLine": 2,
							"firstColumn": 2,
							"lastColumn": 7,
							"lastLine": 2,
							"type": "ID",
							"original": "cruel",
							"parts": [
								"cruel"
							],
							"string": "cruel",
							"depth": 0,
							"idName": "cruel",
							"isSimple": true,
							"stringModeValue": "cruel"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 2,
						"firstColumn": 2,
						"lastColumn": 7,
						"lastLine": 2,
						"type": "ID",
						"original": "cruel",
						"parts": [
							"cruel"
						],
						"string": "cruel",
						"depth": 0,
						"idName": "cruel",
						"isSimple": true,
						"stringModeValue": "cruel"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 2,
					"firstColumn": 9,
					"lastColumn": 0,
					"lastLine": 3,
					"type": "content",
					"string": "\n",
					"original": "\n"
				},
				{
					"firstLine": 3,
					"firstColumn": 0,
					"lastColumn": 13,
					"lastLine": 3,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 3,
						"firstColumn": 2,
						"lastColumn": 11,
						"lastLine": 3,
						"type": "sexpr",
						"id": {
							"firstLine": 3,
							"firstColumn": 2,
							"lastColumn": 11,
							"lastLine": 3,
							"type": "ID",
							"original": "world.bar",
							"parts": [
								"world",
								"bar"
							],
							"string": "world.bar",
							"depth": 0,
							"idName": "world.bar",
							"isSimple": false,
							"stringModeValue": "world.bar"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 3,
						"firstColumn": 2,
						"lastColumn": 11,
						"lastLine": 3,
						"type": "ID",
						"original": "world.bar",
						"parts": [
							"world",
							"bar"
						],
						"string": "world.bar",
						"depth": 0,
						"idName": "world.bar",
						"isSimple": false,
						"stringModeValue": "world.bar"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				},
				{
					"firstLine": 3,
					"firstColumn": 13,
					"lastColumn": 14,
					"lastLine": 3,
					"type": "content",
					"string": "!",
					"original": "!"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Goodbye\n"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"cruel",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						"\n"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world",
							"bar"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						"!"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "compiling with an undefined context",
		"template": "{{#unless foo}}Goodbye{{../test}}{{test2}}{{/unless}}",
		"expected": "Goodbye",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 53,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 53,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 15,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 9,
								"lastLine": 1,
								"type": "ID",
								"original": "unless",
								"parts": [
									"unless"
								],
								"string": "unless",
								"depth": 0,
								"idName": "unless",
								"isSimple": true,
								"stringModeValue": "unless"
							},
							"params": [
								{
									"firstLine": 1,
									"firstColumn": 10,
									"lastColumn": 13,
									"lastLine": 1,
									"type": "ID",
									"original": "foo",
									"parts": [
										"foo"
									],
									"string": "foo",
									"depth": 0,
									"idName": "foo",
									"isSimple": true,
									"stringModeValue": "foo"
								}
							],
							"isHelper": true,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"original": "unless",
							"parts": [
								"unless"
							],
							"string": "unless",
							"depth": 0,
							"idName": "unless",
							"isSimple": true,
							"stringModeValue": "unless"
						},
						"params": [
							{
								"firstLine": 1,
								"firstColumn": 10,
								"lastColumn": 13,
								"lastLine": 1,
								"type": "ID",
								"original": "foo",
								"parts": [
									"foo"
								],
								"string": "foo",
								"depth": 0,
								"idName": "foo",
								"isSimple": true,
								"stringModeValue": "foo"
							}
						],
						"eligibleHelper": true,
						"isHelper": true
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 42,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 15,
								"lastColumn": 22,
								"lastLine": 1,
								"type": "content",
								"string": "Goodbye",
								"original": "Goodbye"
							},
							{
								"firstLine": 1,
								"firstColumn": 22,
								"lastColumn": 33,
								"lastLine": 1,
								"type": "mustache",
								"strip": {
									"left": false,
									"right": false
								},
								"escaped": true,
								"sexpr": {
									"firstLine": 1,
									"firstColumn": 24,
									"lastColumn": 31,
									"lastLine": 1,
									"type": "sexpr",
									"id": {
										"firstLine": 1,
										"firstColumn": 24,
										"lastColumn": 31,
										"lastLine": 1,
										"type": "ID",
										"original": "../test",
										"parts": [
											"test"
										],
										"string": "test",
										"depth": 1,
										"idName": "../test",
										"isSimple": false,
										"stringModeValue": "test"
									},
									"params": [],
									"isHelper": false,
									"eligibleHelper": false
								},
								"id": {
									"firstLine": 1,
									"firstColumn": 24,
									"lastColumn": 31,
									"lastLine": 1,
									"type": "ID",
									"original": "../test",
									"parts": [
										"test"
									],
									"string": "test",
									"depth": 1,
									"idName": "../test",
									"isSimple": false,
									"stringModeValue": "test"
								},
								"params": [],
								"eligibleHelper": false,
								"isHelper": false
							},
							{
								"firstLine": 1,
								"firstColumn": 33,
								"lastColumn": 42,
								"lastLine": 1,
								"type": "mustache",
								"strip": {
									"left": false,
									"right": false
								},
								"escaped": true,
								"sexpr": {
									"firstLine": 1,
									"firstColumn": 35,
									"lastColumn": 40,
									"lastLine": 1,
									"type": "sexpr",
									"id": {
										"firstLine": 1,
										"firstColumn": 35,
										"lastColumn": 40,
										"lastLine": 1,
										"type": "ID",
										"original": "test2",
										"parts": [
											"test2"
										],
										"string": "test2",
										"depth": 0,
										"idName": "test2",
										"isSimple": true,
										"stringModeValue": "test2"
									},
									"params": [],
									"isHelper": false,
									"eligibleHelper": true
								},
								"id": {
									"firstLine": 1,
									"firstColumn": 35,
									"lastColumn": 40,
									"lastLine": 1,
									"type": "ID",
									"original": "test2",
									"parts": [
										"test2"
									],
									"string": "test2",
									"depth": 0,
									"idName": "test2",
									"isSimple": true,
									"stringModeValue": "test2"
								},
								"params": [],
								"eligibleHelper": true,
								"isHelper": false
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false,
						"openStandalone": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"unless"
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"Goodbye"
							]
						},
						{
							"opcode": "getContext",
							"args": [
								1
							]
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"test"
								],
								null,
								null
							]
						},
						{
							"opcode": "resolvePossibleLambda",
							"args": []
						},
						{
							"opcode": "appendEscaped",
							"args": []
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							]
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							]
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"test2"
								],
								null,
								null
							]
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"test2",
								false
							]
						},
						{
							"opcode": "appendEscaped",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"1": true,
						"list": [
							1
						]
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "comments",
		"template": "{{! Goodbye}}Goodbye\n{{cruel}}\n{{world}}!",
		"data": {
			"cruel": "cruel",
			"world": "world"
		},
		"expected": "Goodbye\ncruel\nworld!",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 10,
			"lastLine": 3,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 13,
					"lastLine": 1,
					"type": "comment",
					"comment": " Goodbye",
					"strip": {
						"inlineStandalone": true
					}
				},
				{
					"firstLine": 1,
					"firstColumn": 13,
					"lastColumn": 0,
					"lastLine": 2,
					"type": "content",
					"string": "Goodbye\n",
					"original": "Goodbye\n"
				},
				{
					"firstLine": 2,
					"firstColumn": 0,
					"lastColumn": 9,
					"lastLine": 2,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 2,
						"firstColumn": 2,
						"lastColumn": 7,
						"lastLine": 2,
						"type": "sexpr",
						"id": {
							"firstLine": 2,
							"firstColumn": 2,
							"lastColumn": 7,
							"lastLine": 2,
							"type": "ID",
							"original": "cruel",
							"parts": [
								"cruel"
							],
							"string": "cruel",
							"depth": 0,
							"idName": "cruel",
							"isSimple": true,
							"stringModeValue": "cruel"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 2,
						"firstColumn": 2,
						"lastColumn": 7,
						"lastLine": 2,
						"type": "ID",
						"original": "cruel",
						"parts": [
							"cruel"
						],
						"string": "cruel",
						"depth": 0,
						"idName": "cruel",
						"isSimple": true,
						"stringModeValue": "cruel"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 2,
					"firstColumn": 9,
					"lastColumn": 0,
					"lastLine": 3,
					"type": "content",
					"string": "\n",
					"original": "\n"
				},
				{
					"firstLine": 3,
					"firstColumn": 0,
					"lastColumn": 9,
					"lastLine": 3,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 3,
						"firstColumn": 2,
						"lastColumn": 7,
						"lastLine": 3,
						"type": "sexpr",
						"id": {
							"firstLine": 3,
							"firstColumn": 2,
							"lastColumn": 7,
							"lastLine": 3,
							"type": "ID",
							"original": "world",
							"parts": [
								"world"
							],
							"string": "world",
							"depth": 0,
							"idName": "world",
							"isSimple": true,
							"stringModeValue": "world"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 3,
						"firstColumn": 2,
						"lastColumn": 7,
						"lastLine": 3,
						"type": "ID",
						"original": "world",
						"parts": [
							"world"
						],
						"string": "world",
						"depth": 0,
						"idName": "world",
						"isSimple": true,
						"stringModeValue": "world"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 3,
					"firstColumn": 9,
					"lastColumn": 10,
					"lastLine": 3,
					"type": "content",
					"string": "!",
					"original": "!"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Goodbye\n"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"cruel"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"cruel",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						"\n"
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"world",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						"!"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "boolean",
		"template": "{{#goodbye}}GOODBYE {{/goodbye}}cruel {{world}}!",
		"data": {
			"goodbye": true,
			"world": "world"
		},
		"expected": "GOODBYE cruel world!",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 48,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 32,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 12,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 10,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 10,
								"lastLine": 1,
								"type": "ID",
								"original": "goodbye",
								"parts": [
									"goodbye"
								],
								"string": "goodbye",
								"depth": 0,
								"idName": "goodbye",
								"isSimple": true,
								"stringModeValue": "goodbye"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 10,
							"lastLine": 1,
							"type": "ID",
							"original": "goodbye",
							"parts": [
								"goodbye"
							],
							"string": "goodbye",
							"depth": 0,
							"idName": "goodbye",
							"isSimple": true,
							"stringModeValue": "goodbye"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 20,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 12,
								"lastColumn": 20,
								"lastLine": 1,
								"type": "content",
								"string": "GOODBYE ",
								"original": "GOODBYE "
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false,
						"openStandalone": false,
						"closeStandalone": false
					}
				},
				{
					"firstLine": 1,
					"firstColumn": 32,
					"lastColumn": 38,
					"lastLine": 1,
					"type": "content",
					"string": "cruel ",
					"original": "cruel "
				},
				{
					"firstLine": 1,
					"firstColumn": 38,
					"lastColumn": 47,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 40,
						"lastColumn": 45,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 40,
							"lastColumn": 45,
							"lastLine": 1,
							"type": "ID",
							"original": "world",
							"parts": [
								"world"
							],
							"string": "world",
							"depth": 0,
							"idName": "world",
							"isSimple": true,
							"stringModeValue": "world"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 40,
						"lastColumn": 45,
						"lastLine": 1,
						"type": "ID",
						"original": "world",
						"parts": [
							"world"
						],
						"string": "world",
						"depth": 0,
						"idName": "world",
						"isSimple": true,
						"stringModeValue": "world"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 1,
					"firstColumn": 47,
					"lastColumn": 48,
					"lastLine": 1,
					"type": "content",
					"string": "!",
					"original": "!"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbye",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						"cruel "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"world",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						"!"
					]
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"GOODBYE "
							]
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "boolean",
		"template": "{{#goodbye}}GOODBYE {{/goodbye}}cruel {{world}}!",
		"data": {
			"goodbye": false,
			"world": "world"
		},
		"expected": "cruel world!",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 48,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 32,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 12,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 10,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 10,
								"lastLine": 1,
								"type": "ID",
								"original": "goodbye",
								"parts": [
									"goodbye"
								],
								"string": "goodbye",
								"depth": 0,
								"idName": "goodbye",
								"isSimple": true,
								"stringModeValue": "goodbye"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 10,
							"lastLine": 1,
							"type": "ID",
							"original": "goodbye",
							"parts": [
								"goodbye"
							],
							"string": "goodbye",
							"depth": 0,
							"idName": "goodbye",
							"isSimple": true,
							"stringModeValue": "goodbye"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 20,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 12,
								"lastColumn": 20,
								"lastLine": 1,
								"type": "content",
								"string": "GOODBYE ",
								"original": "GOODBYE "
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false,
						"openStandalone": false,
						"closeStandalone": false
					}
				},
				{
					"firstLine": 1,
					"firstColumn": 32,
					"lastColumn": 38,
					"lastLine": 1,
					"type": "content",
					"string": "cruel ",
					"original": "cruel "
				},
				{
					"firstLine": 1,
					"firstColumn": 38,
					"lastColumn": 47,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 40,
						"lastColumn": 45,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 40,
							"lastColumn": 45,
							"lastLine": 1,
							"type": "ID",
							"original": "world",
							"parts": [
								"world"
							],
							"string": "world",
							"depth": 0,
							"idName": "world",
							"isSimple": true,
							"stringModeValue": "world"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 40,
						"lastColumn": 45,
						"lastLine": 1,
						"type": "ID",
						"original": "world",
						"parts": [
							"world"
						],
						"string": "world",
						"depth": 0,
						"idName": "world",
						"isSimple": true,
						"stringModeValue": "world"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 1,
					"firstColumn": 47,
					"lastColumn": 48,
					"lastLine": 1,
					"type": "content",
					"string": "!",
					"original": "!"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbye"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbye",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						"cruel "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"world"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"world",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						"!"
					]
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"GOODBYE "
							]
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "zeros",
		"template": "num1: {{num1}}, num2: {{num2}}",
		"data": {
			"num1": 42,
			"num2": 0
		},
		"expected": "num1: 42, num2: 0",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 30,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 6,
					"lastLine": 1,
					"type": "content",
					"string": "num1: ",
					"original": "num1: "
				},
				{
					"firstLine": 1,
					"firstColumn": 6,
					"lastColumn": 14,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 12,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 8,
							"lastColumn": 12,
							"lastLine": 1,
							"type": "ID",
							"original": "num1",
							"parts": [
								"num1"
							],
							"string": "num1",
							"depth": 0,
							"idName": "num1",
							"isSimple": true,
							"stringModeValue": "num1"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 12,
						"lastLine": 1,
						"type": "ID",
						"original": "num1",
						"parts": [
							"num1"
						],
						"string": "num1",
						"depth": 0,
						"idName": "num1",
						"isSimple": true,
						"stringModeValue": "num1"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 1,
					"firstColumn": 14,
					"lastColumn": 22,
					"lastLine": 1,
					"type": "content",
					"string": ", num2: ",
					"original": ", num2: "
				},
				{
					"firstLine": 1,
					"firstColumn": 22,
					"lastColumn": 30,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 24,
						"lastColumn": 28,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 24,
							"lastColumn": 28,
							"lastLine": 1,
							"type": "ID",
							"original": "num2",
							"parts": [
								"num2"
							],
							"string": "num2",
							"depth": 0,
							"idName": "num2",
							"isSimple": true,
							"stringModeValue": "num2"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 24,
						"lastColumn": 28,
						"lastLine": 1,
						"type": "ID",
						"original": "num2",
						"parts": [
							"num2"
						],
						"string": "num2",
						"depth": 0,
						"idName": "num2",
						"isSimple": true,
						"stringModeValue": "num2"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"num1: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"num1"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"num1",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						", num2: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"num2"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"num2",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "zeros",
		"template": "num: {{.}}",
		"data": 0,
		"expected": "num: 0",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 10,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 5,
					"lastLine": 1,
					"type": "content",
					"string": "num: ",
					"original": "num: "
				},
				{
					"firstLine": 1,
					"firstColumn": 5,
					"lastColumn": 10,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 7,
							"lastColumn": 8,
							"lastLine": 1,
							"type": "ID",
							"isScoped": true,
							"original": ".",
							"parts": [],
							"string": "",
							"depth": 0,
							"idName": "",
							"isSimple": false,
							"stringModeValue": ""
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "ID",
						"isScoped": true,
						"original": ".",
						"parts": [],
						"string": "",
						"depth": 0,
						"idName": "",
						"isSimple": false,
						"stringModeValue": ""
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"num: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "zeros",
		"template": "num: {{num1/num2}}",
		"data": {
			"num1": {
				"num2": 0
			}
		},
		"expected": "num: 0",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 18,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 5,
					"lastLine": 1,
					"type": "content",
					"string": "num: ",
					"original": "num: "
				},
				{
					"firstLine": 1,
					"firstColumn": 5,
					"lastColumn": 18,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 7,
							"lastColumn": 16,
							"lastLine": 1,
							"type": "ID",
							"original": "num1/num2",
							"parts": [
								"num1",
								"num2"
							],
							"string": "num1.num2",
							"depth": 0,
							"idName": "num1.num2",
							"isSimple": false,
							"stringModeValue": "num1.num2"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "ID",
						"original": "num1/num2",
						"parts": [
							"num1",
							"num2"
						],
						"string": "num1.num2",
						"depth": 0,
						"idName": "num1.num2",
						"isSimple": false,
						"stringModeValue": "num1.num2"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"num: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"num1",
							"num2"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "false",
		"template": "val1: {{val1}}, val2: {{val2}}",
		"data": {
			"val1": false,
			"val2": false
		},
		"expected": "val1: false, val2: false",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 30,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 6,
					"lastLine": 1,
					"type": "content",
					"string": "val1: ",
					"original": "val1: "
				},
				{
					"firstLine": 1,
					"firstColumn": 6,
					"lastColumn": 14,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 12,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 8,
							"lastColumn": 12,
							"lastLine": 1,
							"type": "ID",
							"original": "val1",
							"parts": [
								"val1"
							],
							"string": "val1",
							"depth": 0,
							"idName": "val1",
							"isSimple": true,
							"stringModeValue": "val1"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 12,
						"lastLine": 1,
						"type": "ID",
						"original": "val1",
						"parts": [
							"val1"
						],
						"string": "val1",
						"depth": 0,
						"idName": "val1",
						"isSimple": true,
						"stringModeValue": "val1"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 1,
					"firstColumn": 14,
					"lastColumn": 22,
					"lastLine": 1,
					"type": "content",
					"string": ", val2: ",
					"original": ", val2: "
				},
				{
					"firstLine": 1,
					"firstColumn": 22,
					"lastColumn": 30,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 24,
						"lastColumn": 28,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 24,
							"lastColumn": 28,
							"lastLine": 1,
							"type": "ID",
							"original": "val2",
							"parts": [
								"val2"
							],
							"string": "val2",
							"depth": 0,
							"idName": "val2",
							"isSimple": true,
							"stringModeValue": "val2"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 24,
						"lastColumn": 28,
						"lastLine": 1,
						"type": "ID",
						"original": "val2",
						"parts": [
							"val2"
						],
						"string": "val2",
						"depth": 0,
						"idName": "val2",
						"isSimple": true,
						"stringModeValue": "val2"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"val1: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"val1"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"val1",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						", val2: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"val2"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"val2",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "false",
		"template": "val: {{.}}",
		"data": false,
		"expected": "val: false",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 10,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 5,
					"lastLine": 1,
					"type": "content",
					"string": "val: ",
					"original": "val: "
				},
				{
					"firstLine": 1,
					"firstColumn": 5,
					"lastColumn": 10,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 7,
							"lastColumn": 8,
							"lastLine": 1,
							"type": "ID",
							"isScoped": true,
							"original": ".",
							"parts": [],
							"string": "",
							"depth": 0,
							"idName": "",
							"isSimple": false,
							"stringModeValue": ""
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 8,
						"lastLine": 1,
						"type": "ID",
						"isScoped": true,
						"original": ".",
						"parts": [],
						"string": "",
						"depth": 0,
						"idName": "",
						"isSimple": false,
						"stringModeValue": ""
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"val: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "false",
		"template": "val: {{val1/val2}}",
		"data": {
			"val1": {
				"val2": false
			}
		},
		"expected": "val: false",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 18,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 5,
					"lastLine": 1,
					"type": "content",
					"string": "val: ",
					"original": "val: "
				},
				{
					"firstLine": 1,
					"firstColumn": 5,
					"lastColumn": 18,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 7,
							"lastColumn": 16,
							"lastLine": 1,
							"type": "ID",
							"original": "val1/val2",
							"parts": [
								"val1",
								"val2"
							],
							"string": "val1.val2",
							"depth": 0,
							"idName": "val1.val2",
							"isSimple": false,
							"stringModeValue": "val1.val2"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 7,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "ID",
						"original": "val1/val2",
						"parts": [
							"val1",
							"val2"
						],
						"string": "val1.val2",
						"depth": 0,
						"idName": "val1.val2",
						"isSimple": false,
						"stringModeValue": "val1.val2"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"val: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"val1",
							"val2"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "false",
		"template": "val1: {{{val1}}}, val2: {{{val2}}}",
		"data": {
			"val1": false,
			"val2": false
		},
		"expected": "val1: false, val2: false",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 34,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 6,
					"lastLine": 1,
					"type": "content",
					"string": "val1: ",
					"original": "val1: "
				},
				{
					"firstLine": 1,
					"firstColumn": 6,
					"lastColumn": 16,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": false,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 9,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 9,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "ID",
							"original": "val1",
							"parts": [
								"val1"
							],
							"string": "val1",
							"depth": 0,
							"idName": "val1",
							"isSimple": true,
							"stringModeValue": "val1"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 9,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "ID",
						"original": "val1",
						"parts": [
							"val1"
						],
						"string": "val1",
						"depth": 0,
						"idName": "val1",
						"isSimple": true,
						"stringModeValue": "val1"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 1,
					"firstColumn": 16,
					"lastColumn": 24,
					"lastLine": 1,
					"type": "content",
					"string": ", val2: ",
					"original": ", val2: "
				},
				{
					"firstLine": 1,
					"firstColumn": 24,
					"lastColumn": 34,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": false,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 27,
						"lastColumn": 31,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 27,
							"lastColumn": 31,
							"lastLine": 1,
							"type": "ID",
							"original": "val2",
							"parts": [
								"val2"
							],
							"string": "val2",
							"depth": 0,
							"idName": "val2",
							"isSimple": true,
							"stringModeValue": "val2"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 27,
						"lastColumn": 31,
						"lastLine": 1,
						"type": "ID",
						"original": "val2",
						"parts": [
							"val2"
						],
						"string": "val2",
						"depth": 0,
						"idName": "val2",
						"isSimple": true,
						"stringModeValue": "val2"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"val1: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"val1"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"val1",
						false
					]
				},
				{
					"opcode": "append",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						", val2: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"val2"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"val2",
						false
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "false",
		"template": "val: {{{val1/val2}}}",
		"data": {
			"val1": {
				"val2": false
			}
		},
		"expected": "val: false",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 20,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 5,
					"lastLine": 1,
					"type": "content",
					"string": "val: ",
					"original": "val: "
				},
				{
					"firstLine": 1,
					"firstColumn": 5,
					"lastColumn": 20,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": false,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 8,
							"lastColumn": 17,
							"lastLine": 1,
							"type": "ID",
							"original": "val1/val2",
							"parts": [
								"val1",
								"val2"
							],
							"string": "val1.val2",
							"depth": 0,
							"idName": "val1.val2",
							"isSimple": false,
							"stringModeValue": "val1.val2"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "ID",
						"original": "val1/val2",
						"parts": [
							"val1",
							"val2"
						],
						"string": "val1.val2",
						"depth": 0,
						"idName": "val1.val2",
						"isSimple": false,
						"stringModeValue": "val1.val2"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"val: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"val1",
							"val2"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "newlines",
		"template": "Alan's\nTest",
		"data": {},
		"expected": "Alan's\nTest",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 4,
			"lastLine": 2,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 4,
					"lastLine": 2,
					"type": "content",
					"string": "Alan's\nTest",
					"original": "Alan's\nTest"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Alan's\nTest"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "newlines",
		"template": "Alan's\rTest",
		"data": {},
		"expected": "Alan's\rTest",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 4,
			"lastLine": 2,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 4,
					"lastLine": 2,
					"type": "content",
					"string": "Alan's\rTest",
					"original": "Alan's\rTest"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Alan's\rTest"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "escaping text",
		"template": "Awesome's",
		"data": {},
		"expected": "Awesome's",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 9,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 9,
					"lastLine": 1,
					"type": "content",
					"string": "Awesome's",
					"original": "Awesome's"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Awesome's"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "escaping text",
		"template": "Awesome\\",
		"data": {},
		"expected": "Awesome\\",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 8,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 8,
					"lastLine": 1,
					"type": "content",
					"string": "Awesome\\",
					"original": "Awesome\\"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Awesome\\"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "escaping text",
		"template": "Awesome\\\\ foo",
		"data": {},
		"expected": "Awesome\\\\ foo",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 13,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 13,
					"lastLine": 1,
					"type": "content",
					"string": "Awesome\\\\ foo",
					"original": "Awesome\\\\ foo"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Awesome\\\\ foo"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "escaping text",
		"template": "Awesome {{foo}}",
		"data": {
			"foo": "\\"
		},
		"expected": "Awesome \\",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 15,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 8,
					"lastLine": 1,
					"type": "content",
					"string": "Awesome ",
					"original": "Awesome "
				},
				{
					"firstLine": 1,
					"firstColumn": 8,
					"lastColumn": 15,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "ID",
							"original": "foo",
							"parts": [
								"foo"
							],
							"string": "foo",
							"depth": 0,
							"idName": "foo",
							"isSimple": true,
							"stringModeValue": "foo"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "ID",
						"original": "foo",
						"parts": [
							"foo"
						],
						"string": "foo",
						"depth": 0,
						"idName": "foo",
						"isSimple": true,
						"stringModeValue": "foo"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Awesome "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"foo",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "escaping text",
		"template": " \" \" ",
		"data": {},
		"expected": " \" \" ",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 5,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 5,
					"lastLine": 1,
					"type": "content",
					"string": " \" \" ",
					"original": " \" \" "
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						" \" \" "
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "escaping expressions",
		"template": "{{{awesome}}}",
		"data": {
			"awesome": "&\"\\<>"
		},
		"expected": "&\"\\<>",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 13,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 13,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": false,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 3,
						"lastColumn": 10,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 10,
							"lastLine": 1,
							"type": "ID",
							"original": "awesome",
							"parts": [
								"awesome"
							],
							"string": "awesome",
							"depth": 0,
							"idName": "awesome",
							"isSimple": true,
							"stringModeValue": "awesome"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 3,
						"lastColumn": 10,
						"lastLine": 1,
						"type": "ID",
						"original": "awesome",
						"parts": [
							"awesome"
						],
						"string": "awesome",
						"depth": 0,
						"idName": "awesome",
						"isSimple": true,
						"stringModeValue": "awesome"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"awesome"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"awesome",
						false
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "escaping expressions",
		"template": "{{&awesome}}",
		"data": {
			"awesome": "&\"\\<>"
		},
		"expected": "&\"\\<>",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 12,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 12,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": false,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 3,
						"lastColumn": 10,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 10,
							"lastLine": 1,
							"type": "ID",
							"original": "awesome",
							"parts": [
								"awesome"
							],
							"string": "awesome",
							"depth": 0,
							"idName": "awesome",
							"isSimple": true,
							"stringModeValue": "awesome"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 3,
						"lastColumn": 10,
						"lastLine": 1,
						"type": "ID",
						"original": "awesome",
						"parts": [
							"awesome"
						],
						"string": "awesome",
						"depth": 0,
						"idName": "awesome",
						"isSimple": true,
						"stringModeValue": "awesome"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"awesome"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"awesome",
						false
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "escaping expressions",
		"template": "{{awesome}}",
		"data": {
			"awesome": "&\"'`\\<>"
		},
		"expected": "&amp;&quot;&#x27;&#x60;\\&lt;&gt;",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 11,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 11,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"original": "awesome",
							"parts": [
								"awesome"
							],
							"string": "awesome",
							"depth": 0,
							"idName": "awesome",
							"isSimple": true,
							"stringModeValue": "awesome"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "ID",
						"original": "awesome",
						"parts": [
							"awesome"
						],
						"string": "awesome",
						"depth": 0,
						"idName": "awesome",
						"isSimple": true,
						"stringModeValue": "awesome"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"awesome"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"awesome",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "escaping expressions",
		"template": "{{awesome}}",
		"data": {
			"awesome": "Escaped, <b> looks like: &lt;b&gt;"
		},
		"expected": "Escaped, &lt;b&gt; looks like: &amp;lt;b&amp;gt;",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 11,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 11,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"original": "awesome",
							"parts": [
								"awesome"
							],
							"string": "awesome",
							"depth": 0,
							"idName": "awesome",
							"isSimple": true,
							"stringModeValue": "awesome"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "ID",
						"original": "awesome",
						"parts": [
							"awesome"
						],
						"string": "awesome",
						"depth": 0,
						"idName": "awesome",
						"isSimple": true,
						"stringModeValue": "awesome"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"awesome"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"awesome",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "functions returning safestrings shouldn't be escaped",
		"template": "{{awesome}}",
		"data": {
			"awesome": {
				"!code": true,
				"javascript": "function () { return new Handlebars.SafeString(\"&\\\"\\\\<>\"); }",
				"php": "function () { return new SafeString(\"&\\\"\\\\<>\"); }"
			}
		},
		"expected": "&\"\\<>",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 11,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 11,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"original": "awesome",
							"parts": [
								"awesome"
							],
							"string": "awesome",
							"depth": 0,
							"idName": "awesome",
							"isSimple": true,
							"stringModeValue": "awesome"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "ID",
						"original": "awesome",
						"parts": [
							"awesome"
						],
						"string": "awesome",
						"depth": 0,
						"idName": "awesome",
						"isSimple": true,
						"stringModeValue": "awesome"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"awesome"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"awesome",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "functions",
		"template": "{{awesome}}",
		"data": {
			"awesome": {
				"!code": true,
				"javascript": "function () { return \"Awesome\"; }",
				"php": "function () { return \"Awesome\"; }"
			}
		},
		"expected": "Awesome",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 11,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 11,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"original": "awesome",
							"parts": [
								"awesome"
							],
							"string": "awesome",
							"depth": 0,
							"idName": "awesome",
							"isSimple": true,
							"stringModeValue": "awesome"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "ID",
						"original": "awesome",
						"parts": [
							"awesome"
						],
						"string": "awesome",
						"depth": 0,
						"idName": "awesome",
						"isSimple": true,
						"stringModeValue": "awesome"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"awesome"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"awesome",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "functions",
		"template": "{{awesome}}",
		"data": {
			"awesome": {
				"!code": true,
				"javascript": "function () { return this.more; }",
				"php": "function($options) { return $options->scope['more']; }"
			},
			"more": "More awesome"
		},
		"expected": "More awesome",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 11,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 11,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"original": "awesome",
							"parts": [
								"awesome"
							],
							"string": "awesome",
							"depth": 0,
							"idName": "awesome",
							"isSimple": true,
							"stringModeValue": "awesome"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "ID",
						"original": "awesome",
						"parts": [
							"awesome"
						],
						"string": "awesome",
						"depth": 0,
						"idName": "awesome",
						"isSimple": true,
						"stringModeValue": "awesome"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"awesome"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"awesome",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "functions with context argument",
		"template": "{{awesome frank}}",
		"data": {
			"awesome": {
				"!code": true,
				"javascript": "function (context) { return context; }",
				"php": "function($context) { return $context; }"
			},
			"frank": "Frank"
		},
		"expected": "Frank",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 17,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 17,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 15,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"original": "awesome",
							"parts": [
								"awesome"
							],
							"string": "awesome",
							"depth": 0,
							"idName": "awesome",
							"isSimple": true,
							"stringModeValue": "awesome"
						},
						"params": [
							{
								"firstLine": 1,
								"firstColumn": 10,
								"lastColumn": 15,
								"lastLine": 1,
								"type": "ID",
								"original": "frank",
								"parts": [
									"frank"
								],
								"string": "frank",
								"depth": 0,
								"idName": "frank",
								"isSimple": true,
								"stringModeValue": "frank"
							}
						],
						"isHelper": true,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "ID",
						"original": "awesome",
						"parts": [
							"awesome"
						],
						"string": "awesome",
						"depth": 0,
						"idName": "awesome",
						"isSimple": true,
						"stringModeValue": "awesome"
					},
					"params": [
						{
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 15,
							"lastLine": 1,
							"type": "ID",
							"original": "frank",
							"parts": [
								"frank"
							],
							"string": "frank",
							"depth": 0,
							"idName": "frank",
							"isSimple": true,
							"stringModeValue": "frank"
						}
					],
					"eligibleHelper": true,
					"isHelper": true
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"frank"
						],
						null,
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"awesome"
						],
						true,
						null
					]
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"awesome",
						true
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "pathed functions with context argument",
		"template": "{{bar.awesome frank}}",
		"data": {
			"bar": {
				"awesome": {
					"!code": true,
					"javascript": "function (context) { return context; }",
					"php": "function($context) { return $context; }"
				}
			},
			"frank": "Frank"
		},
		"expected": "Frank",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 21,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 21,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 19,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "ID",
							"original": "bar.awesome",
							"parts": [
								"bar",
								"awesome"
							],
							"string": "bar.awesome",
							"depth": 0,
							"idName": "bar.awesome",
							"isSimple": false,
							"stringModeValue": "bar.awesome"
						},
						"params": [
							{
								"firstLine": 1,
								"firstColumn": 14,
								"lastColumn": 19,
								"lastLine": 1,
								"type": "ID",
								"original": "frank",
								"parts": [
									"frank"
								],
								"string": "frank",
								"depth": 0,
								"idName": "frank",
								"isSimple": true,
								"stringModeValue": "frank"
							}
						],
						"isHelper": true,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "ID",
						"original": "bar.awesome",
						"parts": [
							"bar",
							"awesome"
						],
						"string": "bar.awesome",
						"depth": 0,
						"idName": "bar.awesome",
						"isSimple": false,
						"stringModeValue": "bar.awesome"
					},
					"params": [
						{
							"firstLine": 1,
							"firstColumn": 14,
							"lastColumn": 19,
							"lastLine": 1,
							"type": "ID",
							"original": "frank",
							"parts": [
								"frank"
							],
							"string": "frank",
							"depth": 0,
							"idName": "frank",
							"isSimple": true,
							"stringModeValue": "frank"
						}
					],
					"eligibleHelper": true,
					"isHelper": true
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"frank"
						],
						null,
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"bar",
							"awesome"
						],
						true,
						null
					]
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"bar.awesome",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "depthed functions with context argument",
		"template": "{{#with frank}}{{../awesome .}}{{/with}}",
		"data": {
			"awesome": {
				"!code": true,
				"javascript": "function (context) { return context; }",
				"php": "function($context) { return $context; }"
			},
			"frank": "Frank"
		},
		"expected": "Frank",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 40,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 40,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 15,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 7,
								"lastLine": 1,
								"type": "ID",
								"original": "with",
								"parts": [
									"with"
								],
								"string": "with",
								"depth": 0,
								"idName": "with",
								"isSimple": true,
								"stringModeValue": "with"
							},
							"params": [
								{
									"firstLine": 1,
									"firstColumn": 8,
									"lastColumn": 13,
									"lastLine": 1,
									"type": "ID",
									"original": "frank",
									"parts": [
										"frank"
									],
									"string": "frank",
									"depth": 0,
									"idName": "frank",
									"isSimple": true,
									"stringModeValue": "frank"
								}
							],
							"isHelper": true,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 7,
							"lastLine": 1,
							"type": "ID",
							"original": "with",
							"parts": [
								"with"
							],
							"string": "with",
							"depth": 0,
							"idName": "with",
							"isSimple": true,
							"stringModeValue": "with"
						},
						"params": [
							{
								"firstLine": 1,
								"firstColumn": 8,
								"lastColumn": 13,
								"lastLine": 1,
								"type": "ID",
								"original": "frank",
								"parts": [
									"frank"
								],
								"string": "frank",
								"depth": 0,
								"idName": "frank",
								"isSimple": true,
								"stringModeValue": "frank"
							}
						],
						"eligibleHelper": true,
						"isHelper": true
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 31,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 15,
								"lastColumn": 31,
								"lastLine": 1,
								"type": "mustache",
								"strip": {
									"left": false,
									"right": false
								},
								"escaped": true,
								"sexpr": {
									"firstLine": 1,
									"firstColumn": 17,
									"lastColumn": 29,
									"lastLine": 1,
									"type": "sexpr",
									"id": {
										"firstLine": 1,
										"firstColumn": 17,
										"lastColumn": 27,
										"lastLine": 1,
										"type": "ID",
										"original": "../awesome",
										"parts": [
											"awesome"
										],
										"string": "awesome",
										"depth": 1,
										"idName": "../awesome",
										"isSimple": false,
										"stringModeValue": "awesome"
									},
									"params": [
										{
											"firstLine": 1,
											"firstColumn": 28,
											"lastColumn": 29,
											"lastLine": 1,
											"type": "ID",
											"isScoped": true,
											"original": ".",
											"parts": [],
											"string": "",
											"depth": 0,
											"idName": "",
											"isSimple": false,
											"stringModeValue": ""
										}
									],
									"isHelper": true,
									"eligibleHelper": true
								},
								"id": {
									"firstLine": 1,
									"firstColumn": 17,
									"lastColumn": 27,
									"lastLine": 1,
									"type": "ID",
									"original": "../awesome",
									"parts": [
										"awesome"
									],
									"string": "awesome",
									"depth": 1,
									"idName": "../awesome",
									"isSimple": false,
									"stringModeValue": "awesome"
								},
								"params": [
									{
										"firstLine": 1,
										"firstColumn": 28,
										"lastColumn": 29,
										"lastLine": 1,
										"type": "ID",
										"isScoped": true,
										"original": ".",
										"parts": [],
										"string": "",
										"depth": 0,
										"idName": "",
										"isSimple": false,
										"stringModeValue": ""
									}
								],
								"eligibleHelper": true,
								"isHelper": true
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"frank"
						],
						null,
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"with"
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							]
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							]
						},
						{
							"opcode": "emptyHash",
							"args": []
						},
						{
							"opcode": "getContext",
							"args": [
								1
							]
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"awesome"
								],
								true,
								null
							]
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"../awesome",
								false
							]
						},
						{
							"opcode": "appendEscaped",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"1": true,
						"list": [
							1
						]
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "block functions with context argument",
		"template": "{{#awesome 1}}inner {{.}}{{/awesome}}",
		"data": {
			"awesome": {
				"!code": true,
				"javascript": "function (context, options) { return options.fn(context); }",
				"php": "function($context, $options) { return $options->fn($context); }"
			}
		},
		"expected": "inner 1",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 37,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 37,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 14,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 12,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 10,
								"lastLine": 1,
								"type": "ID",
								"original": "awesome",
								"parts": [
									"awesome"
								],
								"string": "awesome",
								"depth": 0,
								"idName": "awesome",
								"isSimple": true,
								"stringModeValue": "awesome"
							},
							"params": [
								{
									"firstLine": 1,
									"firstColumn": 11,
									"lastColumn": 12,
									"lastLine": 1,
									"type": "NUMBER",
									"number": "1",
									"original": "1",
									"stringModeValue": 1
								}
							],
							"isHelper": true,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 10,
							"lastLine": 1,
							"type": "ID",
							"original": "awesome",
							"parts": [
								"awesome"
							],
							"string": "awesome",
							"depth": 0,
							"idName": "awesome",
							"isSimple": true,
							"stringModeValue": "awesome"
						},
						"params": [
							{
								"firstLine": 1,
								"firstColumn": 11,
								"lastColumn": 12,
								"lastLine": 1,
								"type": "NUMBER",
								"number": "1",
								"original": "1",
								"stringModeValue": 1
							}
						],
						"eligibleHelper": true,
						"isHelper": true
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 25,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 14,
								"lastColumn": 20,
								"lastLine": 1,
								"type": "content",
								"string": "inner ",
								"original": "inner "
							},
							{
								"firstLine": 1,
								"firstColumn": 20,
								"lastColumn": 25,
								"lastLine": 1,
								"type": "mustache",
								"strip": {
									"left": false,
									"right": false
								},
								"escaped": true,
								"sexpr": {
									"firstLine": 1,
									"firstColumn": 22,
									"lastColumn": 23,
									"lastLine": 1,
									"type": "sexpr",
									"id": {
										"firstLine": 1,
										"firstColumn": 22,
										"lastColumn": 23,
										"lastLine": 1,
										"type": "ID",
										"isScoped": true,
										"original": ".",
										"parts": [],
										"string": "",
										"depth": 0,
										"idName": "",
										"isSimple": false,
										"stringModeValue": ""
									},
									"params": [],
									"isHelper": false,
									"eligibleHelper": false
								},
								"id": {
									"firstLine": 1,
									"firstColumn": 22,
									"lastColumn": 23,
									"lastLine": 1,
									"type": "ID",
									"isScoped": true,
									"original": ".",
									"parts": [],
									"string": "",
									"depth": 0,
									"idName": "",
									"isSimple": false,
									"stringModeValue": ""
								},
								"params": [],
								"eligibleHelper": false,
								"isHelper": false
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false,
						"openStandalone": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "pushLiteral",
					"args": [
						"1"
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"awesome"
						],
						true,
						null
					]
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"awesome",
						true
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"inner "
							]
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "resolvePossibleLambda",
							"args": []
						},
						{
							"opcode": "appendEscaped",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": false
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "depthed block functions with context argument",
		"template": "{{#with value}}{{#../awesome 1}}inner {{.}}{{/../awesome}}{{/with}}",
		"data": {
			"value": true,
			"awesome": {
				"!code": true,
				"javascript": "function (context, options) { return options.fn(context); }",
				"php": "function($context, $options) { return $options->fn($context); }"
			}
		},
		"expected": "inner 1",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 67,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 67,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 15,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 7,
								"lastLine": 1,
								"type": "ID",
								"original": "with",
								"parts": [
									"with"
								],
								"string": "with",
								"depth": 0,
								"idName": "with",
								"isSimple": true,
								"stringModeValue": "with"
							},
							"params": [
								{
									"firstLine": 1,
									"firstColumn": 8,
									"lastColumn": 13,
									"lastLine": 1,
									"type": "ID",
									"original": "value",
									"parts": [
										"value"
									],
									"string": "value",
									"depth": 0,
									"idName": "value",
									"isSimple": true,
									"stringModeValue": "value"
								}
							],
							"isHelper": true,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 7,
							"lastLine": 1,
							"type": "ID",
							"original": "with",
							"parts": [
								"with"
							],
							"string": "with",
							"depth": 0,
							"idName": "with",
							"isSimple": true,
							"stringModeValue": "with"
						},
						"params": [
							{
								"firstLine": 1,
								"firstColumn": 8,
								"lastColumn": 13,
								"lastLine": 1,
								"type": "ID",
								"original": "value",
								"parts": [
									"value"
								],
								"string": "value",
								"depth": 0,
								"idName": "value",
								"isSimple": true,
								"stringModeValue": "value"
							}
						],
						"eligibleHelper": true,
						"isHelper": true
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 58,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 15,
								"lastColumn": 58,
								"lastLine": 1,
								"type": "block",
								"mustache": {
									"firstLine": 1,
									"firstColumn": 15,
									"lastColumn": 32,
									"lastLine": 1,
									"type": "mustache",
									"strip": {
										"left": false,
										"right": false
									},
									"escaped": true,
									"sexpr": {
										"firstLine": 1,
										"firstColumn": 18,
										"lastColumn": 30,
										"lastLine": 1,
										"type": "sexpr",
										"id": {
											"firstLine": 1,
											"firstColumn": 18,
											"lastColumn": 28,
											"lastLine": 1,
											"type": "ID",
											"original": "../awesome",
											"parts": [
												"awesome"
											],
											"string": "awesome",
											"depth": 1,
											"idName": "../awesome",
											"isSimple": false,
											"stringModeValue": "awesome"
										},
										"params": [
											{
												"firstLine": 1,
												"firstColumn": 29,
												"lastColumn": 30,
												"lastLine": 1,
												"type": "NUMBER",
												"number": "1",
												"original": "1",
												"stringModeValue": 1
											}
										],
										"isHelper": true,
										"eligibleHelper": true
									},
									"id": {
										"firstLine": 1,
										"firstColumn": 18,
										"lastColumn": 28,
										"lastLine": 1,
										"type": "ID",
										"original": "../awesome",
										"parts": [
											"awesome"
										],
										"string": "awesome",
										"depth": 1,
										"idName": "../awesome",
										"isSimple": false,
										"stringModeValue": "awesome"
									},
									"params": [
										{
											"firstLine": 1,
											"firstColumn": 29,
											"lastColumn": 30,
											"lastLine": 1,
											"type": "NUMBER",
											"number": "1",
											"original": "1",
											"stringModeValue": 1
										}
									],
									"eligibleHelper": true,
									"isHelper": true
								},
								"program": {
									"firstLine": 1,
									"firstColumn": 15,
									"lastColumn": 43,
									"lastLine": 1,
									"type": "program",
									"statements": [
										{
											"firstLine": 1,
											"firstColumn": 32,
											"lastColumn": 38,
											"lastLine": 1,
											"type": "content",
											"string": "inner ",
											"original": "inner "
										},
										{
											"firstLine": 1,
											"firstColumn": 38,
											"lastColumn": 43,
											"lastLine": 1,
											"type": "mustache",
											"strip": {
												"left": false,
												"right": false
											},
											"escaped": true,
											"sexpr": {
												"firstLine": 1,
												"firstColumn": 40,
												"lastColumn": 41,
												"lastLine": 1,
												"type": "sexpr",
												"id": {
													"firstLine": 1,
													"firstColumn": 40,
													"lastColumn": 41,
													"lastLine": 1,
													"type": "ID",
													"isScoped": true,
													"original": ".",
													"parts": [],
													"string": "",
													"depth": 0,
													"idName": "",
													"isSimple": false,
													"stringModeValue": ""
												},
												"params": [],
												"isHelper": false,
												"eligibleHelper": false
											},
											"id": {
												"firstLine": 1,
												"firstColumn": 40,
												"lastColumn": 41,
												"lastLine": 1,
												"type": "ID",
												"isScoped": true,
												"original": ".",
												"parts": [],
												"string": "",
												"depth": 0,
												"idName": "",
												"isSimple": false,
												"stringModeValue": ""
											},
											"params": [],
											"eligibleHelper": false,
											"isHelper": false
										}
									],
									"strip": {}
								},
								"strip": {
									"left": false,
									"right": false,
									"openStandalone": false
								}
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"value"
						],
						null,
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"with"
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "pushLiteral",
							"args": [
								"1"
							]
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							]
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							]
						},
						{
							"opcode": "emptyHash",
							"args": []
						},
						{
							"opcode": "getContext",
							"args": [
								1
							]
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"awesome"
								],
								true,
								null
							]
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"../awesome",
								false
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [
						{
							"opcodes": [
								{
									"opcode": "appendContent",
									"args": [
										"inner "
									]
								},
								{
									"opcode": "getContext",
									"args": [
										0
									]
								},
								{
									"opcode": "pushContext",
									"args": []
								},
								{
									"opcode": "resolvePossibleLambda",
									"args": []
								},
								{
									"opcode": "appendEscaped",
									"args": []
								}
							],
							"children": [],
							"depths": {
								"list": []
							},
							"options": {
								"data": true,
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"isSimple": false
						}
					],
					"depths": {
						"1": true,
						"list": [
							1
						]
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"guid": 1,
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "block functions without context argument",
		"template": "{{#awesome}}inner{{/awesome}}",
		"data": {
			"awesome": {
				"!code": true,
				"javascript": "function (options) { return options.fn(this); }",
				"php": "function($options) { return $options->fn($options->scope); }"
			}
		},
		"expected": "inner",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 29,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 29,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 12,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 10,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 10,
								"lastLine": 1,
								"type": "ID",
								"original": "awesome",
								"parts": [
									"awesome"
								],
								"string": "awesome",
								"depth": 0,
								"idName": "awesome",
								"isSimple": true,
								"stringModeValue": "awesome"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 10,
							"lastLine": 1,
							"type": "ID",
							"original": "awesome",
							"parts": [
								"awesome"
							],
							"string": "awesome",
							"depth": 0,
							"idName": "awesome",
							"isSimple": true,
							"stringModeValue": "awesome"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 17,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 12,
								"lastColumn": 17,
								"lastLine": 1,
								"type": "content",
								"string": "inner",
								"original": "inner"
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false,
						"openStandalone": false,
						"closeStandalone": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"awesome"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"awesome",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"inner"
							]
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "pathed block functions without context argument",
		"template": "{{#foo.awesome}}inner{{/foo.awesome}}",
		"data": {
			"foo": {
				"awesome": {
					"!code": true,
					"javascript": "function (options) { return this; }",
					"php": "function($scope) { return $scope; }"
				}
			}
		},
		"expected": "inner",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 37,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 37,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 16,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 14,
								"lastLine": 1,
								"type": "ID",
								"original": "foo.awesome",
								"parts": [
									"foo",
									"awesome"
								],
								"string": "foo.awesome",
								"depth": 0,
								"idName": "foo.awesome",
								"isSimple": false,
								"stringModeValue": "foo.awesome"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": false
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 14,
							"lastLine": 1,
							"type": "ID",
							"original": "foo.awesome",
							"parts": [
								"foo",
								"awesome"
							],
							"string": "foo.awesome",
							"depth": 0,
							"idName": "foo.awesome",
							"isSimple": false,
							"stringModeValue": "foo.awesome"
						},
						"params": [],
						"eligibleHelper": false,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 21,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 16,
								"lastColumn": 21,
								"lastLine": 1,
								"type": "content",
								"string": "inner",
								"original": "inner"
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false,
						"openStandalone": false,
						"closeStandalone": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo",
							"awesome"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "blockValue",
					"args": [
						"foo.awesome"
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "appendContent",
							"args": [
								"inner"
							]
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "depthed block functions without context argument",
		"template": "{{#with value}}{{#../awesome}}inner{{/../awesome}}{{/with}}",
		"data": {
			"value": true,
			"awesome": {
				"!code": true,
				"javascript": "function (options) { return this; }",
				"php": "function($context) { return $context; }"
			}
		},
		"expected": "inner",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 59,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 59,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 15,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 7,
								"lastLine": 1,
								"type": "ID",
								"original": "with",
								"parts": [
									"with"
								],
								"string": "with",
								"depth": 0,
								"idName": "with",
								"isSimple": true,
								"stringModeValue": "with"
							},
							"params": [
								{
									"firstLine": 1,
									"firstColumn": 8,
									"lastColumn": 13,
									"lastLine": 1,
									"type": "ID",
									"original": "value",
									"parts": [
										"value"
									],
									"string": "value",
									"depth": 0,
									"idName": "value",
									"isSimple": true,
									"stringModeValue": "value"
								}
							],
							"isHelper": true,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 7,
							"lastLine": 1,
							"type": "ID",
							"original": "with",
							"parts": [
								"with"
							],
							"string": "with",
							"depth": 0,
							"idName": "with",
							"isSimple": true,
							"stringModeValue": "with"
						},
						"params": [
							{
								"firstLine": 1,
								"firstColumn": 8,
								"lastColumn": 13,
								"lastLine": 1,
								"type": "ID",
								"original": "value",
								"parts": [
									"value"
								],
								"string": "value",
								"depth": 0,
								"idName": "value",
								"isSimple": true,
								"stringModeValue": "value"
							}
						],
						"eligibleHelper": true,
						"isHelper": true
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 50,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 15,
								"lastColumn": 50,
								"lastLine": 1,
								"type": "block",
								"mustache": {
									"firstLine": 1,
									"firstColumn": 15,
									"lastColumn": 30,
									"lastLine": 1,
									"type": "mustache",
									"strip": {
										"left": false,
										"right": false
									},
									"escaped": true,
									"sexpr": {
										"firstLine": 1,
										"firstColumn": 18,
										"lastColumn": 28,
										"lastLine": 1,
										"type": "sexpr",
										"id": {
											"firstLine": 1,
											"firstColumn": 18,
											"lastColumn": 28,
											"lastLine": 1,
											"type": "ID",
											"original": "../awesome",
											"parts": [
												"awesome"
											],
											"string": "awesome",
											"depth": 1,
											"idName": "../awesome",
											"isSimple": false,
											"stringModeValue": "awesome"
										},
										"params": [],
										"isHelper": false,
										"eligibleHelper": false
									},
									"id": {
										"firstLine": 1,
										"firstColumn": 18,
										"lastColumn": 28,
										"lastLine": 1,
										"type": "ID",
										"original": "../awesome",
										"parts": [
											"awesome"
										],
										"string": "awesome",
										"depth": 1,
										"idName": "../awesome",
										"isSimple": false,
										"stringModeValue": "awesome"
									},
									"params": [],
									"eligibleHelper": false,
									"isHelper": false
								},
								"program": {
									"firstLine": 1,
									"firstColumn": 15,
									"lastColumn": 35,
									"lastLine": 1,
									"type": "program",
									"statements": [
										{
											"firstLine": 1,
											"firstColumn": 30,
											"lastColumn": 35,
											"lastLine": 1,
											"type": "content",
											"string": "inner",
											"original": "inner"
										}
									],
									"strip": {}
								},
								"strip": {
									"left": false,
									"right": false,
									"openStandalone": false,
									"closeStandalone": false
								}
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"value"
						],
						null,
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"with"
					]
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								1
							]
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"awesome"
								],
								null,
								null
							]
						},
						{
							"opcode": "resolvePossibleLambda",
							"args": []
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							]
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							]
						},
						{
							"opcode": "emptyHash",
							"args": []
						},
						{
							"opcode": "blockValue",
							"args": [
								"../awesome"
							]
						},
						{
							"opcode": "append",
							"args": []
						}
					],
					"children": [
						{
							"opcodes": [
								{
									"opcode": "appendContent",
									"args": [
										"inner"
									]
								}
							],
							"children": [],
							"depths": {
								"list": []
							},
							"options": {
								"data": true,
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"isSimple": true
						}
					],
					"depths": {
						"1": true,
						"list": [
							1
						]
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"guid": 1,
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "paths with hyphens",
		"template": "{{foo-bar}}",
		"data": {
			"foo-bar": "baz"
		},
		"expected": "baz",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 11,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 11,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"original": "foo-bar",
							"parts": [
								"foo-bar"
							],
							"string": "foo-bar",
							"depth": 0,
							"idName": "foo-bar",
							"isSimple": true,
							"stringModeValue": "foo-bar"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "ID",
						"original": "foo-bar",
						"parts": [
							"foo-bar"
						],
						"string": "foo-bar",
						"depth": 0,
						"idName": "foo-bar",
						"isSimple": true,
						"stringModeValue": "foo-bar"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo-bar"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"foo-bar",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "paths with hyphens",
		"template": "{{foo.foo-bar}}",
		"data": {
			"foo": {
				"foo-bar": "baz"
			}
		},
		"expected": "baz",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 15,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 15,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "ID",
							"original": "foo.foo-bar",
							"parts": [
								"foo",
								"foo-bar"
							],
							"string": "foo.foo-bar",
							"depth": 0,
							"idName": "foo.foo-bar",
							"isSimple": false,
							"stringModeValue": "foo.foo-bar"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "ID",
						"original": "foo.foo-bar",
						"parts": [
							"foo",
							"foo-bar"
						],
						"string": "foo.foo-bar",
						"depth": 0,
						"idName": "foo.foo-bar",
						"isSimple": false,
						"stringModeValue": "foo.foo-bar"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo",
							"foo-bar"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "paths with hyphens",
		"template": "{{foo/foo-bar}}",
		"data": {
			"foo": {
				"foo-bar": "baz"
			}
		},
		"expected": "baz",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 15,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 15,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "ID",
							"original": "foo/foo-bar",
							"parts": [
								"foo",
								"foo-bar"
							],
							"string": "foo.foo-bar",
							"depth": 0,
							"idName": "foo.foo-bar",
							"isSimple": false,
							"stringModeValue": "foo.foo-bar"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "ID",
						"original": "foo/foo-bar",
						"parts": [
							"foo",
							"foo-bar"
						],
						"string": "foo.foo-bar",
						"depth": 0,
						"idName": "foo.foo-bar",
						"isSimple": false,
						"stringModeValue": "foo.foo-bar"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo",
							"foo-bar"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "nested paths",
		"template": "Goodbye {{alan/expression}} world!",
		"data": {
			"alan": {
				"expression": "beautiful"
			}
		},
		"expected": "Goodbye beautiful world!",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 34,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 8,
					"lastLine": 1,
					"type": "content",
					"string": "Goodbye ",
					"original": "Goodbye "
				},
				{
					"firstLine": 1,
					"firstColumn": 8,
					"lastColumn": 27,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 25,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 25,
							"lastLine": 1,
							"type": "ID",
							"original": "alan/expression",
							"parts": [
								"alan",
								"expression"
							],
							"string": "alan.expression",
							"depth": 0,
							"idName": "alan.expression",
							"isSimple": false,
							"stringModeValue": "alan.expression"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 25,
						"lastLine": 1,
						"type": "ID",
						"original": "alan/expression",
						"parts": [
							"alan",
							"expression"
						],
						"string": "alan.expression",
						"depth": 0,
						"idName": "alan.expression",
						"isSimple": false,
						"stringModeValue": "alan.expression"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				},
				{
					"firstLine": 1,
					"firstColumn": 27,
					"lastColumn": 34,
					"lastLine": 1,
					"type": "content",
					"string": " world!",
					"original": " world!"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Goodbye "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"alan",
							"expression"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						" world!"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "nested paths with empty string value",
		"template": "Goodbye {{alan/expression}} world!",
		"data": {
			"alan": {
				"expression": ""
			}
		},
		"expected": "Goodbye  world!",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 34,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 8,
					"lastLine": 1,
					"type": "content",
					"string": "Goodbye ",
					"original": "Goodbye "
				},
				{
					"firstLine": 1,
					"firstColumn": 8,
					"lastColumn": 27,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 25,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 25,
							"lastLine": 1,
							"type": "ID",
							"original": "alan/expression",
							"parts": [
								"alan",
								"expression"
							],
							"string": "alan.expression",
							"depth": 0,
							"idName": "alan.expression",
							"isSimple": false,
							"stringModeValue": "alan.expression"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 25,
						"lastLine": 1,
						"type": "ID",
						"original": "alan/expression",
						"parts": [
							"alan",
							"expression"
						],
						"string": "alan.expression",
						"depth": 0,
						"idName": "alan.expression",
						"isSimple": false,
						"stringModeValue": "alan.expression"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				},
				{
					"firstLine": 1,
					"firstColumn": 27,
					"lastColumn": 34,
					"lastLine": 1,
					"type": "content",
					"string": " world!",
					"original": " world!"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Goodbye "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"alan",
							"expression"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						" world!"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "literal paths",
		"template": "Goodbye {{[@alan]/expression}} world!",
		"data": {
			"@alan": {
				"expression": "beautiful"
			}
		},
		"expected": "Goodbye beautiful world!",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 37,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 8,
					"lastLine": 1,
					"type": "content",
					"string": "Goodbye ",
					"original": "Goodbye "
				},
				{
					"firstLine": 1,
					"firstColumn": 8,
					"lastColumn": 30,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 28,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 28,
							"lastLine": 1,
							"type": "ID",
							"original": "@alan/expression",
							"parts": [
								"@alan",
								"expression"
							],
							"string": "@alan.expression",
							"depth": 0,
							"idName": "@alan.expression",
							"isSimple": false,
							"stringModeValue": "@alan.expression"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 28,
						"lastLine": 1,
						"type": "ID",
						"original": "@alan/expression",
						"parts": [
							"@alan",
							"expression"
						],
						"string": "@alan.expression",
						"depth": 0,
						"idName": "@alan.expression",
						"isSimple": false,
						"stringModeValue": "@alan.expression"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				},
				{
					"firstLine": 1,
					"firstColumn": 30,
					"lastColumn": 37,
					"lastLine": 1,
					"type": "content",
					"string": " world!",
					"original": " world!"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Goodbye "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"@alan",
							"expression"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						" world!"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "literal paths",
		"template": "Goodbye {{[foo bar]/expression}} world!",
		"data": {
			"foo bar": {
				"expression": "beautiful"
			}
		},
		"expected": "Goodbye beautiful world!",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 39,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 8,
					"lastLine": 1,
					"type": "content",
					"string": "Goodbye ",
					"original": "Goodbye "
				},
				{
					"firstLine": 1,
					"firstColumn": 8,
					"lastColumn": 32,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 30,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 30,
							"lastLine": 1,
							"type": "ID",
							"original": "foo bar/expression",
							"parts": [
								"foo bar",
								"expression"
							],
							"string": "foo bar.expression",
							"depth": 0,
							"idName": "foo bar.expression",
							"isSimple": false,
							"stringModeValue": "foo bar.expression"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 30,
						"lastLine": 1,
						"type": "ID",
						"original": "foo bar/expression",
						"parts": [
							"foo bar",
							"expression"
						],
						"string": "foo bar.expression",
						"depth": 0,
						"idName": "foo bar.expression",
						"isSimple": false,
						"stringModeValue": "foo bar.expression"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				},
				{
					"firstLine": 1,
					"firstColumn": 32,
					"lastColumn": 39,
					"lastLine": 1,
					"type": "content",
					"string": " world!",
					"original": " world!"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Goodbye "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo bar",
							"expression"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						" world!"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "literal references",
		"template": "Goodbye {{[foo bar]}} world!",
		"data": {
			"foo bar": "beautiful"
		},
		"expected": "Goodbye beautiful world!",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 28,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 8,
					"lastLine": 1,
					"type": "content",
					"string": "Goodbye ",
					"original": "Goodbye "
				},
				{
					"firstLine": 1,
					"firstColumn": 8,
					"lastColumn": 21,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 19,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 10,
							"lastColumn": 19,
							"lastLine": 1,
							"type": "ID",
							"original": "foo bar",
							"parts": [
								"foo bar"
							],
							"string": "foo bar",
							"depth": 0,
							"idName": "foo bar",
							"isSimple": true,
							"stringModeValue": "foo bar"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": true
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 10,
						"lastColumn": 19,
						"lastLine": 1,
						"type": "ID",
						"original": "foo bar",
						"parts": [
							"foo bar"
						],
						"string": "foo bar",
						"depth": 0,
						"idName": "foo bar",
						"isSimple": true,
						"stringModeValue": "foo bar"
					},
					"params": [],
					"eligibleHelper": true,
					"isHelper": false
				},
				{
					"firstLine": 1,
					"firstColumn": 21,
					"lastColumn": 28,
					"lastLine": 1,
					"type": "content",
					"string": " world!",
					"original": " world!"
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"Goodbye "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"foo bar"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"foo bar",
						false
					]
				},
				{
					"opcode": "appendEscaped",
					"args": []
				},
				{
					"opcode": "appendContent",
					"args": [
						" world!"
					]
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "that current context path ({{.}}) doesn't hit helpers",
		"template": "test: {{.}}",
		"data": null,
		"expected": "test: ",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 11,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 6,
					"lastLine": 1,
					"type": "content",
					"string": "test: ",
					"original": "test: "
				},
				{
					"firstLine": 1,
					"firstColumn": 6,
					"lastColumn": 11,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 8,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"isScoped": true,
							"original": ".",
							"parts": [],
							"string": "",
							"depth": 0,
							"idName": "",
							"isSimple": false,
							"stringModeValue": ""
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 8,
						"lastColumn": 9,
						"lastLine": 1,
						"type": "ID",
						"isScoped": true,
						"original": ".",
						"parts": [],
						"string": "",
						"depth": 0,
						"idName": "",
						"isSimple": false,
						"stringModeValue": ""
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "appendContent",
					"args": [
						"test: "
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushContext",
					"args": []
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": false
		}
	},
	{
		"description": "basic context",
		"it": "complex but empty paths",
		"template": "{{person/name}}",
		"data": {
			"person": {
				"name": null
			}
		},
		"expected": "",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 15,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 15,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "ID",
							"original": "person/name",
							"parts": [
								"person",
								"name"
							],
							"string": "person.name",
							"depth": 0,
							"idName": "person.name",
							"isSimple": false,
							"stringModeValue": "person.name"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "ID",
						"original": "person/name",
						"parts": [
							"person",
							"name"
						],
						"string": "person.name",
						"depth": 0,
						"idName": "person.name",
						"isSimple": false,
						"stringModeValue": "person.name"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"person",
							"name"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "complex but empty paths",
		"template": "{{person/name}}",
		"data": {
			"person": {}
		},
		"expected": "",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 15,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 15,
					"lastLine": 1,
					"type": "mustache",
					"strip": {
						"left": false,
						"right": false
					},
					"escaped": true,
					"sexpr": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "sexpr",
						"id": {
							"firstLine": 1,
							"firstColumn": 2,
							"lastColumn": 13,
							"lastLine": 1,
							"type": "ID",
							"original": "person/name",
							"parts": [
								"person",
								"name"
							],
							"string": "person.name",
							"depth": 0,
							"idName": "person.name",
							"isSimple": false,
							"stringModeValue": "person.name"
						},
						"params": [],
						"isHelper": false,
						"eligibleHelper": false
					},
					"id": {
						"firstLine": 1,
						"firstColumn": 2,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "ID",
						"original": "person/name",
						"parts": [
							"person",
							"name"
						],
						"string": "person.name",
						"depth": 0,
						"idName": "person.name",
						"isSimple": false,
						"stringModeValue": "person.name"
					},
					"params": [],
					"eligibleHelper": false,
					"isHelper": false
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"person",
							"name"
						],
						null,
						null
					]
				},
				{
					"opcode": "resolvePossibleLambda",
					"args": []
				},
				{
					"opcode": "appendEscaped",
					"args": []
				}
			],
			"children": [],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "this keyword in paths",
		"template": "{{#goodbyes}}{{this}}{{/goodbyes}}",
		"data": {
			"goodbyes": [
				"goodbye",
				"Goodbye",
				"GOODBYE"
			]
		},
		"expected": "goodbyeGoodbyeGOODBYE",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 34,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 34,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 11,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 11,
								"lastLine": 1,
								"type": "ID",
								"original": "goodbyes",
								"parts": [
									"goodbyes"
								],
								"string": "goodbyes",
								"depth": 0,
								"idName": "goodbyes",
								"isSimple": true,
								"stringModeValue": "goodbyes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 11,
							"lastLine": 1,
							"type": "ID",
							"original": "goodbyes",
							"parts": [
								"goodbyes"
							],
							"string": "goodbyes",
							"depth": 0,
							"idName": "goodbyes",
							"isSimple": true,
							"stringModeValue": "goodbyes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 21,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 13,
								"lastColumn": 21,
								"lastLine": 1,
								"type": "mustache",
								"strip": {
									"left": false,
									"right": false
								},
								"escaped": true,
								"sexpr": {
									"firstLine": 1,
									"firstColumn": 15,
									"lastColumn": 19,
									"lastLine": 1,
									"type": "sexpr",
									"id": {
										"firstLine": 1,
										"firstColumn": 15,
										"lastColumn": 19,
										"lastLine": 1,
										"type": "ID",
										"isScoped": true,
										"original": "this",
										"parts": [],
										"string": "",
										"depth": 0,
										"idName": "",
										"isSimple": false,
										"stringModeValue": ""
									},
									"params": [],
									"isHelper": false,
									"eligibleHelper": false
								},
								"id": {
									"firstLine": 1,
									"firstColumn": 15,
									"lastColumn": 19,
									"lastLine": 1,
									"type": "ID",
									"isScoped": true,
									"original": "this",
									"parts": [],
									"string": "",
									"depth": 0,
									"idName": "",
									"isSimple": false,
									"stringModeValue": ""
								},
								"params": [],
								"eligibleHelper": false,
								"isHelper": false
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "resolvePossibleLambda",
							"args": []
						},
						{
							"opcode": "appendEscaped",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "this keyword in paths",
		"template": "{{#hellos}}{{this/text}}{{/hellos}}",
		"data": {
			"hellos": [
				{
					"text": "hello"
				},
				{
					"text": "Hello"
				},
				{
					"text": "HELLO"
				}
			]
		},
		"expected": "helloHelloHELLO",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 35,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 35,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 11,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 9,
								"lastLine": 1,
								"type": "ID",
								"original": "hellos",
								"parts": [
									"hellos"
								],
								"string": "hellos",
								"depth": 0,
								"idName": "hellos",
								"isSimple": true,
								"stringModeValue": "hellos"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"original": "hellos",
							"parts": [
								"hellos"
							],
							"string": "hellos",
							"depth": 0,
							"idName": "hellos",
							"isSimple": true,
							"stringModeValue": "hellos"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 24,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 11,
								"lastColumn": 24,
								"lastLine": 1,
								"type": "mustache",
								"strip": {
									"left": false,
									"right": false
								},
								"escaped": true,
								"sexpr": {
									"firstLine": 1,
									"firstColumn": 13,
									"lastColumn": 22,
									"lastLine": 1,
									"type": "sexpr",
									"id": {
										"firstLine": 1,
										"firstColumn": 13,
										"lastColumn": 22,
										"lastLine": 1,
										"type": "ID",
										"isScoped": true,
										"original": "this/text",
										"parts": [
											"text"
										],
										"string": "text",
										"depth": 0,
										"idName": "text",
										"isSimple": false,
										"stringModeValue": "text"
									},
									"params": [],
									"isHelper": false,
									"eligibleHelper": false
								},
								"id": {
									"firstLine": 1,
									"firstColumn": 13,
									"lastColumn": 22,
									"lastLine": 1,
									"type": "ID",
									"isScoped": true,
									"original": "this/text",
									"parts": [
										"text"
									],
									"string": "text",
									"depth": 0,
									"idName": "text",
									"isSimple": false,
									"stringModeValue": "text"
								},
								"params": [],
								"eligibleHelper": false,
								"isHelper": false
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hellos"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"hellos",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"text"
								],
								null,
								true
							]
						},
						{
							"opcode": "resolvePossibleLambda",
							"args": []
						},
						{
							"opcode": "appendEscaped",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "this keyword in helpers",
		"template": "{{#goodbyes}}{{foo this}}{{/goodbyes}}",
		"data": {
			"goodbyes": [
				"goodbye",
				"Goodbye",
				"GOODBYE"
			]
		},
		"helpers": {
			"foo": {
				"!code": true,
				"javascript": "function (value) {\n        return 'bar ' + value;\n    }",
				"php": "function($value) { return 'bar ' . $value; }"
			}
		},
		"expected": "bar goodbyebar Goodbyebar GOODBYE",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 38,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 38,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 13,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 11,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 11,
								"lastLine": 1,
								"type": "ID",
								"original": "goodbyes",
								"parts": [
									"goodbyes"
								],
								"string": "goodbyes",
								"depth": 0,
								"idName": "goodbyes",
								"isSimple": true,
								"stringModeValue": "goodbyes"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 11,
							"lastLine": 1,
							"type": "ID",
							"original": "goodbyes",
							"parts": [
								"goodbyes"
							],
							"string": "goodbyes",
							"depth": 0,
							"idName": "goodbyes",
							"isSimple": true,
							"stringModeValue": "goodbyes"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 25,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 13,
								"lastColumn": 25,
								"lastLine": 1,
								"type": "mustache",
								"strip": {
									"left": false,
									"right": false
								},
								"escaped": true,
								"sexpr": {
									"firstLine": 1,
									"firstColumn": 15,
									"lastColumn": 23,
									"lastLine": 1,
									"type": "sexpr",
									"id": {
										"firstLine": 1,
										"firstColumn": 15,
										"lastColumn": 18,
										"lastLine": 1,
										"type": "ID",
										"original": "foo",
										"parts": [
											"foo"
										],
										"string": "foo",
										"depth": 0,
										"idName": "foo",
										"isSimple": true,
										"stringModeValue": "foo"
									},
									"params": [
										{
											"firstLine": 1,
											"firstColumn": 19,
											"lastColumn": 23,
											"lastLine": 1,
											"type": "ID",
											"isScoped": true,
											"original": "this",
											"parts": [],
											"string": "",
											"depth": 0,
											"idName": "",
											"isSimple": false,
											"stringModeValue": ""
										}
									],
									"isHelper": true,
									"eligibleHelper": true
								},
								"id": {
									"firstLine": 1,
									"firstColumn": 15,
									"lastColumn": 18,
									"lastLine": 1,
									"type": "ID",
									"original": "foo",
									"parts": [
										"foo"
									],
									"string": "foo",
									"depth": 0,
									"idName": "foo",
									"isSimple": true,
									"stringModeValue": "foo"
								},
								"params": [
									{
										"firstLine": 1,
										"firstColumn": 19,
										"lastColumn": 23,
										"lastLine": 1,
										"type": "ID",
										"isScoped": true,
										"original": "this",
										"parts": [],
										"string": "",
										"depth": 0,
										"idName": "",
										"isSimple": false,
										"stringModeValue": ""
									}
								],
								"eligibleHelper": true,
								"isHelper": true
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"goodbyes"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"goodbyes",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "pushContext",
							"args": []
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							]
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							]
						},
						{
							"opcode": "emptyHash",
							"args": []
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"foo"
								],
								true,
								null
							]
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"foo",
								true
							]
						},
						{
							"opcode": "appendEscaped",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	},
	{
		"description": "basic context",
		"it": "this keyword in helpers",
		"template": "{{#hellos}}{{foo this/text}}{{/hellos}}",
		"data": {
			"hellos": [
				{
					"text": "hello"
				},
				{
					"text": "Hello"
				},
				{
					"text": "HELLO"
				}
			]
		},
		"helpers": {
			"foo": {
				"!code": true,
				"javascript": "function (value) {\n        return 'bar ' + value;\n    }",
				"php": "function($value) { return 'bar ' . $value; }"
			}
		},
		"expected": "bar hellobar Hellobar HELLO",
		"ast": {
			"firstLine": 1,
			"firstColumn": 0,
			"lastColumn": 39,
			"lastLine": 1,
			"type": "program",
			"statements": [
				{
					"firstLine": 1,
					"firstColumn": 0,
					"lastColumn": 39,
					"lastLine": 1,
					"type": "block",
					"mustache": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 11,
						"lastLine": 1,
						"type": "mustache",
						"strip": {
							"left": false,
							"right": false
						},
						"escaped": true,
						"sexpr": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "sexpr",
							"id": {
								"firstLine": 1,
								"firstColumn": 3,
								"lastColumn": 9,
								"lastLine": 1,
								"type": "ID",
								"original": "hellos",
								"parts": [
									"hellos"
								],
								"string": "hellos",
								"depth": 0,
								"idName": "hellos",
								"isSimple": true,
								"stringModeValue": "hellos"
							},
							"params": [],
							"isHelper": false,
							"eligibleHelper": true
						},
						"id": {
							"firstLine": 1,
							"firstColumn": 3,
							"lastColumn": 9,
							"lastLine": 1,
							"type": "ID",
							"original": "hellos",
							"parts": [
								"hellos"
							],
							"string": "hellos",
							"depth": 0,
							"idName": "hellos",
							"isSimple": true,
							"stringModeValue": "hellos"
						},
						"params": [],
						"eligibleHelper": true,
						"isHelper": false
					},
					"program": {
						"firstLine": 1,
						"firstColumn": 0,
						"lastColumn": 28,
						"lastLine": 1,
						"type": "program",
						"statements": [
							{
								"firstLine": 1,
								"firstColumn": 11,
								"lastColumn": 28,
								"lastLine": 1,
								"type": "mustache",
								"strip": {
									"left": false,
									"right": false
								},
								"escaped": true,
								"sexpr": {
									"firstLine": 1,
									"firstColumn": 13,
									"lastColumn": 26,
									"lastLine": 1,
									"type": "sexpr",
									"id": {
										"firstLine": 1,
										"firstColumn": 13,
										"lastColumn": 16,
										"lastLine": 1,
										"type": "ID",
										"original": "foo",
										"parts": [
											"foo"
										],
										"string": "foo",
										"depth": 0,
										"idName": "foo",
										"isSimple": true,
										"stringModeValue": "foo"
									},
									"params": [
										{
											"firstLine": 1,
											"firstColumn": 17,
											"lastColumn": 26,
											"lastLine": 1,
											"type": "ID",
											"isScoped": true,
											"original": "this/text",
											"parts": [
												"text"
											],
											"string": "text",
											"depth": 0,
											"idName": "text",
											"isSimple": false,
											"stringModeValue": "text"
										}
									],
									"isHelper": true,
									"eligibleHelper": true
								},
								"id": {
									"firstLine": 1,
									"firstColumn": 13,
									"lastColumn": 16,
									"lastLine": 1,
									"type": "ID",
									"original": "foo",
									"parts": [
										"foo"
									],
									"string": "foo",
									"depth": 0,
									"idName": "foo",
									"isSimple": true,
									"stringModeValue": "foo"
								},
								"params": [
									{
										"firstLine": 1,
										"firstColumn": 17,
										"lastColumn": 26,
										"lastLine": 1,
										"type": "ID",
										"isScoped": true,
										"original": "this/text",
										"parts": [
											"text"
										],
										"string": "text",
										"depth": 0,
										"idName": "text",
										"isSimple": false,
										"stringModeValue": "text"
									}
								],
								"eligibleHelper": true,
								"isHelper": true
							}
						],
						"strip": {}
					},
					"strip": {
						"left": false,
						"right": false
					}
				}
			],
			"strip": {}
		},
		"opcodes": {
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "getContext",
					"args": [
						0
					]
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"hellos"
						],
						null,
						null
					]
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"hellos",
						true
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					]
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					]
				},
				{
					"opcode": "emptyHash",
					"args": []
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": []
				},
				{
					"opcode": "append",
					"args": []
				}
			],
			"children": [
				{
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"text"
								],
								null,
								true
							]
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							]
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							]
						},
						{
							"opcode": "emptyHash",
							"args": []
						},
						{
							"opcode": "getContext",
							"args": [
								0
							]
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"foo"
								],
								true,
								null
							]
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"foo",
								true
							]
						},
						{
							"opcode": "appendEscaped",
							"args": []
						}
					],
					"children": [],
					"depths": {
						"list": []
					},
					"options": {
						"data": true,
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true
				}
			],
			"depths": {
				"list": []
			},
			"options": {
				"data": true,
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true
		}
	}
]